(this.webpackJsonpspotless=this.webpackJsonpspotless||[]).push([[0],{101:function(e,a,t){e.exports={semiBold:"DashboardPage_semiBold__1wP56",stat:"DashboardPage_stat__1HNGL",keyStat:"DashboardPage_keyStat__3TqkO",subtitle:"DashboardPage_subtitle__SKIyw"}},105:function(e,a,t){e.exports={dot:"StatusDot_dot__1rSYH",good:"StatusDot_good__1GIEp",medium:"StatusDot_medium__3zBB3",critical:"StatusDot_critical__23vOC",neutral:"StatusDot_neutral__1H6OR",tiny:"StatusDot_tiny__33nQ5",small:"StatusDot_small__1yc1L"}},14:function(e,a,t){e.exports={titleRow:"RoomDetailsPage_titleRow__JoTlm",content:"RoomDetailsPage_content__2CxAu",card:"RoomDetailsPage_card__2J4HU",cardContent:"RoomDetailsPage_cardContent__1soEX",detailsRow:"RoomDetailsPage_detailsRow__3fj0E",row:"RoomDetailsPage_row__PCQ4C",divider:"RoomDetailsPage_divider__hWVez",semiBold:"RoomDetailsPage_semiBold__24ERR",medium:"RoomDetailsPage_medium__3Rnxk",critical:"RoomDetailsPage_critical__2gPiW",btn:"RoomDetailsPage_btn__3tYWx",comments:"RoomDetailsPage_comments__1nTSD",comment:"RoomDetailsPage_comment__1rwNF",author:"RoomDetailsPage_author__tbk-d"}},153:function(e,a,t){e.exports={pageContainer:"PageContainer_pageContainer__iX86t",pageContent:"PageContainer_pageContent__1wPf8"}},157:function(e,a,t){e.exports={title:"AssignmentsPage_title__3UMlB"}},173:function(e,a,t){e.exports={autocomplete:"CleanerSelect_autocomplete__2dss4"}},174:function(e,a,t){e.exports={good:"CleaningReportTable_good__2fi-5"}},191:function(e,a,t){e.exports=t(205)},196:function(e,a,t){},197:function(e,a,t){},205:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(16),l=t.n(c),o=(t(196),t(197),t(18)),i=t(7),s=t.n(i),m=t(13),u="zL43mXgXk5xa7YFRBVZscbLnGFaqVh24q5G6fhGjmAv532FAVBRtnuCJpwXWXnhw",d="https://cleaner-app-api.azurewebsites.net/api/",p=Object.freeze({OFFICE:{frequency:1,cleaningTime:5,displayName:"Office"},TOILET:{frequency:5,cleaningTime:5,displayName:"Toilet"},WARD_ROOM:{frequency:5,cleaningTime:8,displayName:"Ward room"},EXAMINATION_ROOM:{frequency:5,cleaningTime:6,displayName:"Examination room"},CORRIDOR:{frequency:3,cleaningTime:9,displayName:"Corridor"},WAITING_ROOM:{frequency:5,cleaningTime:10,displayName:"Waiting room"}}),f=function(){var e=Object(m.a)(s.a.mark((function e(a,t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"rooms",r=a?"?hospital_id=".concat(a):"",r+=t?"?floor_id=".concat(t):"",r+=n?"?assigned_cleaners=1":"",e.abrupt("return",P("rooms",r));case 5:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P("hospitals"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P("cleaners/rooms?cleaner_id=".concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),h=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P("cleaners/rooms?room_id=".concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),b=function(){var e=Object(m.a)(s.a.mark((function e(a,t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(a.map((function(e){return v(e._id,t)}))));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),v=function(){var e=Object(m.a)(s.a.mark((function e(a,t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R("cleaners/rooms",JSON.stringify({cleaner_id:t,room_id:a})));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),_=function(){var e=Object(m.a)(s.a.mark((function e(a,t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D("cleaners/rooms",JSON.stringify({cleaner_id:t,room_id:a})));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),y=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P("room?_id=".concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P("cleaners/"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P("cleaner?_id=".concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),w=function(){var e=Object(m.a)(s.a.mark((function e(a,t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R("cleaner/",JSON.stringify({name:a,shift_start:t,shift_end:n})));case 1:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(m.a)(s.a.mark((function e(a,t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a?"?room_id=".concat(a):"",n+=t?"?cleaner_id=".concat(t):"",e.abrupt("return",P("reports",n));case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D("cleaner",JSON.stringify({_id:a})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),S=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P("report?_id=".concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(s.a.mark((function e(a,t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+"report/heatmap?_id=".concat(a,"&type=").concat(t),e.next=3,fetch(n,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:u,charset:"utf-8"}});case 3:if(!(r=e.sent).ok){e.next=8;break}return e.abrupt("return",r);case 8:return e.t0=Error,e.next=11,r.json().message;case 11:throw e.t1=e.sent,new e.t0(e.t1);case 13:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),k=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A("cleaner/",JSON.stringify({_id:a._id,name:a.name,shift_start:a.shift_start,shift_end:a.shift_end})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),P=function(){var e=Object(m.a)(s.a.mark((function e(a,t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+a+(t||""),console.log(n),e.next=4,fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:u,charset:"utf-8"}});case 4:if(!(r=e.sent).ok){e.next=9;break}return e.abrupt("return",r.json());case 9:return e.t0=Error,e.next=12,r.json().message;case 12:throw e.t1=e.sent,new e.t0(e.t1);case 14:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),R=function(){var e=Object(m.a)(s.a.mark((function e(a,t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+a,console.log(n),e.next=4,fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:u,charset:"utf-8"},body:t});case 4:if(!(r=e.sent).ok){e.next=9;break}return e.abrupt("return",r.json());case 9:return e.t0=Error,e.next=12,r.json().message;case 12:throw e.t1=e.sent,new e.t0(e.t1);case 14:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(s.a.mark((function e(a,t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+a,e.next=3,fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:u,charset:"utf-8"},body:t});case 3:if(!(r=e.sent).ok){e.next=8;break}return e.abrupt("return",r.json());case 8:return e.t0=Error,e.next=11,r.json().message;case 11:throw e.t1=e.sent,new e.t0(e.t1);case 13:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),A=function(){var e=Object(m.a)(s.a.mark((function e(a,t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+a,console.log(n),e.next=4,fetch(n,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:u,charset:"utf-8"},body:t});case 4:if(!(r=e.sent).ok){e.next=9;break}return e.abrupt("return",r.json());case 9:return e.t0=Error,e.next=12,r.json().message;case 12:throw e.t1=e.sent,new e.t0(e.t1);case 14:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),B=t(82),z=t(153),T=t.n(z),H=function(e){var a=e.children,t=e.style;return r.a.createElement("div",{className:T.a.pageContainer},r.a.createElement("div",{className:T.a.pageContent,style:t},a))},I=t(101),F=t.n(I),M=t(265),L=function(e){var a=e.value,t=e.subtitle,n=e.color;return r.a.createElement("div",{className:F.a.stat},r.a.createElement("div",{className:F.a.keyStat},r.a.createElement(B.a,{variant:"h4",style:{color:n}},a)),r.a.createElement(B.a,{variant:"body2",className:F.a.subtitle},t))},Y=function(){return r.a.createElement(H,{style:{textAlign:"start"}},r.a.createElement(M.a,{container:!0,spacing:6},r.a.createElement(M.a,{item:!0,xs:5},r.a.createElement(B.a,{variant:"h5",className:F.a.semiBold},"Alerts")),r.a.createElement(M.a,{item:!0,xs:3},r.a.createElement(M.a,{container:!0,spacing:4},r.a.createElement(M.a,{item:!0,xs:!0},r.a.createElement(L,{subtitle:"Rooms cleaned today",value:1,color:"#27AE60"})),r.a.createElement(M.a,{item:!0,xs:!0},r.a.createElement(L,{subtitle:"Average contamination index",value:50,color:"#F2C94C"})),r.a.createElement(M.a,{item:!0,xs:!0},r.a.createElement(L,{subtitle:"Green rooms",value:0,color:"#27AE60"})),r.a.createElement(M.a,{item:!0,xs:!0},r.a.createElement(L,{subtitle:"Red rooms",value:4,color:"#EB5757"})))),r.a.createElement(M.a,{item:!0,xs:4})))},W=t(9),G=t(267),q=t(212),J=t(316),X=t(270),V=t(271),U=t(272),K=t(273),Q=t(274),Z=t(178),$=t(275),ee=t(276),ae=t(277),te=t(278),ne=t(279),re=t(268),ce=t(280),le=t(79),oe=t.n(le),ie=t(80),se=t(27),me=t(52),ue=t(315),de=t(312),pe=t(269),fe=t(115),Ee=t(317),ge=t(69),he=t.n(ge),be=function(){return r.a.createElement(M.a,{item:!0,xs:!0,className:he.a.row},r.a.createElement("div",null,r.a.createElement(B.a,{variant:"body1"},"Shift start"),r.a.createElement("div",{className:he.a.row},r.a.createElement(se.a,{component:me.a,inputProps:{menuprops:{classes:{paper:he.a.menu}}},name:"startHour"},Object(fe.a)(Array(24).keys()).map((function(e){var a=e.toString().padStart(2,"0");return r.a.createElement(Ee.a,{key:e,value:a},a)}))),r.a.createElement(B.a,{variant:"h6"},":"),r.a.createElement(se.a,{component:me.a,inputProps:{menuprops:{classes:{paper:he.a.menu}}},name:"startMinutes"},["00",15,30,45].map((function(e){return r.a.createElement(Ee.a,{key:e,value:e.toString()},e)}))))),r.a.createElement(B.a,{variant:"h4",style:{margin:"0 16px"}},"-"),r.a.createElement("div",null,r.a.createElement(B.a,{variant:"body1"},"Shift end"),r.a.createElement("div",{className:he.a.row},r.a.createElement(se.a,{component:me.a,inputProps:{menuprops:{classes:{paper:he.a.menu}}},name:"endHour"},Object(fe.a)(Array(23).keys()).map((function(e){return r.a.createElement(Ee.a,{key:e,value:e.toString()},e)}))),r.a.createElement(B.a,{variant:"body1"},":"),r.a.createElement(se.a,{component:me.a,inputProps:{menuprops:{classes:{paper:he.a.menu}}},name:"endMinutes"},["00",15,30,45].map((function(e){return r.a.createElement(Ee.a,{key:e,value:e.toString()},e)}))))))},ve=ie.a({firstName:ie.b().required("First name is required"),lastName:ie.b().required("Last name is required")}),_e=function(e){var a=e.open,t=e.setOpen,n=e.setIsLoaded,c=e.setSnackOpen,l=function(){t(!1)},o=function(){var e=Object(m.a)(s.a.mark((function e(a,r){var l,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=r.setSubmitting,e.next=3,w("".concat(a.firstName," ").concat(a.lastName),"".concat(a.startHour.padStart(2,"0"),":").concat(a.startMinutes.padStart(2,"0")),"".concat(a.endHour.padStart(2,"0"),":").concat(a.endMinutes.padStart(2,"0")));case 3:o=e.sent,console.log(o),n(!1),l(!1),c(!0),t(!1);case 9:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement(J.a,{open:a,onClose:l,"aria-labelledby":"form-dialog-title"},r.a.createElement(X.a,{id:"form-dialog-title"},"Create a new cleaner"),r.a.createElement(se.c,{initialValues:{firstName:"",lastName:"",startHour:"08",endHour:"16",startMinutes:"00",endMinutes:"00"},onSubmit:o,validationSchema:ve},(function(e){e.isSubmitting,e.resetForm,e.values;return r.a.createElement(se.b,null,r.a.createElement(V.a,null,r.a.createElement(M.a,{container:!0,spacing:2},r.a.createElement(M.a,{item:!0,xs:6},r.a.createElement(se.a,{component:me.b,autoFocus:!0,margin:"dense",id:"name",label:"First name",type:"text",name:"firstName",fullWidth:!0})),r.a.createElement(M.a,{item:!0,xs:6},r.a.createElement(se.a,{component:me.b,margin:"dense",id:"name",label:"Last name",type:"text",name:"lastName",fullWidth:!0})),r.a.createElement(be,null))),r.a.createElement(U.a,null,r.a.createElement(K.a,{onClick:l,color:"primary"},"Cancel"),r.a.createElement(K.a,{type:"submit",color:"primary"},"Create cleaner")))})))},ye=function(e){var a=e.cleaners,t=Object(o.g)();return r.a.createElement(Q.a,{component:Z.a},r.a.createElement($.a,{size:"small"},r.a.createElement(ee.a,null,r.a.createElement(ae.a,null,r.a.createElement(te.a,null,"Name"),r.a.createElement(te.a,{align:"right"},"Shift start"),r.a.createElement(te.a,{align:"right"},"Shift end"),r.a.createElement(te.a,{align:"right"},"Cleaning percent"),r.a.createElement(te.a,{align:"right"},"Current location"),r.a.createElement(te.a,{align:"right"},"Status"),r.a.createElement(te.a,null,"Action"))),r.a.createElement(ne.a,null,a.map((function(e){return r.a.createElement(ae.a,{key:e._id},r.a.createElement(te.a,{component:"th",scope:"row"},e.name),r.a.createElement(te.a,{align:"right"},e.shift_start),r.a.createElement(te.a,{align:"right"},e.shift_end),r.a.createElement(te.a,{align:"right"}),r.a.createElement(te.a,{align:"right"}),r.a.createElement(te.a,{align:"right"}),r.a.createElement(te.a,null,r.a.createElement(q.a,{size:"small",color:"secondary",onClick:function(){!function(e){var a=e._id;t.push({pathname:"/cleaners/".concat(a),state:{id:a}})}(e)}},r.a.createElement(ce.a,null))))})))))},Oe=function(){var e=Object(n.useState)([]),a=Object(W.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(!1),o=Object(W.a)(l,2),i=o[0],s=o[1],m=r.a.useState(!1),u=Object(W.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)(!1),E=Object(W.a)(f,2),g=E[0],h=E[1];Object(n.useEffect)((function(){O().then((function(e){console.log(e),c(e),s(!0)}),(function(e){console.log(e)}))}),[p,i]);var b=function(e,a){"clickaway"!==a&&h(!1)};return r.a.createElement(H,{style:{textAlign:"start"}},r.a.createElement("div",{className:oe.a.headerRow},r.a.createElement(B.a,{variant:"h5",className:oe.a.bold},"Cleaners"),r.a.createElement(G.a,{title:"Add cleaner"},r.a.createElement(q.a,{onClick:function(){return p(!0)}},r.a.createElement(re.a,null)))),i?r.a.createElement(ye,{cleaners:t}):r.a.createElement(pe.a,{color:"secondary",style:{margin:"16px auto"}}),r.a.createElement(B.a,{variant:"h5",className:oe.a.bold,style:{marginTop:24}},"Unassigned rooms"),r.a.createElement(_e,{open:d,setOpen:p,setIsLoaded:s,setSnackOpen:h}),r.a.createElement(ue.a,{open:g,autoHideDuration:6e3,onClose:b,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(de.a,{variant:"filled",severity:"success",onClose:b},"Cleaner created")))},je=t(310),we=t(281),Ce=t(282),xe=t(284),Se=t(19),Ne=t(4),ke=t(46),Pe=t.n(ke),Re=t(283),De=t(285),Ae=t(286),Be=t(287),ze=t(288),Te=t(289),He=Object(Ne.a)({root:{width:"100%",flexGrow:1},indicator:{display:"flex",justifyContent:"center",backgroundColor:"transparent",marginBottom:"4px","& > span":{width:"40%",backgroundColor:"#00b0ff",borderTopLeftRadius:4,borderTopRightRadius:4}}})((function(e){return r.a.createElement(je.a,Object.assign({},e,{TabIndicatorProps:{children:r.a.createElement("span",null)}}))})),Ie=function(){var e=Object(o.h)(),a=Object(o.g)(),t=function(e,a){return function(t){return Object(o.f)(e.pathname,{path:t,exact:!1,strict:!1})?a:-1}}(e,"myTabId");return r.a.createElement(we.a,{position:"static"},r.a.createElement(Ce.a,{variant:"dense"},r.a.createElement("div",{className:Pe.a.toolbar},e.pathname.split("/").length>2?r.a.createElement(G.a,{title:"Go Back"},r.a.createElement(q.a,{onClick:function(){a.goBack()}},r.a.createElement(Re.a,{className:Pe.a.svg}))):r.a.createElement("div",{style:{width:40}}),r.a.createElement(B.a,{variant:"h6",className:Pe.a.name},"Spotless")),r.a.createElement(He,{variant:"fullWidth",value:"myTabId"},r.a.createElement(xe.a,{label:r.a.createElement("div",{className:Pe.a.tab},r.a.createElement(De.a,{fontSize:"small"})," Dashboard"),value:t("/dashboard"),component:Se.b,to:"/dashboard",disableRipple:!0}),r.a.createElement(xe.a,{label:r.a.createElement("div",{className:Pe.a.tab},r.a.createElement(Ae.a,{fontSize:"small"})," Assignments"),value:t("/assignments"),component:Se.b,to:"/assignments",disableRipple:!0,className:Pe.a.tab}),r.a.createElement(xe.a,{label:r.a.createElement("div",{className:Pe.a.tab},r.a.createElement(Be.a,{fontSize:"small"})," Cleaners"),value:t("/cleaners"),component:Se.b,to:"/cleaners",disableRipple:!0,className:Pe.a.tab}),r.a.createElement(xe.a,{label:r.a.createElement("div",{className:Pe.a.tab},r.a.createElement(ze.a,{fontSize:"small"})," Rooms"),value:t("/rooms"),component:Se.b,to:"/rooms",disableRipple:!0}),r.a.createElement(xe.a,{label:r.a.createElement("div",{className:Pe.a.tab},r.a.createElement(Te.a,{fontSize:"small"})," Analysis"),value:t("/analysis"),component:Se.b,to:"/analysis",disableRipple:!0,className:Pe.a.tab}))))},Fe=function(){return r.a.createElement("div",null,"Analysis")},Me=t(208),Le=t(216),Ye=t(215),We=t(44),Ge=t.n(We),qe=function(e,a){return"<empty>"!==e.room_type?p[e.room_type][a]:""},Je=function(e){var a=e.rooms,t=Object(o.g)();return r.a.createElement(Q.a,{component:Z.a},r.a.createElement($.a,{size:"small"},r.a.createElement(ee.a,null,r.a.createElement(ae.a,null,r.a.createElement(te.a,null,"Name"),r.a.createElement(te.a,{align:"right"},"Building"),r.a.createElement(te.a,{align:"right"},"Floor"),r.a.createElement(te.a,{align:"right"},"Contamination index"),r.a.createElement(te.a,{align:"right"},"Has Patient"),r.a.createElement(te.a,{align:"right"},"Room type"),r.a.createElement(te.a,{align:"right"},"Last cleaned"),r.a.createElement(te.a,null,"Action"))),r.a.createElement(ne.a,null,a.map((function(e){return r.a.createElement(ae.a,{key:e._id},r.a.createElement(te.a,{component:"th",scope:"row"},e.name),r.a.createElement(te.a,{align:"right"},e.building),r.a.createElement(te.a,{align:"right"},e.floor),r.a.createElement(te.a,{align:"right"},e.contamination_index),r.a.createElement(te.a,{align:"right"},"<empty>"===e.patient?"No":"Yes"),r.a.createElement(te.a,{align:"right"},qe(e,"displayName")),r.a.createElement(te.a,{align:"right"},(a=e.last_cleaned)?Ge()(a).format("YYYY-MM-DD HH:mm:ss"):"Never"),r.a.createElement(te.a,null,r.a.createElement(q.a,{size:"small",color:"secondary",onClick:function(){!function(e){var a=e._id;t.push({pathname:"/rooms/".concat(a),state:{id:a}})}(e)}},r.a.createElement(ce.a,null))));var a})))))},Xe=function(){var e=Object(n.useState)(null),a=Object(W.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(!1),o=Object(W.a)(l,2),i=o[0],s=o[1],m=Object(n.useState)([]),u=Object(W.a)(m,2),d=u[0],p=u[1],g=Object(n.useState)([]),h=Object(W.a)(g,2),b=h[0],v=h[1],_=Object(n.useState)(""),y=Object(W.a)(_,2),O=y[0],j=y[1];Object(n.useEffect)((function(){E("hospital0").then((function(e){console.log(e),s(!0),v(e)}),(function(e){c(!0),s(!0),console.log(e)}))}),[]);return r.a.createElement(H,null,r.a.createElement("div",{className:oe.a.headerRow},r.a.createElement(B.a,{variant:"h5",className:oe.a.bold},"Rooms"),i?r.a.createElement(Me.a,{variant:"outlined",style:{minWidth:"320px",margin:"8px"}},r.a.createElement(Le.a,{id:"demo-simple-select-outlined-label"},"Select hospital"),r.a.createElement(Ye.a,{label:"Select Hospital",onChange:function(e){j(e.target.value),f(e.target.value._id).then((function(e){console.log(e),p(e)}),(function(e){c(!0),s(!0),console.log(e)}))},value:O},r.a.createElement(Ee.a,{value:{}},r.a.createElement("em",null,"None")),b.map((function(e){return r.a.createElement(Ee.a,{value:e,key:e._id},e.name)})))):r.a.createElement(pe.a,{color:"secondary"})),d.length>0&&r.a.createElement(Je,{rooms:d}),t&&r.a.createElement("p",null,"ERROR"))},Ve=t(135),Ue=t(3),Ke=t(290),Qe=t(8),Ze=t(314),$e=t(318),ea=t(319),aa=t(291);function ta(e,a,t){return void 0===e[t]?1:a[t]<e[t]?-1:a[t]>e[t]?1:0}var na=t(157),ra=t.n(na),ca=t(158),la=t(311),oa=t(266),ia=t(173),sa=t.n(ia),ma=function(e){var a=e.onChange,t=e.style,c=Object(n.useState)([]),l=Object(W.a)(c,2),o=l[0],i=l[1],u=Object(n.useState)(!1),d=Object(W.a)(u,2),p=d[0],f=d[1],E=Object(n.useState)(null),g=Object(W.a)(E,2),h=g[0],b=g[1],v=p&&0===o.length;Object(n.useEffect)((function(){var e=!0;if(v)return Object(m.a)(s.a.mark((function a(){var t;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O();case 2:t=a.sent,e&&i(t);case 4:case"end":return a.stop()}}),a)})))(),function(){e=!1}}),[v]);return r.a.createElement(la.a,{open:p,onOpen:function(){f(!0)},onClose:function(){f(!1)},className:sa.a.autocomplete,style:t,getOptionLabel:function(e){return e.name||""},options:o,loading:v,value:h,onChange:function(e,t){b(t),a(e,t)},renderInput:function(e){return r.a.createElement(oa.a,Object.assign({},e,{label:"Cleaner",variant:"outlined",InputProps:Object(ca.a)(Object(ca.a)({},e.InputProps),{},{endAdornment:r.a.createElement(r.a.Fragment,null,v?r.a.createElement(pe.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})},ua=function(e){var a=e.open,t=e.setOpen,c=e.selected,l=e.setSnackOpen,o=e.onClose,i=Object(n.useState)(null),u=Object(W.a)(i,2),d=u[0],p=u[1],f=function(){o(),t(!1)},E=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(c,d._id);case 2:console.log(d),l(!0),f();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(J.a,{open:a,onClose:f,"aria-labelledby":"form-dialog-title",disableBackdropClick:!0},r.a.createElement(X.a,{id:"form-dialog-title"},"Select a cleaner"),r.a.createElement(V.a,null,r.a.createElement(ma,{onChange:function(e,a){p(a)}})),r.a.createElement(U.a,null,r.a.createElement(K.a,{onClick:f,color:"primary"},"Cancel"),r.a.createElement(K.a,{color:"primary",onClick:E,disabled:""===d},"Assign")))},da=t(292),pa=[{id:"name",numeric:!1,disablePadding:!0,label:"Name"},{id:"building",numeric:!0,disablePadding:!1,label:"Building"},{id:"floor",numeric:!0,disablePadding:!1,label:"Floor"},{id:"cleaner",numeric:!1,disablePadding:!1,label:"Assigned Cleaner"},{id:"contamination_index",numeric:!0,disablePadding:!1,label:"Contamination index"},{id:"has_patient",numeric:!1,disablePadding:!1,label:"Has patient"},{id:"room_type",numeric:!1,disablePadding:!1,label:"Room type"},{id:"last_cleaned",numeric:!0,disablePadding:!1,label:"Last cleaned"},{id:"action",numeric:!0,disablePadding:!1,label:"Action"}];function fa(e){var a=e.classes,t=e.onSelectAllClick,n=e.order,c=e.orderBy,l=e.numSelected,o=e.rowCount,i=e.onRequestSort;return r.a.createElement(ee.a,null,r.a.createElement(ae.a,null,r.a.createElement(te.a,{padding:"checkbox"},r.a.createElement(Ze.a,{indeterminate:l>0&&l<o,checked:o>0&&l===o,onChange:t,inputProps:{"aria-label":"select all desserts"}})),pa.map((function(e){return r.a.createElement(te.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:c===e.id&&n},r.a.createElement($e.a,{active:c===e.id,direction:c===e.id?n:"asc",onClick:(t=e.id,function(e){i(e,t)})},e.label,c===e.id?r.a.createElement("span",{className:a.visuallyHidden},"desc"===n?"sorted descending":"sorted ascending"):null));var t}))))}var Ea=Object(Ke.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1),textAlign:"left"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Qe.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark}}})),ga=function(e){var a=Ea(),t=e.numSelected,n=e.selected,c=e.setSelected,l=e.setSnackOpen,o=r.a.useState(!1),i=Object(W.a)(o,2),s=i[0],m=i[1];return r.a.createElement(Ce.a,{className:Object(Ue.a)(a.root,Object(Ve.a)({},a.highlight,t>0))},t>0?r.a.createElement(B.a,{className:ra.a.title,color:"inherit",variant:"subtitle1",component:"div",style:{fontWeight:600}},t," selected"):r.a.createElement(B.a,{className:ra.a.title,variant:"h6",id:"tableTitle",component:"div",style:{fontWeight:"600"}},"Assign rooms to cleaner"),t>0?r.a.createElement(G.a,{title:"Assign to cleaner"},r.a.createElement(K.a,{variant:"contained",color:"secondary",style:{flexBasis:"164px"},onClick:function(){m(!0)}},"Assign rooms")):r.a.createElement(G.a,{title:"Filter list"},r.a.createElement(q.a,{"aria-label":"filter list",onClick:function(){}},r.a.createElement(aa.a,null))),r.a.createElement(ua,{open:s,setOpen:m,selected:n,onClose:function(){return c([])},setSnackOpen:l}))},ha=Object(Ke.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));var ba=function(){var e=ha(),a=r.a.useState("asc"),t=Object(W.a)(a,2),c=t[0],l=t[1],i=r.a.useState("name"),s=Object(W.a)(i,2),m=s[0],u=s[1],d=r.a.useState([]),p=Object(W.a)(d,2),E=p[0],g=p[1],h=r.a.useState(0),b=Object(W.a)(h,2),v=b[0],_=b[1],y=r.a.useState(25),O=Object(W.a)(y,2),j=O[0],w=O[1],C=Object(n.useState)(!1),x=Object(W.a)(C,2),S=x[0],N=x[1],k=Object(n.useState)([]),P=Object(W.a)(k,2),R=P[0],D=P[1],A=Object(n.useState)(!1),B=Object(W.a)(A,2),z=B[0],T=B[1],I=Object(o.g)();Object(n.useEffect)((function(){f(null,null,!0).then((function(e){console.log(e),D(e),N(!0)}),(function(e){N(!0),console.log(e)}))}),[]);var F=function(e,a){"clickaway"!==a&&T(!1)};return r.a.createElement(H,{className:e.root},S?r.a.createElement(Z.a,{className:e.paper},r.a.createElement(ga,{numSelected:E.length,selected:E,setSnackOpen:T,setSelected:g}),r.a.createElement(Q.a,null,r.a.createElement($.a,{className:e.table,"aria-labelledby":"tableTitle","aria-label":"enhanced table",size:"small"},r.a.createElement(fa,{classes:e,numSelected:E.length,order:c,orderBy:m,onSelectAllClick:function(e){if(e.target.checked){var a=R.map((function(e){return e}));g(a)}else g([])},onRequestSort:function(e,a){l(m===a&&"asc"===c?"desc":"asc"),u(a)},rowCount:R.length}),r.a.createElement(ne.a,null,function(e,a){var t=e.map((function(e,a){return[e,a]}));return t.sort((function(e,t){var n=a(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),t.map((function(e){return e[0]}))}(R,function(e,a){return"desc"===e?function(e,t){return ta(e,t,a)}:function(e,t){return-ta(e,t,a)}}(c,m)).slice(v*j,v*j+j).map((function(e,a){var t,n,c=(t=e,-1!==E.indexOf(t)),l="enhanced-table-checkbox-".concat(a);return r.a.createElement(ae.a,{hover:!0,onClick:function(a){return function(e,a,t,n){var r=t.indexOf(a),c=[];-1===r?c=c.concat(t,a):0===r?c=c.concat(t.slice(1)):r===t.length-1?c=c.concat(t.slice(0,-1)):r>0&&(c=c.concat(t.slice(0,r),t.slice(r+1))),n(c)}(0,e,E,g)},role:"checkbox","aria-checked":c,tabIndex:-1,key:e.name,selected:c,style:{height:"33px"}},r.a.createElement(te.a,{padding:"checkbox"},r.a.createElement(Ze.a,{checked:c,inputProps:{"aria-labelledby":l}})),r.a.createElement(te.a,{component:"th",id:l,scope:"row",padding:"none"},e.name),r.a.createElement(te.a,{align:"right"},e.building),r.a.createElement(te.a,{align:"right"},e.floor),r.a.createElement(te.a,null,function(e){var a=e.assigned_cleaners,t=a.length>0?a[0]:"-";return r.a.createElement(da.a,{component:Se.b,color:"secondary",to:{pathname:"/cleaners/".concat(t._id),state:{id:t._id}}},t.name)}(e)),r.a.createElement(te.a,{align:"right"},e.contamination_index),r.a.createElement(te.a,null,"<empty>"===e.patient?"No":"Yes"),r.a.createElement(te.a,null,qe(e,"displayName")),r.a.createElement(te.a,{align:"right"},(n=e.last_cleaned)?Ge()(n).format("YYYY-MM-DD HH:mm:ss"):"Never"),r.a.createElement(te.a,{align:"right"},r.a.createElement(q.a,{color:"secondary",size:"small",onClick:function(){!function(e){var a=e._id;I.push({pathname:"/rooms/".concat(a),state:{id:a}})}(e)}},r.a.createElement(ce.a,null))))}))))),r.a.createElement(ea.a,{rowsPerPageOptions:[5,10,25,50],component:"div",count:R.length,rowsPerPage:j,page:v,onChangePage:function(e,a){_(a)},onChangeRowsPerPage:function(e){w(parseInt(e.target.value,10)),_(0)}})):r.a.createElement(pe.a,{color:"secondary",style:{margin:"16px auto"}}),r.a.createElement(ue.a,{open:z,autoHideDuration:6e3,onClose:F,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(de.a,{variant:"filled",severity:"success",onClose:F},"Cleaner assigned")))},va=t(14),_a=t.n(va),ya=t(293),Oa=t(294),ja=function(e){var a=e.room;return r.a.createElement(ya.a,{className:_a.a.card},r.a.createElement("div",{className:_a.a.cardContent},r.a.createElement(B.a,{variant:"h6",className:_a.a.semiBold},"Room details"),r.a.createElement(Oa.a,{light:!0,className:_a.a.divider}),r.a.createElement(B.a,{variant:"body1",className:_a.a.semiBold},"Building ",a.building),r.a.createElement(B.a,{variant:"body2",className:_a.a.medium,color:"textSecondary"},"Floor ",a.floor),r.a.createElement(Oa.a,{light:!0,className:_a.a.divider}),r.a.createElement("div",{className:_a.a.row},r.a.createElement(B.a,{variant:"body1",className:_a.a.semiBold},qe(a,"displayName")),r.a.createElement(B.a,{variant:"body2",className:_a.a.semiBold},"Cleaning time: ",qe(a,"cleaningTime")," min")),r.a.createElement(B.a,{variant:"body2",className:_a.a.medium,color:"textSecondary"},"Cleaning ",qe(a,"frequency")," times / week"),r.a.createElement(Oa.a,{light:!0,className:_a.a.divider}),r.a.createElement("div",{className:_a.a.row},r.a.createElement(B.a,{variant:"body1",className:_a.a.semiBold},"Contamination index"),r.a.createElement(B.a,{variant:"body1",className:[_a.a.critical,_a.a.medium].join(" ")},a.contamination_index))))},wa=t(105),Ca=t.n(wa),xa=function(e){var a=e.variant,t=e.size,n=e.tooltip,c=[Ca.a.dot];return c.push(a?Ca.a[a]:Ca.a.neutral),c.push(t?Ca.a[t]:Ca.a.small),r.a.createElement(G.a,{title:n},r.a.createElement("div",{className:c.join(" ")}))},Sa=t(295),Na=function(e){var a=e.room,t=e.cleaner,c=e.setCleaner,l=Object(n.useState)({}),o=Object(W.a)(l,2),i=o[0],u=o[1],d=Object(n.useState)(!1),p=Object(W.a)(d,2),f=p[0],E=p[1],g=Object(n.useState)(""),h=Object(W.a)(g,2),b=h[0],y=h[1],O=0!==Object.keys(t).length,j=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(a._id,t._id);case 2:c({}),y("Cleaner unassigned"),E(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(a._id,i._id);case 2:c(i),u({}),y("Cleaner assigned"),E(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(e,a){"clickaway"!==a&&E(!1)};return r.a.createElement(ya.a,{className:_a.a.card,style:{height:"min-content"}},r.a.createElement("div",{className:_a.a.cardContent},r.a.createElement("div",{className:_a.a.row},r.a.createElement(xa,{variant:function(){if(!O)return"neutral";var e=Ge()(t.shift_start,"HH:mm"),a=Ge()(t.shift_end,"HH:mm");return Ge()().isBetween(e,a)?"good":"critical"}(),size:"tiny",tooltip:"Cleaner name"}),O?r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{style:{marginLeft:16},variant:"h6",className:_a.a.semiBold},t.name),r.a.createElement(G.a,{title:"Remove assignment"},r.a.createElement(q.a,{style:{marginLeft:"auto"},size:"small",onClick:j},r.a.createElement(Sa.a,null)))):r.a.createElement(ma,{onChange:function(e,a){return u(a)},style:{marginLeft:16}})),i&&0!==Object.keys(i).length&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Oa.a,{className:_a.a.divider}),r.a.createElement("div",{className:_a.a.row},r.a.createElement(K.a,{onClick:w,variant:"contained",color:"secondary",className:_a.a.btn},"Assign")))),r.a.createElement(ue.a,{open:f,autoHideDuration:6e3,onClose:C,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(de.a,{variant:"filled",severity:"success",onClose:C},b)))},ka=Object(Ke.a)({root:{lineHeight:"200%"}}),Pa=function(e){var a=e.reports,t=ka();return r.a.createElement(ya.a,{className:_a.a.comments},r.a.createElement("div",{className:_a.a.cardContent},r.a.createElement(B.a,{variant:"h6",className:_a.a.semiBold,style:{marginBottom:16}},"Cleaner comments:"),a.length>0?a.reduce((function(e,a){if(""!==a.comments){var n=Ge()(a.cleaning_time);e.push(r.a.createElement("div",{key:a._id,className:_a.a.comment},r.a.createElement(Oa.a,null),r.a.createElement(B.a,{variant:"h6",className:t.root},n.format("D MMM, YYYY")),r.a.createElement(B.a,{variant:"h6",className:[_a.a.semiBold,_a.a.author,t.root].join(" ")},a.cleaner_name),r.a.createElement(B.a,{variant:"body1",className:t.root},a.comments)))}return e}),[]):r.a.createElement(B.a,{variant:"body1",className:_a.a.semiBold},"No comments")))},Ra=t(296),Da=t(297),Aa=t(174),Ba=t.n(Aa),za=function(e){var a=e.reports,t=e.type,n=Object(o.g)();return r.a.createElement("div",null,r.a.createElement(B.a,{variant:"h5",style:{margin:"16px 0"}},"Past cleaning reports"),a.length>0?r.a.createElement(Q.a,{component:Z.a},r.a.createElement($.a,{size:"small"},r.a.createElement(ee.a,null,r.a.createElement(ae.a,null,r.a.createElement(te.a,null,"room"===t?"Cleaner":"Room"),r.a.createElement(te.a,{align:"right"},"Cleaning time"),r.a.createElement(te.a,null,"Cleaning successful"),r.a.createElement(te.a,null,"Action"))),r.a.createElement(ne.a,null,a.map((function(e){return r.a.createElement(ae.a,{key:e._id},r.a.createElement(te.a,{component:"th",scope:"row"},"room"===t?(a=e,r.a.createElement(da.a,{component:Se.b,color:"secondary",to:{pathname:"/cleaners/".concat(a.cleaner_id),state:{id:a.cleaner_id}}},a.cleaner_name)):function(e){return r.a.createElement(da.a,{component:Se.b,color:"secondary",to:{pathname:"/rooms/".concat(e.room_id),state:{id:e.room_id}}},e.room_name)}(e)),r.a.createElement(te.a,{align:"right"},Ge()(e.cleaning_time).format("DD.MM.YYYY HH:mm")),r.a.createElement(te.a,null,e.cleaning_succesful?r.a.createElement(Ra.a,{className:Ba.a.good}):r.a.createElement(Da.a,{color:"error"})),r.a.createElement(te.a,null,r.a.createElement(q.a,{size:"small",color:"secondary",onClick:function(){!function(e){var a=e._id;n.push({pathname:"/reports/".concat(a),state:{id:a}})}(e)}},r.a.createElement(ce.a,null))));var a}))))):r.a.createElement(B.a,{variant:"h6"},"No cleaning Reports"))},Ta=function(){var e=Object(o.h)(),a=Object(o.g)(),t=e.state,c=Object(n.useState)(!1),l=Object(W.a)(c,2),i=l[0],s=l[1],m=Object(n.useState)({}),u=Object(W.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)([]),E=Object(W.a)(f,2),g=E[0],b=E[1],v=Object(n.useState)({}),_=Object(W.a)(v,2),O=_[0],j=_[1];Object(n.useEffect)((function(){y(t.id).then((function(e){p(e),s(!0)}),(function(e){return console.log(e)})),h(t.id).then((function(e){e.length>=1&&j(e[0])}),(function(e){return console.log(e)})),C(t.id).then((function(e){b(e.sort((function(e,a){return new Date(a.cleaning_time)-new Date(e.cleaning_time)})))}))}),[t.id]);return r.a.createElement(H,{style:{width:"65%"}},i?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:_a.a.titleRow},r.a.createElement(B.a,{variant:"h4"},"Room: ",d.name),r.a.createElement(K.a,{variant:"text",onClick:function(){a.push({pathname:"/rooms",state:{id:t.id,action:"show"}})},size:"small"},"Show on map")),r.a.createElement("div",{className:_a.a.content},r.a.createElement("div",{className:_a.a.detailsRow},r.a.createElement(ja,{room:d}),r.a.createElement(Na,{room:d,cleaner:O,setCleaner:j})),r.a.createElement(Pa,{reports:g}),r.a.createElement(B.a,{variant:"h5"},"Room map"),r.a.createElement("div",{style:{width:600,height:400}}),r.a.createElement(za,{reports:g,type:"room"}))):r.a.createElement(pe.a,{color:"secondary",style:{margin:"16px auto"}}))},Ha=t(299),Ia=t(301),Fa=t(302),Ma=t(304),La=za,Ya=t(81),Wa=t.n(Ya),Ga=t(175),qa=t(298),Ja=t(300),Xa=t(303),Va=ie.a({name:ie.b().required()}),Ua=function(e){var a=e.cleaner,t=e.open,n=e.setOpen,c=e.onSave,l=function(){n(!1)},o=a.shift_start.split(":"),i=a.shift_end.split(":"),u={name:a.name,startHour:o.length>0?o[0]:"",endHour:i.length>0?i[0]:"",startMinutes:o.length>0?o[1]:"",endMinutes:i.length>0?i[1]:""},d=function(){var e=Object(m.a)(s.a.mark((function e(t,r){var l,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=r.setSubmitting,(o=t)._id=a._id,o.shift_start="".concat(t.startHour.padStart(2,"0"),":").concat(t.startMinutes.padStart(2,"0")),o.shift_end="".concat(t.endHour.padStart(2,"0"),":").concat(t.endMinutes.padStart(2,"0")),e.next=7,k(o);case 7:i=e.sent,console.log(i),l(!1),n(!1),c();case 12:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement(J.a,{open:t,onClose:l,"aria-labelledby":"form-dialog-title"},r.a.createElement(X.a,{id:"form-dialog-title"},"Edit cleaner"),r.a.createElement(se.c,{initialValues:u,onSubmit:d,validationSchema:Va},(function(e){e.isSubmitting,e.resetForm,e.values;return r.a.createElement(se.b,null,r.a.createElement(V.a,null,r.a.createElement(M.a,{container:!0,spacing:2},r.a.createElement(M.a,{item:!0,xs:12},r.a.createElement(se.a,{component:me.b,margin:"dense",id:"name",label:"Name",type:"text",name:"name",fullWidth:!0})),r.a.createElement(be,null))),r.a.createElement(U.a,null,r.a.createElement(K.a,{onClick:l,color:"primary"},"Cancel"),r.a.createElement(K.a,{type:"submit",color:"primary"},"Save")))})))},Ka=function(e){var a=e.cleaner,t=Object(n.useState)([]),c=Object(W.a)(t,2),l=c[0],o=c[1],i=Object(n.useState)(!0),u=Object(W.a)(i,2),d=u[0],p=u[1],f=Object(n.useState)(!1),E=Object(W.a)(f,2),h=E[0],b=E[1];Object(n.useEffect)((function(){g(a._id).then((function(e){console.log(e),o(e),p(!1)}),(function(e){console.log(e)}))}),[a]);var v=function(){var e=Object(m.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t._id,a._id);case 2:n=e.sent,console.log(n),(r=Object(fe.a)(l)).splice(l.indexOf(t),1),o(r),b(!0);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),y=function(e,a){"clickaway"!==a&&b(!1)};return d?r.a.createElement(pe.a,{color:"secondary"}):r.a.createElement(Q.a,{component:Z.a},r.a.createElement($.a,{size:"small"},r.a.createElement(ee.a,null,r.a.createElement(ae.a,null,r.a.createElement(te.a,null,"Room"),r.a.createElement(te.a,{align:"right"},"Status"),r.a.createElement(te.a,{align:"right"},"Contamination Index"),r.a.createElement(te.a,{align:"right"},"Room type"),r.a.createElement(te.a,{align:"right"},"Cleaning Status"),r.a.createElement(te.a,null,"Action"))),r.a.createElement(ne.a,null,l.map((function(e){return r.a.createElement(ae.a,{key:e._id},r.a.createElement(te.a,{component:"th",scope:"row"},e.name),r.a.createElement(te.a,{align:"right"}),r.a.createElement(te.a,{align:"right"},e.contamination_index),r.a.createElement(te.a,{align:"right"},qe(e,"displayName")),r.a.createElement(te.a,{align:"right"},e.is_cleaning?"Cleaning in progress":"Needs cleaning"),r.a.createElement(te.a,null,r.a.createElement(G.a,{title:"Remove assignment"},r.a.createElement(q.a,{size:"small",onClick:function(){v(e)}},r.a.createElement(Ma.a,{color:"error"})))))})))),r.a.createElement(ue.a,{open:h,autoHideDuration:6e3,onClose:y,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(de.a,{variant:"filled",severity:"success",onClose:y},"Assignment removed")))},Qa=function(){var e=Object(o.h)(),a=Object(o.g)(),t=e.state,c=Object(n.useState)(!1),l=Object(W.a)(c,2),i=l[0],u=l[1],d=Object(n.useState)(!1),p=Object(W.a)(d,2),f=p[0],E=p[1],g=Object(n.useState)({}),h=Object(W.a)(g,2),b=h[0],v=h[1],_=Object(n.useState)([]),y=Object(W.a)(_,2),O=y[0],w=y[1],S=r.a.useState(null),N=Object(W.a)(S,2),k=N[0],P=N[1],R=r.a.useState(!1),D=Object(W.a)(R,2),A=D[0],z=D[1],T=r.a.useState(!1),I=Object(W.a)(T,2),F=I[0],M=I[1],L=Object(n.useState)(!1),Y=Object(W.a)(L,2),G=Y[0],q=Y[1],Q=Object(n.useState)("Cleaned deleted"),Z=Object(W.a)(Q,2),$=Z[0],ee=Z[1],ae=function(){z(!1)},te=function(){P(null)},ne=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(b._id);case 2:ee("Cleaner Deleted"),q(!0),a.goBack();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(e,a){"clickaway"!==a&&q(!1)};return Object(n.useEffect)((function(){j(t.id).then((function(e){console.log(e),v(e),u(!0)}),(function(e){console.log(e)})),C(null,t.id).then((function(e){w(e.sort((function(e,a){return new Date(a.cleaning_time)-new Date(e.cleaning_time)})))}))}),[t.id,F]),r.a.createElement(H,{style:{textAlign:"start"}},r.a.createElement("div",{className:Wa.a.row,style:{justifyContent:"space-between"}},r.a.createElement(B.a,{variant:"h5",className:Wa.a.semiBold},"Cleaner details"),r.a.createElement(K.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){P(e.currentTarget)}},"Actions"),r.a.createElement(Ga.a,{id:"simple-menu",anchorEl:k,keepMounted:!0,open:Boolean(k),onClose:te},r.a.createElement(Ee.a,{onClick:function(){te(),E(!0)}},r.a.createElement(qa.a,null,r.a.createElement(Ha.a,{fontSize:"small",style:{color:"#808080"}})),r.a.createElement(Ja.a,{primary:"Edit cleaner"})),r.a.createElement(Ee.a,{onClick:function(){z(!0),te()}},r.a.createElement(qa.a,null,r.a.createElement(Ia.a,{color:"error",fontSize:"small"})),r.a.createElement(Ja.a,{primary:"Delete cleaner"})))),i?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:[Wa.a.row,Wa.a.content].join(" ")},r.a.createElement(Fa.a,{className:Wa.a.avatar}),r.a.createElement("div",null,r.a.createElement(B.a,{variant:"h6",className:Wa.a.semiBold},"Cleaner name: ",b.name),r.a.createElement(B.a,{variant:"body1",color:"textSecondary"},"Shift: ",b.shift_start," - ",b.shift_end))),r.a.createElement(Ka,{cleaner:b}),r.a.createElement(La,{reports:O,type:"cleaner"})):r.a.createElement(pe.a,{color:"secondary",style:{margin:"16px auto"}}),r.a.createElement(J.a,{open:A,onClose:ae,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(X.a,{id:"alert-dialog-title"},"Delete cleaner"),r.a.createElement(V.a,null,r.a.createElement(Xa.a,{id:"alert-dialog-description"},"Are you sure you want to delete the cleaner?")),r.a.createElement(U.a,null,r.a.createElement(K.a,{onClick:ae,color:"primary"},"Cancel"),r.a.createElement(K.a,{onClick:function(){ae(),ne()},color:"primary",autoFocus:!0},"Delete"))),i&&r.a.createElement(Ua,{cleaner:b,open:f,setOpen:E,onSave:function(){ee("Saved"),q(!0),M(!0)}}),r.a.createElement(ue.a,{open:G,autoHideDuration:6e3,onClose:re,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(de.a,{variant:"filled",severity:"success",onClose:re},$)))},Za=t(33),$a=t.n(Za),et=function(){var e=Object(o.h)().state.id,a=Object(n.useState)({}),t=Object(W.a)(a,2),c=t[0],l=t[1],i=Object(n.useState)(""),u=Object(W.a)(i,2),d=u[0],p=u[1];Object(n.useEffect)((function(){S(e).then((function(e){l(e)}))}),[e]);var f=function(){var a=Object(m.a)(s.a.mark((function a(t){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return p(t.target.value),a.next=3,N(e,t.target.value).then((function(e){console.log(e)}),(function(e){return console.log(e)}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(H,{style:{textAlign:"start"}},r.a.createElement(B.a,{variant:"h4",className:$a.a.semiBold},"Cleaning report details"),r.a.createElement(M.a,{container:!0,spacing:2},r.a.createElement(M.a,{item:!0,xs:6},r.a.createElement("div",{className:$a.a.row,style:{justifyContent:"space-between"}},r.a.createElement(B.a,{variant:"h5"},"Room map"),r.a.createElement(Me.a,{variant:"outlined",style:{minWidth:"320px",marginBottom:8}},r.a.createElement(Le.a,{id:"demo-simple-select-outlined-label"},"Contamination map type"),r.a.createElement(Ye.a,{label:"Contamination map type",onChange:f,value:d},r.a.createElement(Ee.a,{value:"clean"},"After cleaning"),r.a.createElement(Ee.a,{value:"contamination"},"Before cleaning"),r.a.createElement(Ee.a,{value:"Combined"},"After cleaning")))),r.a.createElement("div",{className:$a.a.map}),r.a.createElement(B.a,{variant:"h5"},"Cleaner comments:"),r.a.createElement("div",{className:$a.a.comments},r.a.createElement(B.a,{variant:"body",className:$a.a.comment},c.comments))),r.a.createElement(M.a,{item:!0,xs:6},r.a.createElement("div",{className:$a.a.row},r.a.createElement(B.a,{variant:"h5",className:$a.a.reportInfo},"Cleaner:"),r.a.createElement(B.a,{style:{marginLeft:"4px"},variant:"h5"},c.cleaner_name)),r.a.createElement("div",{className:$a.a.row},r.a.createElement(B.a,{variant:"h5",className:$a.a.reportInfo},"Cleaning time:"),r.a.createElement(B.a,{style:{marginLeft:"4px"},variant:"h5"},c.cleaning_time)),r.a.createElement("div",{className:$a.a.row},r.a.createElement(B.a,{variant:"h5",className:$a.a.reportInfo},"Contamination index:"),r.a.createElement(B.a,{style:{marginLeft:"4px"},variant:"h5"},"75")),r.a.createElement("div",{className:$a.a.row},r.a.createElement(B.a,{variant:"h5",className:$a.a.reportInfo},"Cleaning successful:"),r.a.createElement("div",{style:{marginLeft:4,height:35}},c.cleaning_succesful?r.a.createElement(Ra.a,{className:$a.a.good,fontSize:"large"}):r.a.createElement(Da.a,{color:"error",fontSize:"large"}))))))};var at=function(){var e=Object(o.h)();return r.a.createElement("div",{className:"App"},r.a.createElement(Ie,null),r.a.createElement(o.d,{location:e},r.a.createElement(o.b,{path:"/dashboard",render:function(){return r.a.createElement(Y,null)}}),r.a.createElement(o.b,{path:"/cleaners/:id",render:function(){return r.a.createElement(Qa,null)}}),r.a.createElement(o.b,{path:"/cleaners",render:function(){return r.a.createElement(Oe,null)}}),r.a.createElement(o.b,{path:"/assignments",render:function(){return r.a.createElement(ba,null)}}),r.a.createElement(o.b,{path:"/rooms/:id",render:function(){return r.a.createElement(Ta,null)}}),r.a.createElement(o.b,{path:"/rooms",render:function(){return r.a.createElement(Xe,null)}}),r.a.createElement(o.b,{path:"/analysis",render:function(){return r.a.createElement(Fe,null)}}),r.a.createElement(o.b,{path:"/reports/:id",render:function(){return r.a.createElement(et,null)}}),r.a.createElement(o.b,{path:"/",render:function(){return r.a.createElement(o.a,{to:"/dashboard"})}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var tt=t(305),nt=t(308),rt=t(309),ct=t(306),lt=t(307),ot=Object(tt.a)({palette:{primary:{main:ct.a[900]},secondary:lt.a},typography:{fontFamily:["Raleway","sans-serif"]}});l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Se.a,{basename:"/spotless"},r.a.createElement(nt.a,{theme:ot},r.a.createElement(rt.b,{injectFirst:!0},r.a.createElement(at,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},33:function(e,a,t){e.exports={row:"ReportPage_row__1XU8D",semiBold:"ReportPage_semiBold__20bHc",reportInfo:"ReportPage_reportInfo__KuWwG",column:"ReportPage_column__1fkvo",good:"ReportPage_good__IEB1u",map:"ReportPage_map__1ruE5",comments:"ReportPage_comments__vvAhd",comment:"ReportPage_comment__38N5l"}},46:function(e,a,t){e.exports={toolbar:"Toolbar_toolbar__1Bm9j",name:"Toolbar_name__3EvOQ",svg:"Toolbar_svg__3XlL9",tab:"Toolbar_tab__3uwiV"}},69:function(e,a,t){e.exports={menu:"ShiftPicker_menu__1os-v",row:"ShiftPicker_row__rUGBG"}},79:function(e,a,t){e.exports={headerRow:"CleanersPage_headerRow__20bGG",bold:"CleanersPage_bold__qIG9F",menu:"CleanersPage_menu__1x8Ct",row:"CleanersPage_row__2H2UE"}},81:function(e,a,t){e.exports={content:"CleanerDetailsPage_content__3PEfI",avatar:"CleanerDetailsPage_avatar__3KDG8",row:"CleanerDetailsPage_row__G0VOc",menu:"CleanerDetailsPage_menu__2gyF8",column:"CleanerDetailsPage_column__3374X",semiBold:"CleanerDetailsPage_semiBold__1F3iu"}}},[[191,1,2]]]);
//# sourceMappingURL=main.fec75d52.chunk.js.map