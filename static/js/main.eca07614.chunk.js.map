{"version":3,"sources":["pages/AdminPage/AdminPage.module.scss","components/StatusDot/StatusDot.module.scss","pages/AssignmentsPage/AssignmentsPage.module.scss","components/Charts/ReportsPerDay/ReportsPerDay.module.scss","pages/LoginPage/LoginPage.module.scss","components/Charts/CleaningsByCleaner/CleaningsByCleaner.module.scss","components/Charts/ContaminationIndexOverTime/ContaminationIndexOverTime.module.scss","components/Charts/CleaningDuration/CleaningDuration.module.scss","components/Charts/ActivityGraph/ActivityGraph.module.scss","components/RoomSelector/RoomSelector.module.scss","pages/RoomDetailsPage/RoomDetailsPage.module.scss","components/ShiftPicker/ShiftPicker.module.scss","containers/PageContainer/PageContainer.module.scss","pages/CleanersPage/CleanersPage.module.scss","components/CleaningReportsTable/CleaningReportTable.module.scss","assets/heatmap2.png","pages/ReportPage/ReportPage.module.scss","assets/web_logo.png","assets/logo.png","assets/hospital.png","components/CleanerSelect/CleanerSelect.module.scss","pages/DashboardPage/DashboardPage.module.scss","components/Toolbar/Toolbar.module.scss","utils/constants.js","utils/api.js","containers/PageContainer/index.js","containers/PageContainer/PageContainer.js","pages/DashboardPage/KeyStat.js","components/StatusDot/index.js","components/StatusDot/StatusDot.js","utils/utils.js","components/Charts/ReportsPerDay/index.js","components/Charts/ReportsPerDay/ReportsPerDay.js","pages/DashboardPage/Alerts.js","pages/DashboardPage/index.js","pages/DashboardPage/DashboardPage.js","pages/LoginPage/LoginPage.js","pages/LoginPage/index.js","components/ShiftPicker/ShiftPicker.js","components/RoomSelector/EnhancedTableHead.js","utils/tableUtils.js","pages/CleanersPage/CleanersPage.js","pages/CleanersPage/index.js","components/Toolbar/Toolbar.js","components/Toolbar/index.js","components/Charts/CleaningsByCleaner/index.js","components/Charts/CleaningsByCleaner/CleaningsByCleaner.js","components/Charts/ContaminationIndexOverTime/index.js","components/Charts/ContaminationIndexOverTime/ContaminationIndexOverTime.js","components/Charts/CleaningDuration/index.js","components/Charts/CleaningDuration/CleaningDuration.js","pages/AnalysisPage/index.js","pages/AnalysisPage/AnalysisPage.js","pages/RoomsPage/RoomsMap.js","pages/AssignmentsPage/TableFilters.js","pages/RoomsPage/index.js","pages/RoomsPage/RoomsPage.js","components/CleanerSelect/index.js","components/CleanerSelect/CleanerSelect.js","pages/AssignmentsPage/AssignCleanerDialog.js","pages/AssignmentsPage/AssignmentsPage.js","pages/AssignmentsPage/index.js","pages/RoomDetailsPage/RoomDetailsCard.js","pages/RoomDetailsPage/RoomCleanerCard.js","pages/RoomDetailsPage/RoomReportComments.js","components/CleaningReportsTable/CleaningReportsTable.js","components/Charts/ActivityGraph/ActivityGraph.js","components/Charts/ActivityGraph/index.js","pages/RoomDetailsPage/index.js","pages/RoomDetailsPage/RoomDetailsPage.js","components/CleaningReportsTable/index.js","pages/CleanerDetailsPage/EditCleanerDialog.js","components/RoomSelector/RoomSelector.js","components/RoomSelector/index.js","pages/CleanerDetailsPage/CleanerDetailsPage.js","pages/CleanerDetailsPage/index.js","pages/ReportPage/index.js","pages/ReportPage/ReportPage.js","components/CircularProgressWithLabel/index.js","components/CircularProgressWithLabel/CircularProgressWithLabel.js","pages/AdminPage/index.js","pages/AdminPage/AdminPage.js","app/App.js","serviceWorker.js","index.js","pages/CleanerDetailsPage/CleanerDetailsPage.module.scss","pages/RoomsPage/RoomsPage.module.scss"],"names":["module","exports","API_KEY","BASE_URL","ROOM_TYPES","Object","freeze","OFFICE","frequency","cleaningTime","displayName","key","TOILET","WARD_ROOM","EXAMINATION_ROOM","CORRIDOR","WAITING_ROOM","HOSPITAL_MAP","name","areas","shape","coords","GLOBAL_HOSPITAL","localStorage","getItem","GLOBAL_HOSPITAL_NAME","authenticated","getUser","JSON","parse","addParam","property","params","parameter","newParams","length","getRooms","hospital","floor","showAssigned","a","doGetRequest","getHospitals","getAssignedRooms","cleanerId","getAssignedCleaners","roomId","assignRoomsToCleaner","rooms","cleaner","Promise","all","map","room","assignRoom","unAssignRooms","unAssignRoom","doPostRequest","stringify","doDeleteRequest","getRoom","getCleaners","getCleaner","createCleaner","shiftStart","shiftEnd","getReports","deleteCleaner","getReport","reportId","getHeatmap","type","requestURL","fetch","method","headers","response","ok","arrayBuffer","json","console","log","Error","error","getRoomHeatmap","editCleaner","doPutRequest","getSimulatorSettings","setSimulation","speed","resetSimulation","getFloorplan","id","blob","statusText","url","message","body","PageContainer","children","style","top","noToolbar","className","styles","pageContainer","pageContent","KeyStat","value","subtitle","color","stat","keyStat","Typography","variant","StatusDot","size","tooltip","classes","dot","push","neutral","small","Tooltip","title","join","getRoomTypeProp","propName","getStatus","contamination","getVariant","getVariantColor","mergeCleaners","status","cleaners","update_img","auxCanvas","canvas","scaler","clean","arr","BigUint64Array","bytearray","array","min","max","pix","pix1","minRaw","BigInt","Number","MAX_SAFE_INTEGER","maxRaw","j","im_p","i","Uint8Array","convert64to8","red","green","blue","b","tableRed","tableGreen","tableBlue","Math","cos","round","pow","sin","atan","Uint8ClampedArray","initColorMaps","redMap","greenMap","blueMap","img","imgArr","h","ImageData","data","byteIdx","imgIdx","grayValue","ctx","getContext","putImageData","drawImage","ReportsPerDay","reports","loading","report","moment","format","counts","forEach","x","formattedReports","keys","date","amount","height","Paper","container","CircularProgress","margin","width","chart","textAlign","dataKey","strokeDasharray","stroke","strokeWidth","Alerts","history","useHistory","today","filtered","filter","overview","isSame","alerts","alert","onClick","pathname","state","Grid","direction","alignItems","justify","item","semiBold","lineHeight","comments","ArrowForward","fontSize","marginTop","DashboardPage","useState","user","setUser","setRooms","setReports","setLoading","hospitals","setHospitals","setHospital","hospitalSet","setHospitalSet","fetchData","setFetchData","useEffect","u","then","result","getContaminationIndex","contaminations","val","reduce","display","flexDirection","username","IconButton","Refresh","FormControl","minWidth","InputLabel","Select","label","onChange","event","target","setItem","removeItem","setGlobalHospital","find","setGlobalHospitalName","MenuItem","hosp","spacing","xs","grid","getCleanedRooms","validationSchema","Yup","required","password","LoginPage","content","src","logo","alt","form","initialValues","onSubmit","vars","setSubmitting","isSuperAdmin","superAdmin","authenticate","isSubmitting","resetForm","values","component","TextField","autoFocus","fullWidth","Button","btn","ShiftPicker","row","Array","number","num","toString","padStart","EnhancedTableHead","props","onSelectAllClick","order","orderBy","numSelected","rowCount","onRequestSort","headCells","TableHead","TableRow","TableCell","padding","Checkbox","indeterminate","checked","inputProps","headCell","align","numeric","disablePadding","sortDirection","TableSortLabel","active","visuallyHidden","descendingComparator","undefined","toUpperCase","getComparator","stableSort","comparator","stabilizedThis","el","index","sort","handleClick","selected","setSelected","selectedIndex","indexOf","newSelected","concat","slice","firstName","lastName","AddCleanerDialog","open","setOpen","setIsLoaded","setSnackOpen","handleClose","handleSubmit","startHour","startMinutes","endHour","endMinutes","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogActions","useStyles","makeStyles","theme","border","clip","overflow","position","CleanersTable","React","setOrder","setOrderBy","page","setPage","cleanersPerPage","setCleanersPerPage","TableContainer","Table","TableBody","labelId","hover","tabIndex","scope","assignedRooms","numCleaned","placement","getCleaningProgress","isBetween","viewCleaner","VisibilityOutlined","TablePagination","rowsPerPageOptions","count","rowsPerPage","onChangePage","newPage","onChangeRowsPerPage","parseInt","CleanersPage","setCleaners","isLoaded","snackOpen","responses","err","handleSnackClose","reason","headerRow","bold","AddCircleOutline","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal","Alert","severity","NavTabs","withStyles","root","flexGrow","indicator","justifyContent","backgroundColor","marginBottom","borderTopLeftRadius","borderTopRightRadius","Tabs","TabIndicatorProps","Toolbar","location","useLocation","getTabValue","tabId","route","matchPath","path","exact","strict","mountTabValueFactory","anchorEl","setAnchorEl","AppBar","toolbar","split","goBack","ArrowBackRounded","svg","Icon","Tab","tab","DashboardRounded","Link","to","disableRipple","FormatListBulletedRounded","PeopleRounded","BusinessRounded","AssessmentRounded","aria-controls","aria-haspopup","currentTarget","Menu","keepMounted","Boolean","ListItemIcon","Settings","ListItemText","primary","ExitToApp","CleaningsByCleaner","fill","ContaminationIndexOverTime","acc","CleaningDuration","und","estimated","unit","AnalysisPage","initMap","area","hex","exec","r","g","hexToRgb","preFillColor","RoomsMap","hovering","setHovering","setRoom","hoverStyle","setHoverStyle","setMap","ignored","forceUpdate","window","innerWidth","hospitalImg","fillColor","imgWidth","onMouseEnter","pageY","left","pageX","onMouseLeave","roomInfo","toFixed","TableFilters","initialBuilding","initialFloor","hideAll","hideAssigned","building","setBuilding","setFloor","roomType","setRoomType","assigned","setAssigned","filters","setFilters","valid","Set","FormControlLabel","control","RoomsPage","setError","origRooms","setOrigRooms","CleanerSelect","options","setOptions","openSelect","setOpenSelect","setCleaner","clnrs","Autocomplete","onOpen","autocomplete","getOptionLabel","option","newValue","renderInput","InputProps","endAdornment","AssignCleanerDialog","setSnackText","selectedWithCleaner","disableBackdropClick","disabled","useToolbarStyles","paddingLeft","paddingRight","highlight","palette","secondary","main","lighten","light","text","dark","minHeight","EnhancedTableToolbar","getData","showFilters","removeAssignments","clsx","fontWeight","startIcon","Close","critical","flexBasis","marginRight","aria-label","FilterList","paper","table","AssignmentsPage","roomsPerPage","setRoomsPerPage","snackText","newSelecteds","n","isItemSelected","role","aria-checked","RouterLink","openRoom","RoomDetailsCard","Card","card","cardContent","Divider","divider","medium","RoomCleanerCard","newCleaner","setNewCleaner","hasCleaner","removeCleanerAssignment","assignNewCleaner","getColor","marginLeft","ClearOutlined","CommentsList","time","comment","author","ReportsTableHead","unshift","CleaningReportsTable","reportsPerPage","setReportsPerPage","Check","good","CloseRounded","viewReport","pad","CustomizedAxisTick","this","y","payload","transform","dy","textAnchor","PureComponent","ActivityGraph","activity","lastCleaned","formattedData","start","valueOf","Date","LTTB","point","getHours","getMinutes","offset","tick","RoomDetailsPage","useParams","roomLoaded","setRoomLoaded","image","setImage","showMap","setShowMap","showActivity","setShowActivity","errorMsg","setErrorMsg","URL","createObjectURL","catch","aux","document","getElementById","titleRow","action","detailsRow","overlay","disableActivity","EditCleanerDialog","onSave","end","edited","res","RoomSelector","assign","maxWidth","AssignmentsTable","assignments","setAssignments","removeAssignment","newAssignments","splice","getCleaningStatus","Clear","CleanerDetailsPage","cleanerLoaded","setCleanerLoaded","editing","setEditing","showRoomSelector","setShowRoomSelector","handleConfirmClose","removeCleaner","Edit","DeleteForever","AccountCircleRounded","avatar","aria-describedby","DialogContentText","ReportPage","setReport","setType","showContImg","setShowContImg","showCleanImg","setShowCleanImg","mapSelected","heatmap","reportInfo","getOverview","utc","CircularProgressWithLabel","Box","bottom","right","AdminPage","simSpeed","setSimSpeed","progress","setProgress","generating","setGenerating","settings","generate","setTimeout","slider","gutterBottom","flex","Slider","getAriaValueText","valueLabelDisplay","step","marks","mark","generateMarks","Input","onBlur","float","App","render","auth","hostname","match","createMuiTheme","blueGrey","lightBlue","typography","fontFamily","ReactDOM","StrictMode","basename","ThemeProvider","StylesProvider","injectFirst","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.eca07614.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider\":\"AdminPage_slider__15E9C\",\"row\":\"AdminPage_row__2qRHf\",\"divider\":\"AdminPage_divider__3uIH_\",\"semiBold\":\"AdminPage_semiBold__EaJqb\",\"medium\":\"AdminPage_medium__2aq8Q\",\"card\":\"AdminPage_card__3NaLL\",\"cardContent\":\"AdminPage_cardContent__1_5WT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dot\":\"StatusDot_dot__1rSYH\",\"good\":\"StatusDot_good__1GIEp\",\"medium\":\"StatusDot_medium__3zBB3\",\"critical\":\"StatusDot_critical__23vOC\",\"neutral\":\"StatusDot_neutral__1H6OR\",\"tiny\":\"StatusDot_tiny__33nQ5\",\"small\":\"StatusDot_small__1yc1L\",\"large\":\"StatusDot_large__jMuJN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"AssignmentsPage_title__3UMlB\",\"critical\":\"AssignmentsPage_critical__3ZemZ\",\"row\":\"AssignmentsPage_row__2lJV1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chart\":\"ReportsPerDay_chart__1nn7U\",\"title\":\"ReportsPerDay_title__aLd0m\",\"container\":\"ReportsPerDay_container__3-OV0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"LoginPage_form__38hI6\",\"btn\":\"LoginPage_btn__Q93UE\",\"content\":\"LoginPage_content__3F07h\",\"img\":\"LoginPage_img__HnDXO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chart\":\"CleaningsByCleaner_chart__3aloT\",\"title\":\"CleaningsByCleaner_title__2Z5X5\",\"container\":\"CleaningsByCleaner_container__2ovud\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chart\":\"ContaminationIndexOverTime_chart__-hDF2\",\"title\":\"ContaminationIndexOverTime_title__2xIiR\",\"container\":\"ContaminationIndexOverTime_container__vcMdl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chart\":\"CleaningDuration_chart__3_7JM\",\"title\":\"CleaningDuration_title__XmVrf\",\"container\":\"CleaningDuration_container__2fTKe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chart\":\"ActivityGraph_chart__1OtGx\",\"title\":\"ActivityGraph_title__2ww9S\",\"container\":\"ActivityGraph_container__14QgA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"RoomSelector_title__363JP\",\"critical\":\"RoomSelector_critical__a-ztV\",\"row\":\"RoomSelector_row__n9QC3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"titleRow\":\"RoomDetailsPage_titleRow__JoTlm\",\"content\":\"RoomDetailsPage_content__2CxAu\",\"card\":\"RoomDetailsPage_card__2J4HU\",\"cardContent\":\"RoomDetailsPage_cardContent__1soEX\",\"detailsRow\":\"RoomDetailsPage_detailsRow__3fj0E\",\"row\":\"RoomDetailsPage_row__PCQ4C\",\"divider\":\"RoomDetailsPage_divider__hWVez\",\"semiBold\":\"RoomDetailsPage_semiBold__24ERR\",\"medium\":\"RoomDetailsPage_medium__3Rnxk\",\"good\":\"RoomDetailsPage_good__2jSxq\",\"med\":\"RoomDetailsPage_med__T6SFg\",\"critical\":\"RoomDetailsPage_critical__2gPiW\",\"neutral\":\"RoomDetailsPage_neutral__2SrpQ\",\"btn\":\"RoomDetailsPage_btn__3tYWx\",\"comments\":\"RoomDetailsPage_comments__1nTSD\",\"comment\":\"RoomDetailsPage_comment__1rwNF\",\"author\":\"RoomDetailsPage_author__tbk-d\",\"container\":\"RoomDetailsPage_container__2fZtP\",\"map\":\"RoomDetailsPage_map__2yhwI\",\"overlay\":\"RoomDetailsPage_overlay__1x7-D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"ShiftPicker_menu__1os-v\",\"row\":\"ShiftPicker_row__rUGBG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageContainer\":\"PageContainer_pageContainer__iX86t\",\"pageContent\":\"PageContainer_pageContent__1wPf8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerRow\":\"CleanersPage_headerRow__20bGG\",\"bold\":\"CleanersPage_bold__qIG9F\",\"menu\":\"CleanersPage_menu__1x8Ct\",\"row\":\"CleanersPage_row__2H2UE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"good\":\"CleaningReportTable_good__2fi-5\",\"semiBold\":\"CleaningReportTable_semiBold__3M_nh\"};","module.exports = __webpack_public_path__ + \"static/media/heatmap2.dbb6a747.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"ReportPage_row__1XU8D\",\"semiBold\":\"ReportPage_semiBold__20bHc\",\"reportInfo\":\"ReportPage_reportInfo__KuWwG\",\"column\":\"ReportPage_column__1fkvo\",\"good\":\"ReportPage_good__IEB1u\",\"medium\":\"ReportPage_medium__1jIMT\",\"critical\":\"ReportPage_critical___2FfG\",\"container\":\"ReportPage_container__rVF_Z\",\"map\":\"ReportPage_map__1ruE5\",\"overlay\":\"ReportPage_overlay__3SQk1\",\"comments\":\"ReportPage_comments__vvAhd\",\"comment\":\"ReportPage_comment__38N5l\"};","module.exports = __webpack_public_path__ + \"static/media/web_logo.11335064.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.75e400ae.png\";","module.exports = __webpack_public_path__ + \"static/media/hospital.ea9e1e90.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"autocomplete\":\"CleanerSelect_autocomplete__2dss4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"semiBold\":\"DashboardPage_semiBold__1wP56\",\"stat\":\"DashboardPage_stat__1HNGL\",\"keyStat\":\"DashboardPage_keyStat__3TqkO\",\"subtitle\":\"DashboardPage_subtitle__SKIyw\",\"grid\":\"DashboardPage_grid__3i4Zn\",\"alerts\":\"DashboardPage_alerts__1Vbju\",\"alert\":\"DashboardPage_alert__3qisR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toolbar\":\"Toolbar_toolbar__1Bm9j\",\"name\":\"Toolbar_name__3EvOQ\",\"svg\":\"Toolbar_svg__3XlL9\",\"tab\":\"Toolbar_tab__3uwiV\",\"logo\":\"Toolbar_logo__2iJuv\"};","export const API_KEY = 'zL43mXgXk5xa7YFRBVZscbLnGFaqVh24q5G6fhGjmAv532FAVBRtnuCJpwXWXnhw';\nexport const BASE_URL = 'https://cleaner-app-api.azurewebsites.net/api/';\n\nexport const UNCLEANED = 'Uncleaned due to some reason';\n\nexport const ROOM_TYPES = Object.freeze({\n  OFFICE: {\n    frequency: 1,\n    cleaningTime: 5,\n    displayName: 'Office',\n    key: 'OFFICE'\n  },\n  TOILET: {\n    frequency: 5,\n    cleaningTime: 5,\n    displayName: 'Toilet',\n    key: 'TOILET'\n  },\n  WARD_ROOM: {\n    frequency: 5,\n    cleaningTime: 8,\n    displayName: 'Ward room',\n    key: 'WARD_ROOM'\n  },\n  EXAMINATION_ROOM: {\n    frequency: 5,\n    cleaningTime: 6,\n    displayName: 'Examination room',\n    key: 'EXAMINATION_ROOM'\n  },\n  CORRIDOR: {\n    frequency: 3,\n    cleaningTime: 9,\n    displayName: 'Corridor',\n    key: 'CORRIDOR'\n  },\n  WAITING_ROOM: {\n    frequency: 5,\n    cleaningTime: 10,\n    displayName: 'Waiting room',\n    key: 'WAITING_ROOM'\n  },\n});\n\nexport const HOSPITAL_MAP = Object.freeze({\n  name: \"hospital map\",\n  areas: [\n    {\n      shape: \"rect\",\n      coords: [132, 25, 193, 144],\n    },\n    {\n      shape: \"rect\",\n      coords: [62, 27, 126, 144],\n    },\n    {\n      shape: \"rect\",\n      coords: [9, 48, 57, 160],\n    },\n    {\n      shape: \"rect\",\n      coords: [9, 165, 79, 254],\n    },\n    {\n      shape: \"poly\",\n      coords: [368, 27, 368, 113, 316, 113, 316, 27, 369, 27],\n    },\n    {\n      shape: \"poly\",\n      coords: [\n        310,\n        112,\n        288,\n        112,\n        287,\n        160,\n        253,\n        160,\n        253,\n        74,\n        201,\n        74,\n        200,\n        26,\n        311,\n        26,\n        312,\n        112,\n        310,\n        111,\n      ],\n    },\n    {\n      shape: \"rect\",\n      coords: [291, 116, 369, 160],\n    },\n    {\n      shape: \"rect\",\n      coords: [374, 27, 429, 144],\n    },\n    {\n      shape: \"rect\",\n      coords: [433, 27, 488, 145],\n    },\n    {\n      shape: \"rect\",\n      coords: [494, 27, 548, 145],\n    },\n    {\n      shape: \"rect\",\n      coords: [554, 26, 608, 145],\n    },\n    {\n      shape: \"rect\",\n      coords: [373, 149, 641, 211],\n    },\n    {\n      shape: \"rect\",\n      coords: [596, 216, 639, 307],\n    },\n    {\n      shape: \"rect\",\n      coords: [522, 216, 558, 307],\n    },\n    {\n      shape: \"rect\",\n      coords: [476, 215, 517, 306],\n    },\n    {\n      shape: \"rect\",\n      coords: [418, 215, 472, 306],\n    },\n    {\n      shape: \"rect\",\n      coords: [365, 215, 414, 307],\n    },\n    {\n      shape: \"rect\",\n      coords: [293, 216, 360, 307],\n    },\n    {\n      shape: \"rect\",\n      coords: [259, 214, 289, 307],\n    },\n    {\n      shape: \"rect\",\n      coords: [174, 258, 255, 305],\n    },\n    {\n      shape: \"rect\",\n      coords: [175, 215, 255, 255],\n    },\n    {\n      shape: \"rect\",\n      coords: [85, 215, 172, 256],\n    },\n    {\n      shape: \"rect\",\n      coords: [85, 259, 171, 307],\n    },\n    {\n      shape: \"poly\",\n      coords: [\n        368,\n        164,\n        368,\n        211,\n        85,\n        210,\n        84,\n        149,\n        184,\n        148,\n        184,\n        164,\n        368,\n        164,\n        368,\n        163,\n      ],\n    },\n    {\n      shape: \"poly\",\n      coords: [\n        84,\n        370,\n        193,\n        371,\n        194,\n        356,\n        258,\n        357,\n        257,\n        310,\n        83,\n        310,\n        83,\n        370,\n      ],\n    },\n    {\n      shape: \"rect\",\n      coords: [9, 262, 79, 358],\n    },\n    {\n      shape: \"rect\",\n      coords: [262, 311, 369, 358],\n    },\n    {\n      shape: \"rect\",\n      coords: [373, 310, 608, 372],\n    },\n    {\n      shape: \"rect\",\n      coords: [551, 378, 610, 494],\n    },\n    {\n      shape: \"rect\",\n      coords: [492, 377, 550, 494],\n    },\n    {\n      shape: \"rect\",\n      coords: [432, 377, 487, 494],\n    },\n    {\n      shape: \"rect\",\n      coords: [374, 376, 428, 494],\n    },\n    {\n      shape: \"rect\",\n      coords: [290, 362, 369, 405],\n    },\n    {\n      shape: \"rect\",\n      coords: [13, 363, 57, 474],\n    },\n    {\n      shape: \"rect\",\n      coords: [61, 376, 129, 492],\n    },\n    {\n      shape: \"poly\",\n      coords: [\n        368,\n        494,\n        368,\n        409,\n        285,\n        409,\n        286,\n        362,\n        261,\n        362,\n        262,\n        494,\n        368,\n        494,\n      ],\n    },\n    {\n      shape: \"poly\",\n      coords: [\n        133,\n        376,\n        133,\n        494,\n        194,\n        494,\n        194,\n        441,\n        247,\n        442,\n        249,\n        397,\n        195,\n        396,\n        195,\n        376,\n        133,\n        377,\n      ],\n    },\n  ],\n});","import {API_KEY, BASE_URL} from \"./constants\";\n\nexport let GLOBAL_HOSPITAL = localStorage.getItem('hospital') || false;\nexport let GLOBAL_HOSPITAL_NAME = localStorage.getItem('hospital_name') || false;\n\n\nexport const authenticated = () => {\n  return localStorage.getItem('user') !== null;\n};\n\nexport const getUser = () => {\n  if (authenticated()) {\n    return JSON.parse(localStorage.getItem('user'));\n  } else {\n    return false;\n  }\n}\n\nexport const authenticate = (username, password) => {\n  let isSuperAdmin = false;\n  if (username === 'superadmin' && password === 'admin') {\n    isSuperAdmin = true;\n  }\n  localStorage.setItem('user', JSON.stringify({\n    username,\n    superAdmin: isSuperAdmin\n  }));\n  return true;\n}\n\nexport const setGlobalHospital = (hospital) => {\n  if (hospital) {\n    localStorage.setItem('hospital', hospital);\n  } else {\n    localStorage.removeItem('hospital');\n  }\n  GLOBAL_HOSPITAL = hospital;\n}\n\nexport const setGlobalHospitalName = (hospital) => {\n  if (hospital) {\n    localStorage.setItem('hospital_name', hospital);\n  } else {\n    localStorage.removeItem('hospital_name');\n  }\n  GLOBAL_HOSPITAL_NAME = hospital;\n}\n\nexport const logout = () => {\n  localStorage.removeItem('user');\n}\n\nconst addParam = (property, params, parameter) => {\n  let newParams = params;\n  if (params.length > 0 && parameter) {\n    newParams += `&${property}=${parameter}`;\n  } else if (parameter) {\n    newParams += `?${property}=${parameter}`;\n  }\n  return newParams;\n}\n\n\nexport const getRooms = async (hospital, floor, showAssigned) => {\n  const url = 'rooms';\n  hospital = hospital || GLOBAL_HOSPITAL;\n  let params = addParam('hospital_id', '', hospital);\n  params = addParam('floor', params, floor);\n  showAssigned = showAssigned ? 1 : 0;\n  params = addParam('assigned_cleaners', params, showAssigned);\n  return doGetRequest(url, params);\n}\n\nexport const getHospitals = async () => {\n  return doGetRequest('hospitals');\n}\n\nexport const startCleaning = async (roomId) => {\n  return doGetRequest(`room/startcleaning?id=${roomId}`);\n}\n\nexport const stopCleaning = async (roomId) => {\n  return doGetRequest(`room/stopcleaning?id=${roomId}`);\n}\n\nexport const getAssignedRooms = async (cleanerId) => {\n  return doGetRequest(`cleaners/rooms?cleaner_id=${cleanerId}`);\n}\n\nexport const getAssignedCleaners = async (roomId) => {\n  return doGetRequest(`cleaners/rooms?room_id=${roomId}`);\n}\n\nexport const assignRoomsToCleaner = async (rooms, cleaner) => {\n  return Promise.all(rooms.map((room) => {\n    return assignRoom(room['_id'], cleaner);\n  }));\n}\n\nexport const unAssignRooms = async (rooms) => {\n  return Promise.all(rooms.map((room) => {\n    return unAssignRoom(room['_id'], room['assigned_cleaners'][0]['_id']);\n  }));\n}\n\nexport const assignRoom = async (room, cleaner) => {\n  return doPostRequest('cleaners/rooms', JSON.stringify({\n    'cleaner_id': cleaner,\n    'room_id': room\n  }));\n}\n\nexport const unAssignRoom = async (room, cleaner) => {\n  return doDeleteRequest('cleaners/rooms', JSON.stringify({\n    'cleaner_id': cleaner,\n    'room_id': room\n  }));\n}\n\nexport const getRoom = async (roomId) => {\n  return doGetRequest(`room?_id=${roomId}`);\n}\n\nexport const getCleaners = async () => {\n  return doGetRequest('cleaners/');\n}\n\nexport const getCleaner = async (cleanerId) => {\n  return doGetRequest(`cleaner?_id=${cleanerId}`);\n}\n\nexport const createCleaner = async (name, shiftStart, shiftEnd) => {\n  return doPostRequest('cleaner/', JSON.stringify({\n    name,\n    'shift_start': shiftStart,\n    'shift_end': shiftEnd\n  }));\n}\n\nexport const getReports = async (roomId, cleanerId, hospital) => {\n  hospital = hospital || GLOBAL_HOSPITAL_NAME;\n  let params = addParam('room_id', '', roomId);\n  params = addParam('cleaner_id', params, cleanerId);\n  params = addParam('hospital_name', params, hospital);\n  return doGetRequest('reports', params)\n}\n\nexport const deleteCleaner = async (cleanerId) => {\n  return doDeleteRequest('cleaner', JSON.stringify({\n    '_id': cleanerId\n  }));\n}\n\nexport const getReport = async (reportId) => {\n  return doGetRequest(`report?_id=${reportId}`);\n}\n\nexport const getHeatmap = async (reportId, type) => {\n  const requestURL = BASE_URL + `report/heatmap?_id=${reportId}&type=${type}`\n  const response = await fetch(requestURL, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/octet-stream',\n      'Authorization': API_KEY,\n      'charset': 'utf-8'\n    }\n  });\n  if (response.ok) {\n    return response.arrayBuffer();\n  } else {\n    const json = await response.json();\n    console.log(json)\n    throw new Error(json.error);\n  }\n}\n\nexport const getRoomHeatmap = async (roomId, type) => {\n  const requestURL = BASE_URL + `room/heatmap?_id=${roomId}&type=${type}`\n  const response = await fetch(requestURL, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/octet-stream',\n      'Authorization': API_KEY,\n      'charset': 'utf-8'\n    }\n  });\n  if (response.ok) {\n    return response.arrayBuffer();\n  } else {\n    const json = await response.json();\n    throw new Error(json.error);\n  }\n}\n\nexport const editCleaner = async (cleaner) => {\n  return doPutRequest('cleaner/', JSON.stringify({\n    '_id': cleaner['_id'],\n    'name': cleaner.name,\n    'shift_start': cleaner['shift_start'],\n    'shift_end': cleaner['shift_end']\n  }));\n}\n\nexport const getSimulatorSettings = async () => {\n  return doGetRequest('simulator/settings');\n}\n\nexport const setSimulation = async (speed) => {\n  console.log(speed)\n  return doPutRequest('simulator/settings', JSON.stringify({'simulator_speed': speed}));\n}\n\nexport const resetSimulation = async () => {\n  return doGetRequest('simulator/clear');\n}\n\nexport const createRoom = async (hospital, name, type, building, floor) => {\n  return doPostRequest('/room', JSON.stringify({\n    'hospital_id': hospital,\n    'name': name,\n    'is_simulated': true,\n    'room_type': type,\n    'building': building,\n    'floor': floor\n  }));\n}\n\nexport const getFloorplan = async (id) => {\n  const response = await fetch(`${BASE_URL}room/floorplan?_id=${id}`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'image/png',\n      'Authorization': API_KEY,\n      'charset': 'utf-8'\n    }\n  });\n  if (response.ok) {\n    return response.blob();\n  } else {\n    throw new Error(response.statusText);\n  }\n}\n\nconst doGetRequest = async (url, params) => {\n  const requestURL = BASE_URL + url + (params || '');\n  const response = await fetch(requestURL, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': API_KEY,\n      'charset': 'utf-8'\n    }\n  });\n  if (response.ok) {\n    return response.json();\n  } else {\n    throw new Error(await response.json().message);\n  }\n}\n\nconst doPostRequest = async (url, params) => {\n  const requestURL = BASE_URL + url;\n  const response = await fetch(requestURL, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': API_KEY,\n      'charset': 'utf-8'\n    },\n    body: params\n  });\n  if (response.ok) {\n    return response.json();\n  } else {\n    throw new Error(await response.json().message);\n  }\n}\n\nconst doDeleteRequest = async (url, params) => {\n  const requestURL = BASE_URL + url;\n  const response = await fetch(requestURL, {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': API_KEY,\n      'charset': 'utf-8'\n    },\n    body: params\n  });\n  if (response.ok) {\n    return response.json();\n  } else {\n    throw new Error(await response.json().message);\n  }\n}\n\nconst doPutRequest = async (url, params) => {\n  const requestURL = BASE_URL + url;\n  const response = await fetch(requestURL, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': API_KEY,\n      'charset': 'utf-8'\n    },\n    body: params\n  });\n  if (response.ok) {\n    return response.json();\n  } else {\n    throw new Error(await response.json().message);\n  }\n}","import PageContainer from './PageContainer';\nexport default PageContainer;\n","import React from 'react';\nimport styles from './PageContainer.module.scss';\nimport PropTypes from 'prop-types';\n\nconst PageContainer = ({ children, style, noToolbar }) => {\n  const top = noToolbar ? 0 : '48px';\n  return (\n    <div className={styles.pageContainer} style={{top}}>\n      <div className={styles.pageContent} style={style}>{children}</div>\n    </div>\n  );\n};\n\nPageContainer.propTypes = {\n  children: PropTypes.node,\n  style: PropTypes.object,\n  noToolbar: PropTypes.bool\n};\n\nexport default PageContainer;\n","import React from \"react\";\nimport styles from \"./DashboardPage.module.scss\";\nimport {Typography} from \"@material-ui/core\";\n\nconst KeyStat = ({value, subtitle, color}) => {\n  return (\n    <div className={styles.stat}>\n      <div className={styles.keyStat}>\n        <Typography variant={\"h3\"} style={{color}}>{value}</Typography>\n      </div>\n      <Typography variant={\"body2\"} className={styles.subtitle}>{subtitle}</Typography>\n    </div>\n  );\n}\n\nexport default KeyStat;","import StatusDot from './StatusDot';\nexport default StatusDot;","import React from 'react';\nimport styles from './StatusDot.module.scss';\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport PropTypes from \"prop-types\";\n\n\nconst StatusDot = ({variant, size, tooltip}) => {\n  const classes = [styles.dot];\n  classes.push(variant ? styles[variant] : styles.neutral);\n  classes.push(size ? styles[size] : styles.small);\n  return (\n    <Tooltip title={tooltip}>\n      <div className={classes.join(' ')}/>\n    </Tooltip>\n  );\n}\n\nStatusDot.propTypes = {\n  variant: PropTypes.oneOf(['good', 'critical', 'medium', 'neutral']).isRequired,\n  size: PropTypes.oneOf(['tiny', 'small', 'large']).isRequired,\n  tooltip: PropTypes.any\n}\n\nexport default StatusDot;","import {ROOM_TYPES} from \"./constants\";\nimport StatusDot from \"../components/StatusDot\";\nimport React from \"react\";\n\nexport const getRoomTypeProp = (room, propName) => {\n  return room['room_type'] !== '<empty>' ? ROOM_TYPES[room['room_type']][propName] : '';\n}\n\nexport const getStatus = (contamination) => {\n  let variant = 'neutral';\n  if (contamination >= 60) {\n    variant = 'critical';\n  } else if (contamination >= 30) {\n    variant = 'medium';\n  } else if (contamination < 30) {\n    variant = 'good';\n  }\n  return <StatusDot variant={variant} size={\"tiny\"} tooltip={contamination}/>\n}\n\nexport const getVariant = (contamination) => {\n  let variant = 'neutral';\n  if (contamination >= 60) {\n    variant = 'critical';\n  } else if (contamination >= 30) {\n    variant = 'medium';\n  } else if (contamination < 30) {\n    variant = 'good';\n  }\n  return variant;\n}\n\nexport const getVariantColor = (contamination) => {\n  let variant = '#CFD3DA';\n  if (contamination >= 60) {\n    variant = '#EB5757';\n  } else if (contamination >= 30) {\n    variant = '#F2C94C';\n  } else if (contamination < 30) {\n    variant = '#27AE60';\n  }\n  return variant;\n}\n\nexport const mergeCleaners = (rooms) => {\n  return rooms.map((room) => {\n    room.status = room['contamination_index'];\n    const cleaners = room['assigned_cleaners'];\n    const cleaner = cleaners.length > 0 && cleaners[0];\n    if (cleaner) {\n      room.cleaner = cleaner;\n      room['cleaner_name'] = cleaner.name;\n    } else {\n      room['cleaner_name'] = '-';\n    }\n    return room;\n  });\n}\n\nfunction convert64to8(array, scaler) {\n  let min, max, pix;\n  // eslint-disable-next-line no-undef\n  let minRaw = BigInt(Number.MAX_SAFE_INTEGER);\n  // eslint-disable-next-line no-undef\n  let maxRaw = BigInt(0);\n  for (let j = 0; j < array.length; j++) {\n    pix = array[j]\n    if (pix < minRaw) {\n      minRaw = pix\n    }\n    if (pix > maxRaw) {\n      maxRaw = pix\n    }\n  }\n  // eslint-disable-next-line no-undef\n  max = BigInt(maxRaw) / scaler;\n  // eslint-disable-next-line no-undef\n  min = BigInt(minRaw);\n  let pix1;\n  let im_p = [];\n  if (max <= min) {\n    max = min + 1n\n  }\n  for (let i = 0; i < array.length; i++) {\n    // eslint-disable-next-line no-undef\n    pix1 = (array[i] - min) * 255n / (max - min);\n    if (pix1 > 255n) {\n      pix1 = 255\n    }\n    if (pix1 < 0n) {\n      pix1 = 0n\n    }\n    im_p.push(Number(pix1));\n  }\n  return new Uint8Array(im_p);\n}\n\n// lookup color table to apply to grayscale image\nfunction initColorMaps() {\n  let tableRed = []\n  let tableGreen = []\n  let tableBlue = []\n  let red, green, blue;\n  let a, b;\n  for (let i = 0; i <= 255; i++) {\n    a = i * 0.01236846501;\n    b = Math.cos(a - 1.0)\n    red = Math.round(Math.pow(2.0, Math.sin(a - 1.6)) * 200)\n    green = Math.round(Math.atan(a) * b * 155 + 100.0)\n    blue = Math.round(b * 255)\n    red = Math.min(255, red);\n    green = Math.min(255, green);\n    blue = Math.min(255, blue);\n    red = Math.max(0, red);\n    green = Math.max(0, green);\n    blue = Math.max(0, blue);\n    tableRed.push(red)\n    tableGreen.push(green)\n    tableBlue.push(blue)\n  }\n  return [new Uint8ClampedArray(tableRed), new Uint8ClampedArray(tableGreen), new Uint8ClampedArray(tableBlue)];\n}\n\nexport function update_img(arrayBuffer, auxCanvas, canvas, scaler, clean) {\n  let arr = null;\n  try {\n    // eslint-disable-next-line no-undef\n    arr = new BigUint64Array(arrayBuffer);\n  } catch (error) {\n    throw error;\n  }\n  let bytearray = convert64to8(arr, scaler);\n  let [redMap, greenMap, blueMap] = initColorMaps();\n  let img = null; //ImageData\n  let imgArr = null; //Uint8ClampedArray\n  const h = Math.round(bytearray.length / 72);\n  if (bytearray) {\n    img = new ImageData(72, h); // Note: the actual array is 4 times bigger because has (RGBA) pixels\n    imgArr = img.data;\n    let byteIdx = 0;\n    // color mapped image\n    for (let imgIdx = 0; imgIdx < imgArr.length; imgIdx += 4) {\n      let grayValue = bytearray[byteIdx];\n      imgArr[imgIdx] = redMap[grayValue]; // R value\n      imgArr[imgIdx + 1] = greenMap[grayValue]; // G value\n      imgArr[imgIdx + 2] = blueMap[grayValue]; // B value\n      imgArr[imgIdx + 3] = 255; // Alpha value\n      if (imgArr[imgIdx] !== redMap[0] && imgArr[imgIdx + 1] !== greenMap[0] && imgArr[imgIdx + 2] !== blueMap[0] && clean) {\n        imgArr[imgIdx] = 0; // R value\n        imgArr[imgIdx + 1] = greenMap[grayValue] // G value\n        imgArr[imgIdx + 2] = 0; // B value\n      }\n\n      byteIdx++;\n    }\n  }\n  // Scaling. It seems that with putImageData we cannot scale the canvas directly\n  // auxCanvas has the image and\n  let ctx = canvas.getContext('2d');\n  auxCanvas.getContext(\"2d\").putImageData(img, 0, 0);\n  ctx.drawImage(auxCanvas, 0, 0)\n  // flip Y AND X axis\n  canvas.style = \"transform: scale(1, 1); flex: 1\";\n}\n\nexport function hexToRgb(hex) {\n  let result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16)\n  } : null;\n}","import ReportsPerDay from './ReportsPerDay';\nexport default ReportsPerDay;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport {\n  LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer\n} from 'recharts';\nimport moment from \"moment\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport styles from \"./ReportsPerDay.module.scss\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {Typography} from \"@material-ui/core\";\n\nconst ReportsPerDay = ({reports, loading}) => {\n  let data = reports.map((report) => {\n    return moment(report['cleaning_time']).format('DD.MM.YYYY');\n  })\n  const counts = {};\n  data.forEach((x) => {\n    counts[x] = (counts[x] || 0) + 1;\n  });\n  const formattedReports = [];\n  Object.keys(counts).forEach((x) => {\n    formattedReports.push({\n      date: x,\n      amount: counts[x]\n    });\n  });\n\n  return (\n    <div style={{height: '100%'}}>\n      <Paper className={styles.container}>\n        <Typography variant={\"h6\"} className={styles.title}>Cleaning events per day</Typography>\n        <>\n          {loading ? <CircularProgress color={\"secondary\"} style={{margin: 'auto'}}/> :\n            <ResponsiveContainer width=\"100%\" height={400} className={styles.chart}>\n              {formattedReports.length === 0 ?\n                <Typography variant={\"h6\"} className={styles.title} style={{textAlign: 'center'}}>No cleaning events</Typography>\n                :\n                <LineChart data={formattedReports}>\n                  <XAxis dataKey=\"date\"/>\n                  <YAxis/>\n                  <CartesianGrid strokeDasharray=\"3 3\"/>\n                  <Tooltip/>\n                  <Legend/>\n                  <Line type=\"monotone\" dataKey=\"amount\" name=\"Cleaning events\" stroke=\"#8884d8\" strokeWidth={2}/>\n                </LineChart>\n              }\n\n            </ResponsiveContainer>\n          }\n        </>\n      </Paper>\n    </div>\n  )\n}\n\nReportsPerDay.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  reports: PropTypes.array.isRequired\n};\n\nexport default ReportsPerDay;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./DashboardPage.module.scss\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport {UNCLEANED} from \"../../utils/constants\";\nimport {ArrowForward} from \"@material-ui/icons\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {useHistory} from \"react-router-dom\";\nimport moment from \"moment\";\n\nconst Alerts = ({reports, loading}) => {\n  const history = useHistory();\n  const today = moment();\n  const filtered = reports.filter((report) => {\n    return report.overview === UNCLEANED && today.isSame(report['cleaning_time'], 'date');\n  });\n\n  const openReport = (id) => {\n    history.push({\n      pathname: `/rooms/reports/${id}`,\n      state: {id}\n    })\n  }\n  return (\n    <div className={styles.alerts}>\n      {loading ? <CircularProgress size={20} style={{margin: 'auto'}}/> :\n        <>\n          {filtered.map((report) => (\n            <div key={report['_id']} className={styles.alert} onClick={() => {\n              openReport(report['_id']);\n            }}>\n              <Grid container direction={\"row\"} alignItems={\"center\"} justify={\"space-between\"}>\n                <Grid item>\n                  <Typography variant={\"h6\"} className={styles.semiBold}>{report['room_name']},\n                    Floor {report.floor}</Typography>\n                  <Typography variant={\"body2\"} className={styles.semiBold} style={{lineHeight: '24px'}}\n                              color=\"textSecondary\">{report['cleaner_name']}: {report.comments}</Typography>\n                </Grid>\n                <Grid item>\n                  <ArrowForward color={\"action\"} style={{fontSize: '1.75rem'}}/>\n                </Grid>\n              </Grid>\n            </div>\n          ))}\n          {filtered.length === 0 &&\n          <Typography variant={\"h6\"} style={{marginTop: 16}} className={styles.semiBold}>No recent alerts</Typography>\n          }\n        </>\n      }\n    </div>\n  );\n}\n\nAlerts.propTypes = {\n  reports: PropTypes.array.isRequired,\n  loading: PropTypes.bool.isRequired\n}\n\nexport default Alerts;","import DashboardPage from './DashboardPage';\nexport default DashboardPage;\n","import React, {useEffect, useState} from 'react';\nimport Typography from \"@material-ui/core/Typography\";\nimport PageContainer from \"../../containers/PageContainer\";\nimport styles from './DashboardPage.module.scss';\nimport Grid from \"@material-ui/core/Grid\";\nimport KeyStat from \"./KeyStat\";\nimport {\n  getHospitals,\n  getReports,\n  getRooms,\n  getUser,\n  GLOBAL_HOSPITAL,\n  setGlobalHospital,\n  setGlobalHospitalName\n} from \"../../utils/api\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport moment from \"moment\";\nimport {getVariant, getVariantColor} from \"../../utils/utils\";\nimport ReportsPerDay from \"../../components/Charts/ReportsPerDay\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Alerts from \"./Alerts\";\nimport {IconButton, Tooltip} from \"@material-ui/core\";\nimport {Refresh} from \"@material-ui/icons\";\n\nconst DashboardPage = () => {\n  const [user, setUser] = useState('');\n  const [rooms, setRooms] = useState([]);\n  const [reports, setReports] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [hospitals, setHospitals] = useState([]);\n  const [hospital, setHospital] = useState(GLOBAL_HOSPITAL);\n  const [hospitalSet, setHospitalSet] = useState(false);\n  const [fetchData, setFetchData] = useState(false);\n\n  useEffect(() => {\n    const u = getUser();\n    setUser(u);\n    setLoading(true);\n    Promise.all([getRooms(), getReports()])\n      .then((result) => {\n        setRooms(result[0]);\n        setReports(result[1]);\n        setLoading(false);\n      });\n    if (!hospitalSet) {\n      getHospitals()\n        .then((result) => {\n          setHospitals(result);\n        });\n    }\n  }, [hospitalSet, hospital, fetchData]);\n\n  const hospitalSelected = (event) => {\n    setHospital(event.target.value);\n    setGlobalHospital(event.target.value);\n    const hospital = hospitals.find((x) => x['_id'] === event.target.value);\n    setGlobalHospitalName(hospital ? hospital.name : false);\n    setHospitalSet(!hospitalSet);\n  }\n\n  const getCleanedRooms = () => {\n    const today = moment();\n    return rooms.filter((room) => {\n      if (!room['last_cleaned']) {\n        return false;\n      }\n      return moment(room['last_cleaned']).isSame(today, 'date');\n    }).length;\n  }\n\n  const getContaminationIndex = () => {\n    const contaminations = [];\n    rooms.forEach((room) => {\n      const val = room['contamination_index'];\n      if (val > 150) {\n        contaminations.push(150);\n      } else if (val < 0) {\n        contaminations.push(0);\n      } else {\n        contaminations.push(val);\n      }\n    });\n    return Math.round((contaminations.reduce((a, b) => (a + b)) / contaminations.length));\n  }\n\n  const getGreenRooms = () => {\n    return rooms.filter((room) => {\n      return getVariant(room['contamination_index']) === 'good';\n    }).length;\n  }\n\n  const getRedRooms = () => {\n    return rooms.filter((room) => {\n      return getVariant(room['contamination_index']) === 'critical';\n    }).length;\n  }\n\n  const getColor = () => {\n    return getVariantColor(getContaminationIndex());\n  }\n\n  return (\n    <PageContainer style={{textAlign: 'start'}}>\n      <Grid container direction={\"row\"} justify={\"space-between\"} alignItems={\"center\"}>\n        <Grid item style={{display: 'flex', flexDirection: 'row', alignItems: 'center'}}>\n          <Typography variant={\"h4\"}>Hello {user && user.username}!</Typography>\n          <Tooltip title={\"Refresh\"}>\n            <IconButton onClick={() => {\n              setFetchData(!fetchData);\n            }}>\n              <Refresh/>\n            </IconButton>\n          </Tooltip>\n        </Grid>\n        <Grid item>\n          <FormControl variant={'outlined'} style={{minWidth: '320px', margin: '8px'}}>\n            <InputLabel id=\"demo-simple-select-outlined-label\">Select hospital</InputLabel>\n            <Select label=\"Select Hospital\" onChange={hospitalSelected} value={hospital}>\n              <MenuItem value={false}>\n                <em>All</em>\n              </MenuItem>\n              {\n                hospitals.map(hosp => (\n                  <MenuItem value={hosp['_id']} key={hosp['_id']}>{hosp.name}</MenuItem>\n                ))\n              }\n            </Select>\n          </FormControl>\n        </Grid>\n      </Grid>\n      <Grid container spacing={6}>\n        <Grid item xs={5}>\n          <Typography variant={\"h5\"} className={styles.semiBold}>Alerts</Typography>\n          <Alerts reports={reports} loading={loading}/>\n        </Grid>\n        <Grid item xs className={styles.grid} style={{marginTop: 48}}>\n          <Grid container spacing={4} justify={\"space-between\"}>\n            <Grid item>\n              <KeyStat subtitle={\"Rooms cleaned today\"}\n                       value={loading ? <CircularProgress color={\"secondary\"}/> : getCleanedRooms()} color={\"#F2C94C\"}/>\n            </Grid>\n            <Grid item>\n              <KeyStat subtitle={\"Average contamination index\"}\n                       value={loading ? <CircularProgress color={\"secondary\"}/> : getContaminationIndex() + '%'}\n                       color={!loading && getColor()}/>\n            </Grid>\n            <Grid item>\n              <KeyStat subtitle={\"Green rooms\"}\n                       value={loading ? <CircularProgress color={\"secondary\"}/> : getGreenRooms()} color={\"#27AE60\"}/>\n            </Grid>\n            <Grid item>\n              <KeyStat subtitle={\"Red rooms\"} value={loading ? <CircularProgress color={\"secondary\"}/> : getRedRooms()}\n                       color={\"#EB5757\"}/>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n      <ReportsPerDay loading={loading} reports={reports}/>\n    </PageContainer>\n  )\n}\n\nexport default DashboardPage;","import React from 'react';\nimport PageContainer from \"../../containers/PageContainer\";\nimport {TextField} from \"formik-material-ui\";\nimport {Formik, Form, Field} from \"formik\";\nimport {Button, Grid, Typography} from \"@material-ui/core\";\nimport * as Yup from \"yup\";\nimport {authenticate} from \"../../utils/api\";\nimport {useHistory} from 'react-router-dom';\nimport Paper from \"@material-ui/core/Paper\";\nimport styles from './LoginPage.module.scss';\nimport logo from \"../../assets/web_logo.png\";\n\nconst validationSchema = Yup.object({\n  username: Yup.string().required('Username is required'),\n  password: Yup.string().required('Password is required')\n});\n\nconst LoginPage = () => {\n  const history = useHistory();\n\n  const initialValues = {\n    username: '',\n    password: ''\n  }\n\n  const handleSubmit = (vars, {setSubmitting}) => {\n    console.log(vars)\n    authenticate(vars.username, vars.password);\n    history.push('/dashboard');\n  }\n\n  return (\n    <PageContainer noToolbar>\n      <Grid container direction={\"row\"} spacing={2} className={styles.content}>\n        <Grid item xs={12}>\n          <img src={logo} alt=\"LeviTeZer\" className={styles.img}/>\n        </Grid>\n        <Grid item xs={12}>\n          <Paper variant={\"elevation\"} className={styles.form}>\n            <Formik initialValues={initialValues} onSubmit={handleSubmit} validationSchema={validationSchema}>\n              {({isSubmitting, resetForm, values}) => (\n                <Form>\n                  <Grid container spacing={2}>\n                    <Grid item xs={12}>\n                      <Typography variant={\"h4\"}>Login to Spotless</Typography>\n                    </Grid>\n                    <Grid item xs={12}>\n                      <Field\n                        component={TextField}\n                        autoFocus\n                        variant={\"outlined\"}\n                        margin=\"dense\"\n                        id=\"name\"\n                        label=\"Username\"\n                        type=\"text\"\n                        name=\"username\"\n                        fullWidth\n                      />\n                    </Grid>\n                    <Grid item xs={12}>\n                      <Field\n                        component={TextField}\n                        variant={\"outlined\"}\n                        margin=\"dense\"\n                        id=\"name\"\n                        label=\"Password\"\n                        type=\"password\"\n                        name=\"password\"\n                        fullWidth\n                      />\n                    </Grid>\n                  </Grid>\n                  <Button type=\"submit\" color=\"primary\" variant={\"contained\"} className={styles.btn}>Sign in</Button>\n                </Form>\n              )}\n            </Formik>\n          </Paper>\n        </Grid>\n      </Grid>\n    </PageContainer>\n  )\n}\n\nexport default LoginPage;","import LoginPage from './LoginPage';\nexport default LoginPage;\n","import {Grid, MenuItem, Typography} from \"@material-ui/core\";\nimport styles from \"./ShiftPicker.module.scss\";\nimport {Field} from \"formik\";\nimport {Select} from \"formik-material-ui\";\nimport React from \"react\";\n\n\nconst ShiftPicker = () => {\n  return (\n    <Grid item xs className={styles.row}>\n      <div>\n        <Typography variant={\"body1\"}>Shift start</Typography>\n        <div className={styles.row}>\n          <Field component={Select} name=\"startHour\">\n            {[...Array(24).keys()].map((number) => {\n              const num = number.toString().padStart(2, '0')\n              return <MenuItem key={number} value={num}>{num}</MenuItem>;\n            })}\n          </Field>\n          <Typography variant={\"h6\"}>:</Typography>\n          <Field component={Select} name=\"startMinutes\">\n            {['00', 15, 30, 45].map((number) => {\n              return <MenuItem key={number} value={number.toString()}>{number}</MenuItem>;\n            })}\n          </Field>\n        </div>\n      </div>\n      <Typography variant={\"h4\"} style={{margin: '0 16px'}}>-</Typography>\n      <div>\n        <Typography variant={\"body1\"}>Shift end</Typography>\n        <div className={styles.row}>\n          <Field component={Select} name=\"endHour\">\n            {[...Array(23).keys()].map((number) => {\n              return <MenuItem key={number} value={number.toString()}>{number}</MenuItem>;\n            })}\n          </Field>\n          <Typography variant={\"body1\"}>:</Typography>\n          <Field component={Select} name=\"endMinutes\">\n            {['00', 15, 30, 45].map((number) => {\n              return <MenuItem key={number} value={number.toString()}>{number}</MenuItem>;\n            })}\n          </Field>\n        </div>\n      </div>\n    </Grid>\n  )\n}\n\nexport default ShiftPicker;","import {Checkbox, TableCell, TableHead, TableRow, TableSortLabel} from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nfunction EnhancedTableHead(props) {\n  const {classes, onSelectAllClick, order, orderBy, numSelected, rowCount, onRequestSort, headCells, type} = props;\n  const createSortHandler = (property) => (event) => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        {type && type !== 'noSelection' &&\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            indeterminate={numSelected > 0 && numSelected < rowCount}\n            checked={rowCount > 0 && numSelected === rowCount}\n            onChange={onSelectAllClick}\n            inputProps={{'aria-label': 'select all desserts'}}\n          />\n        </TableCell>\n        }\n        {headCells.map((headCell) => (\n          <TableCell\n            key={headCell.id}\n            align={headCell.numeric ? 'right' : 'left'}\n            padding={headCell.disablePadding ? 'none' : 'default'}\n            sortDirection={orderBy === headCell.id ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === headCell.id}\n              direction={orderBy === headCell.id ? order : 'asc'}\n              onClick={createSortHandler(headCell.id)}\n            >\n              {headCell.label}\n              {orderBy === headCell.id ? (\n                <span className={classes.visuallyHidden}>\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number,\n  onRequestSort: PropTypes.func.isRequired,\n  onSelectAllClick: PropTypes.func,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number,\n  headCells: PropTypes.array.isRequired,\n  type: PropTypes.oneOf(['noSelection', 'selection'])\n};\n\nexport default EnhancedTableHead;\n","export function descendingComparator(a, b, orderBy) {\n  if (typeof a[orderBy] === 'string' && typeof b[orderBy] === 'string') {\n    if (a[orderBy] === undefined) return 1;\n    if (b[orderBy].toUpperCase() < a[orderBy].toUpperCase()) {\n      return -1;\n    }\n    if (b[orderBy].toUpperCase() > a[orderBy].toUpperCase()) {\n      return 1;\n    }\n    return 0;\n  } else {\n    if (a[orderBy] === undefined) return 1;\n\n    if (b[orderBy] < a[orderBy]) {\n      return -1;\n    }\n    if (b[orderBy] > a[orderBy]) {\n      return 1;\n    }\n    return 0;\n  }\n}\n\nexport function getComparator(order, orderBy) {\n  return order === 'desc'\n    ? (a, b) => descendingComparator(a, b, orderBy)\n    : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\nexport function stableSort(array, comparator) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map((el) => el[0]);\n}\n\nexport function handleClick(event, item, selected, setSelected) {\n  const selectedIndex = selected.indexOf(item);\n  let newSelected = [];\n\n  if (selectedIndex === -1) {\n    newSelected = newSelected.concat(selected, item);\n  } else if (selectedIndex === 0) {\n    newSelected = newSelected.concat(selected.slice(1));\n  } else if (selectedIndex === selected.length - 1) {\n    newSelected = newSelected.concat(selected.slice(0, -1));\n  } else if (selectedIndex > 0) {\n    newSelected = newSelected.concat(\n      selected.slice(0, selectedIndex),\n      selected.slice(selectedIndex + 1),\n    );\n  }\n\n  setSelected(newSelected);\n}","import React, {useEffect, useState} from 'react';\nimport {useHistory} from \"react-router-dom\";\nimport {\n  Grid,\n  IconButton,\n  Paper,\n  Table,\n  TableContainer,\n  TableRow,\n  Typography,\n  Tooltip,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  Button,\n  DialogActions, TablePagination,\n} from \"@material-ui/core\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport {AddCircleOutline, VisibilityOutlined} from \"@material-ui/icons\";\nimport {createCleaner, getCleaners, getRooms} from \"../../utils/api\";\nimport styles from './CleanersPage.module.scss';\nimport * as Yup from \"yup\";\nimport {Formik, Form, Field} from \"formik\";\nimport {TextField} from \"formik-material-ui\";\nimport PageContainer from \"../../containers/PageContainer\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport ShiftPicker from \"../../components/ShiftPicker/ShiftPicker\";\nimport moment from \"moment\";\nimport EnhancedTableHead from \"../../components/RoomSelector/EnhancedTableHead\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {getComparator, stableSort} from \"../../utils/tableUtils\";\n\nconst CleanersPage = () => {\n  const [cleaners, setCleaners] = useState([]);\n  const [rooms, setRooms] = useState([]);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [open, setOpen] = React.useState(false);\n  const [snackOpen, setSnackOpen] = useState(false);\n\n  useEffect(() => {\n    Promise.all([getCleaners(), getRooms(null, null, true)])\n      .then((responses) => {\n        setCleaners(responses[0]);\n        setRooms(responses[1]);\n        setIsLoaded(true);\n      }, (err) => {\n        console.log(err);\n      });\n  }, [setOpen, isLoaded])\n\n  const handleSnackClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setSnackOpen(false);\n  };\n\n  return (\n    <PageContainer style={{textAlign: 'start'}}>\n      <div className={styles.headerRow}>\n        <Typography variant={\"h5\"} className={styles.bold}>Cleaners</Typography>\n        <Tooltip title=\"Add cleaner\">\n          <IconButton onClick={() => setOpen(true)}>\n            <AddCircleOutline/>\n          </IconButton>\n        </Tooltip>\n      </div>\n      {isLoaded ? <CleanersTable cleaners={cleaners} rooms={rooms}/> :\n        <CircularProgress color=\"secondary\" style={{margin: '16px auto'}}/>}\n      <AddCleanerDialog open={open} setOpen={setOpen} setIsLoaded={setIsLoaded} setSnackOpen={setSnackOpen}/>\n      <Snackbar open={snackOpen} autoHideDuration={6000} onClose={handleSnackClose}\n                anchorOrigin={{vertical: \"top\", horizontal: \"center\"}}>\n        <Alert variant={\"filled\"} severity=\"success\" onClose={handleSnackClose}>\n          Cleaner created\n        </Alert>\n      </Snackbar>\n    </PageContainer>\n  )\n}\n\nconst validationSchema = Yup.object({\n  firstName: Yup.string().required('First name is required'),\n  lastName: Yup.string().required('Last name is required')\n});\n\nconst AddCleanerDialog = ({open, setOpen, setIsLoaded, setSnackOpen}) => {\n  const handleClose = () => {\n    setOpen(false);\n  }\n\n  const initialValues = {\n    firstName: '',\n    lastName: '',\n    startHour: '08',\n    endHour: '16',\n    startMinutes: '00',\n    endMinutes: '00'\n  }\n\n  const handleSubmit = async (vars, {setSubmitting}) => {\n    const cleaner = await createCleaner(`${vars.firstName} ${vars.lastName}`,\n      `${vars.startHour.padStart(2, '0')}:${vars.startMinutes.padStart(2, '0')}`,\n      `${vars.endHour.padStart(2, '0')}:${vars.endMinutes.padStart(2, '0')}`);\n    console.log(cleaner);\n    setIsLoaded(false);\n    setSubmitting(false);\n    setSnackOpen(true);\n    setOpen(false);\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n      <DialogTitle id=\"form-dialog-title\">Create a new cleaner</DialogTitle>\n      <Formik initialValues={initialValues} onSubmit={handleSubmit} validationSchema={validationSchema}>\n        {({isSubmitting, resetForm, values}) => (\n          <Form>\n            <DialogContent>\n              <Grid container spacing={2}>\n                <Grid item xs={6}>\n                  <Field\n                    component={TextField}\n                    autoFocus\n                    margin=\"dense\"\n                    id=\"name\"\n                    label=\"First name\"\n                    type=\"text\"\n                    name=\"firstName\"\n                    fullWidth\n                  />\n                </Grid>\n                <Grid item xs={6}>\n                  <Field\n                    component={TextField}\n                    margin=\"dense\"\n                    id=\"name\"\n                    label=\"Last name\"\n                    type=\"text\"\n                    name=\"lastName\"\n                    fullWidth\n                  />\n                </Grid>\n                <ShiftPicker/>\n              </Grid>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={handleClose} color=\"primary\">\n                Cancel\n              </Button>\n              <Button type=\"submit\" color=\"primary\">\n                Create cleaner\n              </Button>\n            </DialogActions>\n          </Form>\n        )}\n      </Formik>\n    </Dialog>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n}));\n\nconst CleanersTable = ({cleaners, rooms}) => {\n  const history = useHistory();\n  const classes = useStyles();\n  const [order, setOrder] = React.useState('asc');\n  const [orderBy, setOrderBy] = React.useState('name');\n  const [page, setPage] = React.useState(0);\n  const [cleanersPerPage, setCleanersPerPage] = React.useState(15);\n\n  const viewCleaner = (cleaner) => {\n    const id = cleaner['_id'];\n    history.push({\n      pathname: `/cleaners/${id}`,\n      state: {id}\n    })\n  }\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setCleanersPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  const getCleaningProgress = (cleaner) => {\n    const assignedRooms = rooms.filter((room) => {\n      return room['assigned_cleaners'].length > 0 && room['assigned_cleaners'][0]['_id'] === cleaner['_id'];\n    });\n    const today = moment();\n    const numCleaned = assignedRooms.filter((room) => {\n      if (!room['last_cleaned']) {\n        return false;\n      }\n      return moment(room['last_cleaned']).isSame(today, 'date');\n    }).length;\n    cleaner['cleaning_progress'] = (Math.round(((numCleaned / assignedRooms.length) * 100)) || 0) + '%';\n    return (\n      <Tooltip title={`${numCleaned}/${assignedRooms.length}`} placement={\"right\"}>\n        <Typography>{cleaner['cleaning_progress']}</Typography>\n      </Tooltip>\n    )\n  }\n\n  const getStatus = (cleaner) => {\n    const shiftStart = moment(cleaner['shift_start'], 'HH:mm');\n    const shiftEnd = moment(cleaner['shift_end'], 'HH:mm');\n    const isBetween = moment().isBetween(shiftStart, shiftEnd);\n    cleaner.status = isBetween ? '' : 'Unavailable';\n    return cleaner.status;\n  }\n  const headCells = [\n    {id: 'name', numeric: false, disablePadding: false, label: 'Name'},\n    {id: 'shift_start', numeric: true, disablePadding: false, label: 'Shift start'},\n    {id: 'shift_end', numeric: true, disablePadding: false, label: 'Shift end'},\n    {id: 'cleaning_progress', numeric: true, disablePadding: false, label: 'Cleaning progress'},\n    {id: 'current_location', numeric: true, disablePadding: false, label: 'Current location'},\n    {id: 'status', numeric: true, disablePadding: false, label: 'Status'},\n    {id: 'action', numeric: false, disablePadding: false, label: 'Action'},\n  ];\n  return (\n    <Paper>\n      <TableContainer>\n        <Table size={'small'}>\n          <EnhancedTableHead classes={classes} onRequestSort={handleRequestSort} order={order} orderBy={orderBy}\n                             headCells={headCells}/>\n          <TableBody>\n            {stableSort(cleaners, getComparator(order, orderBy))\n              .slice(page * cleanersPerPage, page * cleanersPerPage + cleanersPerPage)\n              .map((row, index) => {\n                const labelId = `enhanced-table-checkbox-${index}`;\n                return (\n                  <TableRow\n                    hover\n                    tabIndex={-1}\n                    key={labelId}\n                    style={{height: '33px'}}\n                  >\n                    <TableCell component=\"th\" scope=\"row\">{row.name}</TableCell>\n                    <TableCell align=\"right\">{row['shift_start']}</TableCell>\n                    <TableCell align=\"right\">{row['shift_end']}</TableCell>\n                    <TableCell align=\"right\">{getCleaningProgress(row)}</TableCell>\n                    <TableCell align=\"right\">{}</TableCell>\n                    <TableCell align=\"right\">{getStatus(row)}</TableCell>\n                    <TableCell>\n                      <IconButton size={\"small\"} color={\"secondary\"} onClick={() => {\n                        viewCleaner(row)\n                      }}><VisibilityOutlined/></IconButton>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <TablePagination\n        rowsPerPageOptions={[5, 10, 15, 25, 50]}\n        component=\"div\"\n        count={cleaners.length}\n        rowsPerPage={cleanersPerPage}\n        page={page}\n        onChangePage={handleChangePage}\n        onChangeRowsPerPage={handleChangeRowsPerPage}\n      />\n    </Paper>\n  );\n}\n\n\nexport default CleanersPage;","import CleanersPage from './CleanersPage';\nexport default CleanersPage;\n","import React, {useEffect, useState} from 'react';\nimport {AppBar, Typography, Tabs, Toolbar as MaterialToolbar, Tab, IconButton, Icon} from \"@material-ui/core\";\nimport {Link, useLocation, matchPath, useHistory} from 'react-router-dom';\nimport {withStyles} from \"@material-ui/core/styles\";\nimport styles from './Toolbar.module.scss';\nimport {\n  ArrowBackRounded, AssessmentRounded,\n  BusinessRounded,\n  DashboardRounded, ExitToApp,\n  FormatListBulletedRounded,\n  PeopleRounded, Settings\n} from \"@material-ui/icons\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport {getUser, logout} from \"../../utils/api\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport MenuIcon from '@material-ui/icons/Menu';\nimport logo from \"../../assets/logo.png\";\n\nconst NavTabs = withStyles({\n  root: {\n    width: '100%',\n    flexGrow: 1\n  },\n  indicator: {\n    display: 'flex',\n    justifyContent: 'center',\n    backgroundColor: 'transparent',\n    marginBottom: '4px',\n    '& > span': {\n      width: '40%',\n      backgroundColor: '#00b0ff',\n      borderTopLeftRadius: 4,\n      borderTopRightRadius: 4,\n    },\n  }\n})((props) => <Tabs {...props} TabIndicatorProps={{children: <span/>}}/>);\n\nconst mountTabValueFactory = (location, tabId) => (route) => !!matchPath(location.pathname, {\n  path: route,\n  exact: false,\n  strict: false,\n}) ? tabId : -1;\n\nconst Toolbar = () => {\n  const location = useLocation();\n  const history = useHistory();\n  const tabId = 'myTabId';\n  const getTabValue = mountTabValueFactory(location, tabId);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [user, setUser] = useState('');\n\n  useEffect(() => {\n    const u = getUser();\n    setUser(u);\n  }, []);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <AppBar position={\"static\"}>\n      <MaterialToolbar variant={\"dense\"}>\n        <div className={styles.toolbar}>\n          {location.pathname.split('/').length > 2 ? (\n            <Tooltip title={'Go Back'}>\n              <IconButton onClick={() => {\n                history.goBack()\n              }}>\n                <ArrowBackRounded className={styles.svg}/>\n              </IconButton>\n            </Tooltip>\n          ) : <div style={{width: 40}}/>}\n          <Typography variant={\"h6\"} className={styles.name} style={{display: \"flex\", flexDirection: 'row', width: '100%'}}>\n            <Icon style={{width: 36}}><img src={logo} alt=\"logo\" className={styles.logo}/></Icon>\n            Spotless\n          </Typography>\n        </div>\n        <NavTabs variant={\"fullWidth\"} value={tabId}>\n          <Tab label={<div className={styles.tab}><DashboardRounded fontSize={\"small\"}/> Dashboard</div>}\n               value={getTabValue(\"/dashboard\")} component={Link} to={\"/dashboard\"}\n               disableRipple={true}/>\n          <Tab label={<div className={styles.tab}><FormatListBulletedRounded fontSize={\"small\"}/> Assignments</div>}\n               value={getTabValue(\"/assignments\")} component={Link} to={\"/assignments\"}\n               disableRipple={true} className={styles.tab}/>\n          <Tab label={<div className={styles.tab}><PeopleRounded fontSize={\"small\"}/> Cleaners</div>}\n               value={getTabValue(\"/cleaners\")} component={Link} to={\"/cleaners\"}\n               disableRipple={true} className={styles.tab}/>\n          <Tab label={<div className={styles.tab}><BusinessRounded fontSize={\"small\"}/> Rooms</div>}\n               value={getTabValue(\"/rooms\")} component={Link} to={\"/rooms\"} disableRipple={true}/>\n          <Tab label={<div className={styles.tab}><AssessmentRounded fontSize={\"small\"}/> Analysis</div>}\n               value={getTabValue(\"/analysis\")} component={Link} to={\"/analysis\"}\n               disableRipple={true} className={styles.tab}/>\n        </NavTabs>\n        <Tooltip title={\"Open menu\"}>\n          <IconButton aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n            <MenuIcon color={\"secondary\"}/>\n          </IconButton>\n        </Tooltip>\n        <Menu\n          id=\"simple-menu\"\n          anchorEl={anchorEl}\n          keepMounted\n          open={Boolean(anchorEl)}\n          onClose={handleClose}\n        >\n          {user.superAdmin &&\n          <MenuItem onClick={() => {\n            handleClose();\n            history.push('/simulator');\n          }}>\n            <ListItemIcon>\n              <Settings fontSize=\"small\" style={{color: '#808080'}}/>\n            </ListItemIcon>\n            <ListItemText primary=\"Simulator\"/>\n          </MenuItem>}\n\n          <MenuItem onClick={() => {\n            handleClose();\n            logout();\n            history.push('/');\n          }}>\n            <ListItemIcon>\n              <ExitToApp color={\"secondary\"} fontSize=\"small\"/>\n            </ListItemIcon>\n            <ListItemText primary=\"Sign out\"/>\n          </MenuItem>\n        </Menu>\n      </MaterialToolbar>\n    </AppBar>\n  );\n}\n\nexport default Toolbar;","import Toolbar from './Toolbar';\nexport default Toolbar;","import CleaningsByCleaner from './CleaningsByCleaner';\nexport default CleaningsByCleaner;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport {\n  XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, Bar, BarChart\n} from 'recharts';\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport styles from \"./CleaningsByCleaner.module.scss\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {Typography} from \"@material-ui/core\";\n\nconst CleaningsByCleaner = ({reports, loading}) => {\n  let data = reports.map((report) => {\n    return report['cleaner_name'];\n  })\n  const counts = {};\n  data.forEach((x) => {\n    counts[x] = (counts[x] || 0) + 1;\n  });\n  const formattedReports = [];\n  Object.keys(counts).forEach((x) => {\n    formattedReports.push({\n      cleaner: x,\n      amount: counts[x]\n    });\n  });\n\n  return (\n    <div style={{height: '100%'}}>\n      <Paper className={styles.container}>\n        <Typography variant={\"h6\"} className={styles.title}>Cleanings per cleaner</Typography>\n        <>\n          {loading ? <CircularProgress color={\"secondary\"} style={{margin: 'auto'}}/> :\n            <ResponsiveContainer width=\"100%\" height={400} className={styles.chart}>\n              {formattedReports.length === 0 ?\n                <Typography variant={\"h6\"} className={styles.title} style={{textAlign: 'center'}}>No cleaning events</Typography>\n                :\n                <BarChart data={formattedReports}>\n                  <XAxis dataKey=\"cleaner\"/>\n                  <YAxis/>\n                  <CartesianGrid strokeDasharray=\"3 3\"/>\n                  <Tooltip/>\n                  <Legend/>\n                  <Bar dataKey=\"amount\" name=\"Cleaning events\" fill=\"#8884d8\"/>\n                </BarChart>\n              }\n\n            </ResponsiveContainer>\n          }\n        </>\n      </Paper>\n    </div>\n  )\n}\n\nCleaningsByCleaner.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  reports: PropTypes.array.isRequired\n};\n\nexport default CleaningsByCleaner;","import ContaminationIndexOverTime from './ContaminationIndexOverTime';\nexport default ContaminationIndexOverTime;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport {\n  XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, LineChart, Line\n} from 'recharts';\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport styles from \"./ContaminationIndexOverTime.module.scss\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {Typography} from \"@material-ui/core\";\nimport moment from \"moment\";\n\nconst ContaminationIndexOverTime = ({reports, loading}) => {\n  let data = reports.map((report) => {\n    return moment(report['cleaning_time']).format('DD.MM.YYYY');\n  });\n  const counts = {};\n  data.forEach((x) => {\n    const date = moment(x, 'DD.MM.YYYY');\n    counts[x] = reports.filter((report) => {\n      return moment(report['cleaning_time']).isSame(date, 'date');\n    });\n  });\n  const formattedReports = [];\n  Object.keys(counts).forEach((x) => {\n    formattedReports.push({\n      date: x,\n      contamination: Math.round(counts[x].reduce((acc, report) => {\n        return acc + report['contamination_index'];\n      }, 0) / counts[x].length)\n    });\n  });\n\n  return (\n    <div style={{height: '100%'}}>\n      <Paper className={styles.container}>\n        <Typography variant={\"h6\"} className={styles.title}>Contamination index (before cleaning) over time</Typography>\n        <>\n          {loading ? <CircularProgress color={\"secondary\"} style={{margin: 'auto'}}/> :\n            <ResponsiveContainer width=\"100%\" height={400} className={styles.chart}>\n              {formattedReports.length === 0 ?\n                <Typography variant={\"h6\"} className={styles.title} style={{textAlign: 'center'}}>No cleaning\n                  events</Typography>\n                :\n                <LineChart data={formattedReports}>\n                  <XAxis dataKey=\"date\"/>\n                  <YAxis/>\n                  <CartesianGrid strokeDasharray=\"3 3\"/>\n                  <Tooltip/>\n                  <Legend/>\n                  <Line type=\"monotone\" dataKey=\"contamination\" name=\"Contamination index\" stroke=\"#8884d8\"\n                        strokeWidth={2}/>\n                </LineChart>\n              }\n\n            </ResponsiveContainer>\n          }\n        </>\n      </Paper>\n    </div>\n  )\n}\n\nContaminationIndexOverTime.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  reports: PropTypes.array.isRequired\n};\n\nexport default ContaminationIndexOverTime;","import CleaningDuration from './CleaningDuration';\nexport default CleaningDuration;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport {\n  XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, BarChart, Bar\n} from 'recharts';\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport styles from \"./CleaningDuration.module.scss\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {Typography} from \"@material-ui/core\";\nimport {ROOM_TYPES} from \"../../../utils/constants\";\n\nconst CleaningDuration = ({reports, loading}) => {\n  let data = reports.map((report) => {\n    return report.room && report.room['room_type'];\n  })\n  const counts = {};\n  data.forEach((x) => {\n    counts[x] = reports.filter((report) => {\n      if (typeof x === 'undefined') {\n        return x === report.room;\n      } else {\n        if (!report.room) {\n          return false;\n        }\n        return x === report.room['room_type'];\n      }\n    });\n  });\n  const formattedReports = [];\n  const und = counts['undefined'];\n  if (und) {\n    formattedReports.push({\n      type: 'No type',\n      amount: Math.round(und.reduce((acc, report) => {\n        return acc + report['cleaning_duration_seconds'];\n      }, 0) / und.length),\n      estimated: 0\n    });\n    delete counts['undefined'];\n  }\n\n  Object.keys(counts).forEach((x) => {\n    formattedReports.push({\n      type: ROOM_TYPES[x].displayName,\n      amount: Math.round(counts[x].reduce((acc, report) => {\n        return acc + report['cleaning_duration_seconds'];\n      }, 0) / counts[x].length),\n      estimated: ROOM_TYPES[x].cleaningTime * 60\n    });\n  });\n\n  return (\n    <div style={{height: '100%'}}>\n      <Paper className={styles.container}>\n        <Typography variant={\"h6\"} className={styles.title}>Cleaning duration by room type</Typography>\n        <>\n          {loading ? <CircularProgress color={\"secondary\"} style={{margin: 'auto'}}/> :\n            <ResponsiveContainer width=\"100%\" height={400} className={styles.chart}>\n              {formattedReports.length === 0 ?\n                <Typography variant={\"h6\"} className={styles.title} style={{textAlign: 'center'}}>No cleaning\n                  events</Typography>\n                :\n                <BarChart data={formattedReports}>\n                  <XAxis dataKey=\"type\"/>\n                  <YAxis/>\n                  <CartesianGrid strokeDasharray=\"3 3\"/>\n                  <Tooltip/>\n                  <Legend/>\n                  <Bar dataKey=\"amount\" name=\"Actual time\" fill=\"#8884d8\" unit=\" seconds\"/>\n                  <Bar dataKey=\"estimated\" name=\"Estimated time\" fill=\"#82ca9d\" unit=\" seconds\"/>\n                </BarChart>\n              }\n            </ResponsiveContainer>\n          }\n        </>\n      </Paper>\n    </div>\n  )\n}\n\nCleaningDuration.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  reports: PropTypes.array.isRequired\n};\n\nexport default CleaningDuration;","import AnalysisPage from './AnalysisPage';\nexport default AnalysisPage;\n","import React, {useEffect, useState} from 'react';\nimport PageContainer from \"../../containers/PageContainer\";\nimport {Grid, Typography} from \"@material-ui/core\";\nimport CleaningsByCleaner from \"../../components/Charts/CleaningsByCleaner\";\nimport {getReports, getRooms} from \"../../utils/api\";\nimport ContaminationIndexOverTime from \"../../components/Charts/ContaminationIndexOverTime\";\nimport CleaningDuration from \"../../components/Charts/CleaningDuration\";\n\nconst AnalysisPage = () => {\n  const [reports, setReports] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [rooms, setRooms] = useState([]);\n\n  useEffect(() => {\n    Promise.all([getRooms(), getReports()])\n      .then((result) => {\n        result[1].forEach((report) => {\n          report.room = result[0].find((room) => {\n            return room['_id'] === report['room_id'];\n          });\n        })\n        setRooms(result[0]);\n        setReports(result[1]);\n        setLoading(false);\n      });\n  }, []);\n  return (\n    <PageContainer style={{textAlign: 'start'}}>\n      <Typography variant={\"h5\"} style={{marginBottom: 16}}>Analysis</Typography>\n      <Grid container spacing={4} style={{marginBottom: 16}}>\n        <Grid item xs={12}>\n          <ContaminationIndexOverTime reports={reports} loading={loading}/>\n        </Grid>\n        <Grid item xs={6}>\n          <CleaningsByCleaner reports={reports} loading={loading}/>\n        </Grid>\n        <Grid item xs={6}>\n          <CleaningDuration reports={reports} loading={loading}/>\n        </Grid>\n      </Grid>\n    </PageContainer>\n  )\n}\n\nexport default AnalysisPage;","import React, {useEffect, useState} from \"react\";\nimport hospitalImg from \"../../assets/hospital.png\";\nimport styles from \"./RoomsPage.module.scss\";\nimport ImageMapper from 'react-image-mapper';\nimport {HOSPITAL_MAP} from \"../../utils/constants\";\nimport {useHistory} from \"react-router-dom\";\nimport {getRoomTypeProp, getVariantColor, hexToRgb} from \"../../utils/utils\";\nimport {Typography} from \"@material-ui/core\";\n\nconst initMap = (rooms) => {\n  let map = {};\n  map = JSON.parse(JSON.stringify(HOSPITAL_MAP));\n  rooms.forEach((room, index) => {\n    const area = map.areas[index];\n    if (!area) {\n      return;\n    }\n    const color = hexToRgb(getVariantColor(room['contamination_index']));\n    area.preFillColor = `rgba(${color.r}, ${color.g}, ${color.b}, 0.5)`\n    area['_id'] = room['_id'];\n    area.room = room;\n  });\n  return map;\n}\n\nconst RoomsMap = ({rooms}) => {\n  const history = useHistory();\n  const [hovering, setHovering] = useState(false);\n  const [room, setRoom] = useState({});\n  const [hoverStyle, setHoverStyle] = useState({});\n  const [map, setMap] = useState({});\n  const [ignored, forceUpdate] = useState(642);\n\n  useEffect(() => {\n    setMap(initMap(rooms));\n    forceUpdate(i => i === 642 ? 643 : 642);\n  }, [rooms, setMap])\n\n  const click = (area, num, event) => {\n    const id = area['_id'];\n    if (!id) {\n      return;\n    }\n    history.push({\n      pathname: `/rooms/${id}`,\n      state: {id}\n    })\n  }\n\n  const enter = (area, index, event) => {\n    if (area.room) {\n      const style = {\n        top: event.pageY,\n        left: event.pageX\n      }\n      setHovering(true);\n      setRoom(area.room);\n      setHoverStyle(style);\n    }\n  }\n\n  const width = window.innerWidth / 2.1;\n\n  return (\n    <>\n      {Object.keys(map).length !== 0 &&\n      <div className={styles.map}>\n        <ImageMapper src={hospitalImg}\n                     map={map}\n                     fillColor={'rgba(0,0,0, 0.2)'}\n                     onClick={click}\n                     width={width}\n                     imgWidth={ignored}\n                     onMouseEnter={enter}\n                     onMouseLeave={() => {\n                       setHovering(false);\n                       setRoom({});\n                       setHoverStyle({});\n                     }}\n        />\n      </div>\n      }\n      {hovering &&\n      <div id=\"info\" className={styles.roomInfo} style={hoverStyle}>\n        <Typography variant={\"h6\"} className={styles.bold}>Room: {room.name}</Typography>\n        <Typography variant={\"body1\"}>{getRoomTypeProp(room, 'displayName')}</Typography>\n        <Typography variant={\"body1\"} color={\"textSecondary\"}>Contamination Index: <span\n          style={{color: getVariantColor(room['contamination_index'])}}>{room['contamination_index'].toFixed(1)}</span>\n        </Typography>\n      </div>\n      }\n    </>\n  )\n}\n\nexport default RoomsMap;","import React, {useEffect} from \"react\";\nimport Select from \"@material-ui/core/Select\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport {ROOM_TYPES} from \"../../utils/constants\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport PropTypes from \"prop-types\";\n\nconst TableFilters = ({rooms, setRooms, initialBuilding, initialFloor, hideAll, hideAssigned}) => {\n  const [building, setBuilding] = React.useState(initialBuilding || '');\n  const [floor, setFloor] = React.useState(initialFloor || '');\n  const [roomType, setRoomType] = React.useState('');\n  const [assigned, setAssigned] = React.useState(true);\n  const [filters, setFilters] = React.useState(true);\n\n  useEffect(() => {\n    if (filters) {\n      let filtered = rooms;\n      filtered = filtered.filter((room) => {\n        let valid = true;\n        if (building) {\n          valid = room.building === building;\n        }\n        if (floor) {\n          valid = room.floor === floor && valid;\n        }\n        if (roomType) {\n          valid = room['room_type'] === roomType.key && valid;\n        }\n        if (!hideAssigned && !assigned) {\n          valid = room['assigned_cleaners'].length === 0 && valid;\n        }\n        return valid;\n      });\n      setRooms(filtered);\n      setFilters(false);\n    }\n  }, [assigned, building, floor, roomType, filters, rooms, setRooms, hideAssigned])\n  const getBuildings = () => {\n    return [...new Set(rooms.map(room => {\n      return room.building;\n    }))].sort();\n  };\n\n  const getFloors = () => {\n    return [...new Set(rooms.map(room => {\n      return room.floor;\n    }))].sort();\n  }\n  return (\n    <>\n      <FormControl variant={'outlined'} style={{minWidth: '240px', marginBottom: 8}}>\n        <InputLabel id=\"building\">Building</InputLabel>\n        <Select label=\"Building\" onChange={(event) => {\n          setBuilding(event.target.value);\n          setFilters(true);\n        }} value={building}>\n          {!hideAll &&\n          <MenuItem value={''}>\n            <em>All</em>\n          </MenuItem>}\n          {getBuildings().map(building => (\n            <MenuItem value={building} key={building}>{building}</MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      <FormControl variant={'outlined'} style={{minWidth: '240px', marginBottom: 8}}>\n        <InputLabel id=\"floor\">Floor</InputLabel>\n        <Select label=\"Floor\" onChange={(event) => {\n          setFloor(event.target.value);\n          setFilters(true);\n        }} value={floor}>\n          {!hideAll &&\n          <MenuItem value={''}>\n            <em>All</em>\n          </MenuItem>\n          }\n          {getFloors().map(floor => (\n            <MenuItem value={floor} key={floor}>{floor}</MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      <FormControl variant={'outlined'} style={{minWidth: '240px', marginBottom: 8}}>\n        <InputLabel id=\"room-type\">Room type</InputLabel>\n        <Select label=\"Room type\" onChange={(event) => {\n          setRoomType(event.target.value);\n          setFilters(true);\n        }} value={roomType}>\n          <MenuItem value={''}>\n            <em>All</em>\n          </MenuItem>\n          {Object.keys(ROOM_TYPES).map(type => (\n            <MenuItem value={ROOM_TYPES[type]}\n                      key={ROOM_TYPES[type].displayName}>{ROOM_TYPES[type].displayName}</MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      {!hideAssigned &&\n      <FormControlLabel control={<Checkbox checked={assigned} onChange={(event, checked) => {\n        setAssigned(checked);\n        setFilters(true);\n      }}/>} label=\"Show assigned\"/>}\n    </>\n  );\n}\n\nTableFilters.propTypes = {\n  rooms: PropTypes.array.isRequired,\n  setRooms: PropTypes.func.isRequired,\n  initialBuilding: PropTypes.string,\n  initialFloor: PropTypes.string,\n  hideAll: PropTypes.bool,\n  hideAssigned: PropTypes.bool\n}\n\nexport default TableFilters;","import RoomsPage from './RoomsPage';\nexport default RoomsPage;\n","import React, {useEffect, useState} from 'react';\nimport {getRooms} from \"../../utils/api\";\nimport {Typography} from \"@material-ui/core\";\nimport styles from \"./RoomsPage.module.scss\";\nimport PageContainer from \"../../containers/PageContainer\";\nimport RoomsMap from \"./RoomsMap\";\nimport TableFilters from \"../AssignmentsPage/TableFilters\";\n\nconst RoomsPage = () => {\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [rooms, setRooms] = useState([]);\n  const [origRooms, setOrigRooms] = useState([]);\n\n  useEffect(() => {\n    getRooms()\n      .then((rooms) => {\n          setRooms(rooms);\n          setOrigRooms(rooms);\n          setIsLoaded(true);\n        },\n        (error) => {\n          setError(true);\n          setIsLoaded(true);\n          console.log(error);\n        });\n  }, []);\n\n  return (\n    <PageContainer>\n      <div className={styles.headerRow}>\n        <Typography variant={\"h5\"} className={styles.bold}>Rooms</Typography>\n        {isLoaded &&\n        <div className={styles.filters}>\n          <TableFilters rooms={origRooms} setRooms={setRooms} hideAll={true} hideAssigned={true} initialBuilding={rooms[0] && rooms[0].building} initialFloor={rooms[0] && rooms[0].floor}/>\n        </div>\n        }\n      </div>\n      {isLoaded &&\n      <RoomsMap rooms={rooms}/>\n      }\n      {error && <p>ERROR</p>}\n    </PageContainer>\n  )\n}\n\nexport default RoomsPage;","import CleanerSelect from './CleanerSelect';\nexport default CleanerSelect;","import React, {useEffect, useState} from 'react';\nimport PropTypes from \"prop-types\";\nimport {Autocomplete} from \"@material-ui/lab\";\nimport TextField from \"@material-ui/core/TextField\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport {getCleaners} from \"../../utils/api\";\nimport styles from \"./CleanerSelect.module.scss\";\n\nconst CleanerSelect = ({onChange, style}) => {\n  const [options, setOptions] = useState([]);\n  const [openSelect, setOpenSelect] = useState(false);\n  const [cleaner, setCleaner] = useState(null);\n  const loading = openSelect && options.length === 0;\n\n  useEffect(() => {\n    let active = true;\n\n    if (!loading) {\n      return undefined;\n    }\n\n    (async () => {\n      const clnrs = await getCleaners();\n\n      if (active) {\n        setOptions(clnrs);\n      }\n    })();\n\n    return () => {\n      active = false;\n    };\n  }, [loading]);\n\n  const onSelectChange = (event, newValue) => {\n    setCleaner(newValue);\n    onChange(event, newValue);\n  }\n\n  return (\n    <Autocomplete\n      open={openSelect}\n      onOpen={() => {\n        setOpenSelect(true);\n      }}\n      onClose={() => {\n        setOpenSelect(false);\n      }}\n      className={styles.autocomplete}\n      style={style}\n      getOptionLabel={(option) => option.name || ''}\n      options={options}\n      loading={loading}\n      value={cleaner}\n      onChange={onSelectChange}\n      renderInput={(params) => (\n        <TextField\n          {...params}\n          label=\"Cleaner\"\n          variant=\"outlined\"\n          InputProps={{\n            ...params.InputProps,\n            endAdornment: (\n              <>\n                {loading ? <CircularProgress color=\"inherit\" size={20}/> : null}\n                {params.InputProps.endAdornment}\n              </>\n            ),\n          }}\n        />\n      )}\n    />\n  );\n}\n\nCleanerSelect.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  style: PropTypes.object\n}\n\nexport default CleanerSelect;","import React, {useState} from \"react\";\nimport {assignRoomsToCleaner, unAssignRooms} from \"../../utils/api\";\nimport {Button, Dialog, DialogActions, DialogContent, DialogTitle} from \"@material-ui/core\";\nimport CleanerSelect from \"../../components/CleanerSelect\";\n\nexport const AssignCleanerDialog = ({open, setOpen, selected, setSnackOpen, onClose, setSnackText}) => {\n  const [cleaner, setCleaner] = useState(null);\n\n  const handleClose = () => {\n    onClose();\n    setOpen(false);\n  }\n\n  const handleSubmit = async () => {\n    const selectedWithCleaner = selected.filter((room) => {\n      return room['assigned_cleaners'].length > 0;\n    });\n    if (selectedWithCleaner.length > 0) {\n      await unAssignRooms(selectedWithCleaner);\n    }\n    await assignRoomsToCleaner(selected, cleaner['_id'])\n    setSnackText('Cleaner assigned');\n    setSnackOpen(true);\n    handleClose();\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\" disableBackdropClick={true}>\n      <DialogTitle id=\"form-dialog-title\">Select a cleaner</DialogTitle>\n      <DialogContent>\n        <CleanerSelect onChange={(event, newValue) => {\n          setCleaner(newValue)\n        }}/>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Cancel\n        </Button>\n        <Button color=\"primary\" onClick={handleSubmit} disabled={cleaner === ''}>\n          Assign\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport {lighten, makeStyles} from '@material-ui/core/styles';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TablePagination,\n  TableRow,\n  Toolbar,\n  Typography,\n  Paper,\n  Checkbox,\n  IconButton,\n  Tooltip,\n  Button\n} from '@material-ui/core';\nimport {getRooms, unAssignRooms} from \"../../utils/api\";\nimport {VisibilityOutlined, FilterList, Close} from \"@material-ui/icons\";\nimport moment from \"moment\";\nimport {useHistory} from 'react-router-dom';\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport PageContainer from \"../../containers/PageContainer\";\nimport {getComparator, handleClick, stableSort} from \"../../utils/tableUtils\";\nimport styles from \"./AssignmentsPage.module.scss\"\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport {AssignCleanerDialog} from \"./AssignCleanerDialog\";\nimport Link from \"@material-ui/core/Link\";\nimport {Link as RouterLink} from 'react-router-dom';\nimport {getRoomTypeProp, getStatus, mergeCleaners} from \"../../utils/utils\";\nimport TableFilters from \"./TableFilters\";\nimport EnhancedTableHead from \"../../components/RoomSelector/EnhancedTableHead\";\n\nconst headCells = [\n  {id: 'name', numeric: false, disablePadding: true, label: 'Name'},\n  {id: 'building', numeric: true, disablePadding: false, label: 'Building'},\n  {id: 'floor', numeric: true, disablePadding: false, label: 'Floor'},\n  {id: 'cleaner_name', numeric: false, disablePadding: false, label: 'Assigned Cleaner'},\n  {id: 'status', numeric: false, disablePadding: false, label: 'Status'},\n  {id: 'contamination_index', numeric: true, disablePadding: false, label: 'Contamination index'},\n  {id: 'room_type', numeric: false, disablePadding: false, label: 'Room type'},\n  {id: 'last_cleaned', numeric: true, disablePadding: false, label: 'Last cleaned'},\n  {id: 'action', numeric: true, disablePadding: false, label: 'Action'},\n];\n\nconst useToolbarStyles = makeStyles((theme) => ({\n  root: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n    textAlign: 'left',\n    flexDirection: 'column'\n  },\n  highlight:\n    theme.palette.type === 'light'\n      ? {\n        color: theme.palette.secondary.main,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n      }\n      : {\n        color: theme.palette.text.primary,\n        backgroundColor: theme.palette.secondary.dark,\n      },\n  filters: {\n    minHeight: 96\n  }\n}));\n\nconst EnhancedTableToolbar = (props) => {\n  const classes = useToolbarStyles();\n  const {numSelected, selected, setSelected, setSnackOpen, setSnackText, getData, rooms, setRooms} = props;\n  const [open, setOpen] = React.useState(false);\n  const [filter, showFilters] = React.useState(false);\n  const selectedWithCleaner = selected.filter((room) => {\n    return room['assigned_cleaners'].length > 0;\n  });\n\n  const removeAssignments = async () => {\n    await unAssignRooms(selectedWithCleaner);\n    setSnackText('Cleaner unassigned');\n    setSnackOpen(true);\n    setSelected([]);\n    getData(true);\n  }\n  return (\n    <Toolbar\n      className={clsx(classes.root, {\n        [classes.highlight]: numSelected > 0,\n        [classes.filters]: filter && numSelected === 0\n      })}\n    >\n      <div className={styles.row}>\n        {numSelected > 0 ? (\n          <Typography className={styles.title} color=\"inherit\" variant=\"subtitle1\" component=\"div\"\n                      style={{fontWeight: 600}}>\n            {numSelected} selected\n          </Typography>\n        ) : (\n          <Typography className={styles.title} variant=\"h5\" id=\"tableTitle\" component=\"div\" style={{fontWeight: '600'}}>\n            Select rows to assign to cleaner\n          </Typography>\n        )}\n        {numSelected > 0 ? (\n          <>\n            {selectedWithCleaner.length > 0 &&\n            <Tooltip title=\"Remove room assignments\">\n              <Button variant={'contained'} startIcon={<Close/>} className={styles.critical}\n                      style={{flexBasis: '300px', marginRight: 32}} onClick={removeAssignments}>Remove assignments\n              </Button>\n            </Tooltip>\n            }\n            <Tooltip title=\"Assign to cleaner\">\n              <Button variant={'contained'} color={'secondary'} style={{flexBasis: '180px'}} onClick={() => {\n                setOpen(true);\n              }}>Assign rooms</Button>\n            </Tooltip>\n          </>\n        ) : (\n          <Tooltip title=\"Filter list\">\n            <IconButton aria-label=\"filter list\" onClick={() => {\n              showFilters(!filter);\n            }}>\n              <FilterList color={filter ? 'secondary' : 'inherit'}/>\n            </IconButton>\n          </Tooltip>\n        )}\n      </div>\n      {filter && numSelected === 0 &&\n      <div className={styles.row}>\n        <TableFilters rooms={rooms} setRooms={setRooms}/>\n      </div>\n      }\n      <AssignCleanerDialog open={open} setOpen={setOpen} selected={selected} onClose={() => {\n        setSelected([]);\n        getData(true);\n      }} setSnackOpen={setSnackOpen} setSnackText={setSnackText}/>\n    </Toolbar>\n  );\n};\n\nEnhancedTableToolbar.propTypes = {\n  numSelected: PropTypes.number.isRequired,\n  selected: PropTypes.array.isRequired,\n  setSelected: PropTypes.func.isRequired,\n  setSnackOpen: PropTypes.func.isRequired,\n  rooms: PropTypes.array.isRequired\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 750,\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n}));\n\nexport default function AssignmentsPage() {\n  const classes = useStyles();\n  const [order, setOrder] = React.useState('asc');\n  const [orderBy, setOrderBy] = React.useState('name');\n  const [selected, setSelected] = React.useState([]);\n  const [page, setPage] = React.useState(0);\n  const [roomsPerPage, setRoomsPerPage] = React.useState(15);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [rooms, setRooms] = useState([]);\n  const [origRooms, setOrigRooms] = useState([]);\n  const [snackOpen, setSnackOpen] = useState(false);\n  const [snackText, setSnackText] = useState('');\n  const [data, getData] = React.useState(true);\n  const history = useHistory();\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleSelectAllClick = (event) => {\n    if (event.target.checked) {\n      const newSelecteds = rooms.map((n) => n);\n      setSelected(newSelecteds);\n      return;\n    }\n    setSelected([]);\n  };\n\n  useEffect(() => {\n    if (data) {\n      getRooms(null, null, true)\n        .then((rooms) => {\n            rooms = mergeCleaners(rooms);\n            setRooms(rooms);\n            setOrigRooms(rooms);\n            setIsLoaded(true);\n            getData(false);\n          },\n          (error) => {\n            setIsLoaded(true);\n            console.log(error);\n          });\n    }\n  }, [data]);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRoomsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  const isSelected = (name) => selected.indexOf(name) !== -1;\n\n  const getDate = (date) => {\n    return date ? moment(date).format('YYYY-MM-DD HH:mm:ss') : 'Never';\n  }\n\n  const openRoom = (room) => {\n    const id = room['_id'];\n    history.push({\n      pathname: `/rooms/${id}`,\n      state: {id}\n    })\n  }\n\n  const handleSnackClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setSnackOpen(false);\n  };\n\n  const getCleaner = (row) => {\n    if (!row.cleaner) {\n      return row['cleaner_name'];\n    }\n    const cleaner = row.cleaner;\n    return (<Link component={RouterLink} color=\"secondary\"\n                  to={{\n                    pathname: `/cleaners/${cleaner['_id']}`,\n                    state: {id: cleaner['_id']}\n                  }}>\n      {cleaner.name}\n    </Link>);\n  }\n\n  return (\n    <PageContainer className={classes.root}>\n      {isLoaded ?\n        <Paper className={classes.paper}>\n          <EnhancedTableToolbar numSelected={selected.length} selected={selected} setSnackOpen={setSnackOpen}\n                                setSelected={setSelected} setSnackText={setSnackText} getData={getData}\n                                rooms={origRooms} setRooms={setRooms}/>\n          <TableContainer>\n            <Table\n              className={classes.table}\n              aria-labelledby=\"tableTitle\"\n              aria-label=\"enhanced table\"\n              size={'small'}\n            >\n              <EnhancedTableHead\n                classes={classes}\n                numSelected={selected.length}\n                order={order}\n                orderBy={orderBy}\n                onSelectAllClick={handleSelectAllClick}\n                onRequestSort={handleRequestSort}\n                rowCount={rooms.length}\n                headCells={headCells}\n                type={\"selection\"}\n              />\n              <TableBody>\n                {stableSort(rooms, getComparator(order, orderBy))\n                  .slice(page * roomsPerPage, page * roomsPerPage + roomsPerPage)\n                  .map((row, index) => {\n                    const isItemSelected = isSelected(row);\n                    const labelId = `enhanced-table-checkbox-${index}`;\n\n                    return (\n                      <TableRow\n                        hover\n                        onClick={(event) => handleClick(event, row, selected, setSelected)}\n                        role=\"checkbox\"\n                        aria-checked={isItemSelected}\n                        tabIndex={-1}\n                        key={row.name}\n                        selected={isItemSelected}\n                        style={{height: '33px'}}\n                      >\n                        <TableCell padding=\"checkbox\">\n                          <Checkbox\n                            checked={isItemSelected}\n                            inputProps={{'aria-labelledby': labelId}}\n                          />\n                        </TableCell>\n                        <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\n                          {row.name}\n                        </TableCell>\n                        <TableCell align=\"right\">{row.building}</TableCell>\n                        <TableCell align=\"right\">{row.floor}</TableCell>\n                        <TableCell>{getCleaner(row)}</TableCell>\n                        <TableCell>{getStatus(row['contamination_index'])}</TableCell>\n                        <TableCell align=\"right\">{Math.min(row['contamination_index'].toFixed(2), 150)} %</TableCell>\n                        <TableCell>{getRoomTypeProp(row, 'displayName')}</TableCell>\n                        <TableCell align=\"right\">{getDate(row['last_cleaned'])}</TableCell>\n                        <TableCell align=\"right\">\n                          <IconButton color={\"secondary\"} size={\"small\"}\n                                      onClick={() => {\n                                        openRoom(row)\n                                      }}>\n                            <VisibilityOutlined/>\n                          </IconButton>\n                        </TableCell>\n                      </TableRow>\n                    );\n                  })}\n              </TableBody>\n            </Table>\n          </TableContainer>\n          <TablePagination\n            rowsPerPageOptions={[5, 10, 15, 25, 50]}\n            component=\"div\"\n            count={rooms.length}\n            rowsPerPage={roomsPerPage}\n            page={page}\n            onChangePage={handleChangePage}\n            onChangeRowsPerPage={handleChangeRowsPerPage}\n          />\n        </Paper>\n        : <CircularProgress color=\"secondary\" style={{margin: '16px auto'}}/>\n      }\n      <Snackbar open={snackOpen} autoHideDuration={6000} onClose={handleSnackClose}\n                anchorOrigin={{vertical: \"top\", horizontal: \"center\"}}>\n        <Alert variant={\"filled\"} severity=\"success\" onClose={handleSnackClose}>\n          {snackText}\n        </Alert>\n      </Snackbar>\n    </PageContainer>\n  );\n}\n","import AssignmentsPage from './AssignmentsPage';\nexport default AssignmentsPage;\n","import React from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport styles from \"./RoomDetailsPage.module.scss\";\nimport {Divider, Typography} from \"@material-ui/core\";\nimport PropTypes from 'prop-types';\nimport {getRoomTypeProp} from \"../../utils/utils\";\n\n\nconst RoomDetailsCard = ({room}) => {\n\n  const getVariant = (contamination) => {\n    let variant = 'neutral';\n    if (contamination >= 60) {\n      variant = 'critical';\n    } else if (contamination >= 30) {\n      variant = 'med';\n    } else if (contamination < 30) {\n      variant = 'good';\n    }\n    return variant;\n  }\n\n  const getIndex = (index) => {\n    return Math.min(index, 150).toFixed(2);\n  }\n  return (\n    <Card className={styles.card}>\n      <div className={styles.cardContent}>\n        <Typography variant={\"h6\"} className={styles.semiBold}>Room details</Typography>\n        <Divider light={true} className={styles.divider}/>\n        <Typography variant={\"body1\"} className={styles.semiBold}>Building {room.building}</Typography>\n        <Typography variant={\"body2\"} className={styles.medium} color=\"textSecondary\">Floor {room.floor}</Typography>\n        <Divider light={true} className={styles.divider}/>\n        <div className={styles.row}>\n          <Typography variant={\"body1\"} className={styles.semiBold}>{getRoomTypeProp(room, 'displayName')}</Typography>\n          <Typography\n            variant={\"body2\"}\n            className={styles.semiBold}>\n            Cleaning time: {getRoomTypeProp(room, 'cleaningTime')} min\n          </Typography>\n        </div>\n        <Typography variant={\"body2\"} className={styles.medium}\n                    color=\"textSecondary\">Cleaning {getRoomTypeProp(room, 'frequency')} times / week\n        </Typography>\n        <Divider light={true} className={styles.divider}/>\n        <div className={styles.row}>\n          <Typography variant={\"body1\"} className={styles.semiBold}>Contamination index</Typography>\n          <Typography variant={\"body1\"}\n                      className={[styles[getVariant(room['contamination_index'])], styles.medium].join(' ')}>{getIndex(room['contamination_index'])}%</Typography>\n        </div>\n      </div>\n    </Card>\n  );\n}\n\nRoomDetailsCard.propTypes = {\n  room: PropTypes.object.isRequired\n}\n\nexport default RoomDetailsCard;","import React, {useState} from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport styles from \"./RoomDetailsPage.module.scss\";\nimport StatusDot from \"../../components/StatusDot\";\nimport PropTypes from 'prop-types';\nimport {Button, IconButton, Typography} from \"@material-ui/core\";\nimport CleanerSelect from \"../../components/CleanerSelect\";\nimport moment from \"moment\";\nimport {ClearOutlined} from \"@material-ui/icons\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Divider from \"@material-ui/core/Divider\";\nimport {assignRoom, unAssignRoom} from \"../../utils/api\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport {Link as RouterLink} from \"react-router-dom\";\nimport Link from \"@material-ui/core/Link\";\n\n\nconst RoomCleanerCard = ({room, cleaner, setCleaner}) => {\n  const [newCleaner, setNewCleaner] = useState({});\n  const [snackOpen, setSnackOpen] = useState(false);\n  const [snackText, setSnackText] = useState('');\n\n  const hasCleaner = Object.keys(cleaner).length !== 0;\n  const getColor = () => {\n    if (!hasCleaner) return 'neutral';\n    const shiftStart = moment(cleaner['shift_start'], 'HH:mm');\n    const shiftEnd = moment(cleaner['shift_end'], 'HH:mm');\n    const isBetween = moment().isBetween(shiftStart, shiftEnd);\n    return isBetween ? 'good' : 'critical';\n  }\n\n  const removeCleanerAssignment = async () => {\n    await unAssignRoom(room['_id'], cleaner['_id']);\n    setCleaner({});\n    setSnackText('Cleaner unassigned');\n    setSnackOpen(true);\n  }\n\n  const assignNewCleaner = async () => {\n    await assignRoom(room['_id'], newCleaner['_id']);\n    setCleaner(newCleaner);\n    setNewCleaner({});\n    setSnackText('Cleaner assigned');\n    setSnackOpen(true);\n  }\n\n  const handleSnackClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setSnackOpen(false);\n  };\n\n  return (\n    <Card className={styles.card} style={{height: 'min-content'}}>\n      <div className={styles.cardContent}>\n        <div className={styles.row}>\n          <StatusDot variant={getColor()} size={'tiny'} tooltip={'Cleaner name'}/>\n          {hasCleaner ? (\n              <>\n                <Link component={RouterLink} style={{marginLeft: 16}} color=\"secondary\"\n                      to={{\n                        pathname: `/cleaners/${cleaner['_id']}`,\n                        state: {id: cleaner['_id']}\n                      }}>\n                  <Typography variant={'h6'} className={styles.semiBold}>{cleaner.name}</Typography>\n                </Link>\n                <Tooltip title=\"Remove assignment\">\n                  <IconButton style={{marginLeft: 'auto'}} size={\"small\"} onClick={removeCleanerAssignment}>\n                    <ClearOutlined/>\n                  </IconButton>\n                </Tooltip>\n              </>\n            )\n            :\n            <CleanerSelect onChange={(event, newValue) => setNewCleaner(newValue)} style={{marginLeft: 16}}/>\n          }\n        </div>\n        {newCleaner && Object.keys(newCleaner).length !== 0 && (\n          <>\n            <Divider className={styles.divider}/>\n            <div className={styles.row}>\n              <Button onClick={assignNewCleaner} variant={\"contained\"} color={\"secondary\"}\n                      className={styles.btn}>Assign</Button>\n            </div>\n          </>\n        )}\n      </div>\n      <Snackbar open={snackOpen} autoHideDuration={6000} onClose={handleSnackClose}\n                anchorOrigin={{vertical: \"top\", horizontal: \"center\"}}>\n        <Alert variant={\"filled\"} severity=\"success\" onClose={handleSnackClose}>{snackText}</Alert>\n      </Snackbar>\n    </Card>\n  )\n}\n\nRoomCleanerCard.propTypes = {\n  room: PropTypes.object.isRequired,\n  cleaner: PropTypes.object\n}\n\nexport default RoomCleanerCard;","import React from 'react';\nimport styles from './RoomDetailsPage.module.scss';\nimport {Divider, Typography} from \"@material-ui/core\";\nimport Card from \"@material-ui/core/Card\";\nimport moment from 'moment';\nimport {makeStyles} from \"@material-ui/core/styles\";\n\n\nconst useStyles = makeStyles({\n  root: {\n    lineHeight: '200%'\n  },\n});\nconst CommentsList = ({reports}) => {\n  const classes = useStyles();\n\n  return (\n    <Card className={styles.comments}>\n      <div className={styles.cardContent}>\n        <Typography variant={\"h6\"} className={styles.semiBold} style={{marginBottom: 16}}>Cleaner comments:</Typography>\n        {reports.length > 0 ? (\n          reports.reduce((result, report) => {\n            const showReport = report.comments !== '';\n            if (showReport) {\n              const time = moment(report['cleaning_time']);\n              result.push(\n                <div key={report['_id']} className={styles.comment}>\n                  <Divider />\n                  <Typography variant={\"h6\"} className={classes.root}>{time.format('D MMM, YYYY')}</Typography>\n                  <Typography variant={\"h6\"} className={[styles.semiBold, styles.author, classes.root].join(' ')}>{report['cleaner_name']}</Typography>\n                  <Typography variant={\"body1\"} className={classes.root}>{report.comments}</Typography>\n                </div>\n              );\n            }\n            return result;\n          }, [])\n        ) :\n        <Typography variant={\"body1\"} className={styles.semiBold}>No comments</Typography>\n        }\n      </div>\n    </Card>\n  );\n}\n\nexport default CommentsList;","import React from \"react\";\nimport {\n  IconButton,\n  Paper,\n  Table,\n  TableContainer,\n  TablePagination,\n  TableRow,\n  Typography\n} from \"@material-ui/core\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport {Check, CloseRounded, VisibilityOutlined} from \"@material-ui/icons\";\nimport {Link as RouterLink, useHistory} from 'react-router-dom';\nimport moment from \"moment\";\nimport styles from './CleaningReportTable.module.scss';\nimport Link from \"@material-ui/core/Link\";\nimport PropTypes from 'prop-types';\nimport {getComparator, stableSort} from \"../../utils/tableUtils\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport EnhancedTableHead from \"../RoomSelector/EnhancedTableHead\";\n\nfunction ReportsTableHead(props) {\n  const {classes, order, orderBy, onRequestSort, type} = props;\n  const headCells = [\n    {id: 'cleaning_time', numeric: true, disablePadding: false, label: 'Cleaning time'},\n    {id: 'cleaning_successful', numeric: false, disablePadding: false, label: 'Cleaning successful'},\n    {id: 'action', numeric: true, disablePadding: false, label: 'Action'},\n  ];\n  if (type === 'room') {\n    headCells.unshift({id: 'cleaner', numeric: false, disablePadding: false, label: 'Cleaner'});\n  } else {\n    headCells.unshift({id: 'room', numeric: false, disablePadding: false, label: 'Room'});\n  }\n\n  return (\n    <EnhancedTableHead\n      classes={classes}\n      order={order}\n      orderBy={orderBy}\n      onRequestSort={onRequestSort}\n      headCells={headCells}\n    />\n  );\n}\n\nReportsTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  type: PropTypes.oneOf(['room', 'cleaner']).isRequired,\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 750,\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n}));\n\nconst CleaningReportsTable = ({reports, type}) => {\n  const history = useHistory();\n  const classes = useStyles();\n  const [order, setOrder] = React.useState('asc');\n  const [orderBy, setOrderBy] = React.useState('name');\n  const [page, setPage] = React.useState(0);\n  const [reportsPerPage, setReportsPerPage] = React.useState(10);\n  const viewReport = (report) => {\n    const id = report['_id'];\n    history.push({\n      pathname: `/rooms/reports/${id}`,\n      state: {id}\n    })\n  }\n  const getIcon = (successful) => {\n    return successful ? (<Check className={styles.good}/>) : (<CloseRounded color={\"error\"}/>);\n  }\n\n  const getCleaner = (report) => {\n    return (<Link component={RouterLink} color=\"secondary\"\n                  to={{\n                    pathname: `/cleaners/${report['cleaner_id']}`,\n                    state: {id: report['cleaner_id']}\n                  }}>\n      {report['cleaner_name']}\n    </Link>);\n  }\n\n  const getRoom = (report) => {\n    return (<Link component={RouterLink} color=\"secondary\"\n                  to={{\n                    pathname: `/rooms/${report['room_id']}`,\n                    state: {id: report['room_id']}\n                  }}>\n      {report['room_name']}\n    </Link>);\n  }\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setReportsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  return (\n    <div>\n      <Typography variant={\"h5\"} style={{margin: '16px 0'}} className={styles.semiBold}>Past cleaning\n        reports</Typography>\n      {reports.length > 0 ?\n        <Paper className={classes.paper}>\n          <TableContainer>\n            <Table\n              className={classes.table}\n              aria-labelledby=\"tableTitle\"\n              aria-label=\"enhanced table\"\n              size={'small'}\n            >\n              <ReportsTableHead\n                classes={classes}\n                order={order}\n                orderBy={orderBy}\n                onRequestSort={handleRequestSort}\n                type={type}\n              />\n              <TableBody>\n                {stableSort(reports, getComparator(order, orderBy))\n                  .slice(page * reportsPerPage, page * reportsPerPage + reportsPerPage)\n                  .map((row, index) => {\n                    const labelId = `enhanced-table-checkbox-${index}`;\n                    return (\n                      <TableRow\n                        hover\n                        tabIndex={-1}\n                        key={labelId}\n                        style={{height: '33px'}}\n                      >\n                        <TableCell component=\"th\" id={labelId} scope=\"row\">\n                          {type === 'room' ? getCleaner(row) : getRoom(row)}\n                        </TableCell>\n                        <TableCell align=\"right\">{moment(row['cleaning_time']).format('DD.MM.YYYY HH:mm')}</TableCell>\n                        <TableCell>{getIcon(row['cleaning_succesful'])}</TableCell>\n                        <TableCell align=\"right\">\n                          <IconButton color={\"secondary\"} size={\"small\"}\n                                      onClick={() => {\n                                        viewReport(row)\n                                      }}>\n                            <VisibilityOutlined/>\n                          </IconButton>\n                        </TableCell>\n                      </TableRow>\n                    );\n                  })}\n              </TableBody>\n            </Table>\n          </TableContainer>\n          <TablePagination\n            rowsPerPageOptions={[5, 10, 25, 50]}\n            component=\"div\"\n            count={reports.length}\n            rowsPerPage={reportsPerPage}\n            page={page}\n            onChangePage={handleChangePage}\n            onChangeRowsPerPage={handleChangeRowsPerPage}\n          />\n        </Paper>\n        : <Typography variant={\"h6\"}>No cleaning Reports</Typography>\n      }\n    </div>\n  );\n}\nCleaningReportsTable.propTypes = {\n  reports: PropTypes.array.isRequired,\n  type: PropTypes.oneOf(['cleaner', 'room']).isRequired\n}\nexport default CleaningReportsTable;","import React, {PureComponent} from 'react';\nimport PropTypes from \"prop-types\";\nimport {\n  XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, LineChart, Line\n} from 'recharts';\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport styles from \"./ActivityGraph.module.scss\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {Typography} from \"@material-ui/core\";\nimport moment from \"moment\";\nimport {LTTB} from \"downsample/methods/LTTB\";\n\nfunction pad(n) {\n  return n < 10 ? '0' + n : n\n}\n\nconst ActivityGraph = ({activity, lastCleaned, loading, title, type}) => {\n  type = type || 'room';\n  let formattedData = [];\n  if (activity && lastCleaned) {\n    let start = moment(lastCleaned).valueOf();\n    const step = 20000;\n    if (type === 'room') {\n      formattedData.push({\n        y: activity[0],\n        x: new Date(start)\n      });\n      for (let i = 1; i < activity.length; i++) {\n        formattedData.push({\n          y: activity[i],\n          x: new Date(start + step * i)\n        });\n      }\n    } else {\n      start = start - step * activity.length;\n      for (let i = 0; i < activity.length; i++) {\n        formattedData.push({\n          y: activity[i],\n          x: new Date(start + step * i)\n        });\n      }\n    }\n    formattedData = LTTB(formattedData, 400);\n    formattedData.forEach((point) => {\n      point.x = pad(point.x.getHours()) + ':' + pad(point.x.getMinutes());\n    });\n  }\n  return (\n    <div style={{margin: '16px 0 32px'}}>\n      <Paper className={styles.container}>\n        <Typography variant={\"h6\"} className={styles.title}>{title || 'Room activity since last cleaning'}</Typography>\n        <>\n          {loading ? <CircularProgress color={\"secondary\"} style={{margin: 'auto'}}/> :\n            <ResponsiveContainer width=\"100%\" height={400} className={styles.chart}>\n              {formattedData.length === 0 ?\n                <Typography variant={\"h6\"} className={styles.title} style={{textAlign: 'center'}}>No data</Typography>\n                :\n                <LineChart data={formattedData}>\n                  <XAxis dataKey=\"x\" label={{\n                    value: moment(lastCleaned).format('DD.MM.YY'),\n                    position: 'insideBottomLeft',\n                    offset: -20\n                  }} tick={<CustomizedAxisTick/>} height={48}/>\n                  <YAxis/>\n                  <CartesianGrid strokeDasharray=\"3 3\"/>\n                  <Tooltip/>\n                  <Legend/>\n                  <Line type=\"monotone\" dataKey=\"y\" name=\"Activity\" stroke=\"#8884d8\"\n                        strokeWidth={2}/>\n                </LineChart>\n              }\n\n            </ResponsiveContainer>\n          }\n        </>\n      </Paper>\n    </div>\n  )\n}\n\nclass CustomizedAxisTick extends PureComponent {\n  render() {\n    const {\n      x, y, payload,\n    } = this.props;\n\n    return (\n      <g transform={`translate(${x},${y})`}>\n        <text x={0} y={0} dy={16} textAnchor=\"end\" fill=\"#666\" transform=\"rotate(-35)\">{payload.value}</text>\n      </g>\n    );\n  }\n}\n\nActivityGraph.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  activity: PropTypes.array.isRequired,\n  lastCleaned: PropTypes.string.isRequired,\n  title: PropTypes.string,\n  type: PropTypes.oneOf(['report', 'room'])\n};\n\nexport default ActivityGraph;","import ActivityGraph from './ActivityGraph';\nexport default ActivityGraph;","import RoomDetailsPage from './RoomDetailsPage';\nexport default RoomDetailsPage;","import React, {useEffect, useState} from \"react\";\nimport {useHistory, useParams} from 'react-router-dom';\nimport {Button, Typography} from \"@material-ui/core\";\nimport {getAssignedCleaners, getFloorplan, getReports, getRoom, getRoomHeatmap} from \"../../utils/api\";\nimport PageContainer from \"../../containers/PageContainer\";\nimport styles from \"./RoomDetailsPage.module.scss\";\nimport RoomDetailsCard from \"./RoomDetailsCard\";\nimport RoomCleanerCard from \"./RoomCleanerCard\";\nimport CommentsList from \"./RoomReportComments\";\nimport CleaningReportsTable from \"../../components/CleaningReportsTable/CleaningReportsTable\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport {update_img} from \"../../utils/utils\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport ActivityGraph from \"../../components/Charts/ActivityGraph\";\n\nconst RoomDetailsPage = () => {\n  const history = useHistory();\n  const params = useParams();\n  const [roomLoaded, setRoomLoaded] = useState(false);\n  const [room, setRoom] = useState({});\n  const [reports, setReports] = useState([]);\n  const [cleaner, setCleaner] = useState({});\n  const [image, setImage] = useState('');\n  const [showMap, setShowMap] = useState(false);\n  const [showActivity, setShowActivity] = useState(false);\n  const [error, setError] = useState(false);\n  const [errorMsg, setErrorMsg] = useState('');\n\n  useEffect(() => {\n    getRoom(params.id)\n      .then((room) => {\n          setRoom(room);\n          setRoomLoaded(true);\n        },\n        (error) => console.log(error));\n    getAssignedCleaners(params.id)\n      .then((cleaners) => {\n        if (cleaners.length >= 1) {\n          setCleaner(cleaners[0]);\n        }\n      }, (error) => console.log(error));\n    getReports(params.id)\n      .then((reports) => {\n        setReports(reports.sort((a, b) => new Date(b['cleaning_time']) - new Date(a['cleaning_time'])));\n      })\n    getFloorplan(params.id).then((img) => {\n      setImage(URL.createObjectURL(img));\n    }).catch((err) => {\n      console.log(err)\n    })\n  }, [params.id]);\n\n  useEffect(() => {\n    if (showMap) {\n      getRoomHeatmap(params.id, 'contamination')\n        .then((response) => {\n          const aux = document.getElementById('aux');\n          const canvas = document.getElementById('main');\n          let scaler = 1n;\n          if (room['is_simulated']) {\n            if (room['contamination_index'] >= 60) {\n              scaler = 20n;\n            } else if (room['contamination_index'] >= 30) {\n              scaler = 10n;\n            } else {\n              scaler = 5n;\n            }\n          }\n          // eslint-disable-next-line no-undef\n          update_img(response, aux, canvas, scaler);\n        })\n        .catch((err) => {\n          setShowMap(false);\n          console.log(err.message)\n          setErrorMsg(err.message);\n          setError(true);\n        })\n    }\n  }, [params.id, room, showMap])\n  const navigateToMap = () => {\n    history.push({\n      pathname: `/rooms`,\n      state: {id: params.id, action: 'show'}\n    })\n  }\n\n  const handleSnackClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setError(false);\n    setShowMap(false);\n  };\n\n  const disableActivity = (room) => {\n    if (!room['between_cleaning_plot']) {\n      return true;\n    }\n    return !room['last_cleaned'] && !room['cleaning_end_time'];\n  }\n\n  return (\n    <PageContainer style={{width: '65%'}}>\n      {roomLoaded ? (\n        <>\n          <div className={styles.titleRow}>\n            <Typography variant={\"h4\"}>Room: {room.name}</Typography>\n            <Button variant={\"text\"} onClick={navigateToMap} size={\"small\"}>Show on map</Button>\n          </div>\n          <div className={styles.content}>\n            <div className={styles.detailsRow}>\n              <RoomDetailsCard room={room}/>\n              <RoomCleanerCard room={room} cleaner={cleaner} setCleaner={setCleaner}/>\n            </div>\n            <div className={styles.row} style={{marginTop: 32}}>\n              <Typography variant={\"h5\"}>Room map</Typography>\n              <Button variant={\"outlined\"} color={\"primary\"} onClick={() => setShowMap(!showMap)}>\n                {showMap ? 'Hide map' : 'Show Map'}\n              </Button>\n            </div>\n            {showMap && (\n              <div className={styles.container}>\n                <canvas id=\"aux\" style={{display: 'none'}}/>\n                <canvas id=\"main\" width={72} height={56} className={styles.map}/>\n                <img src={image} alt={\"\"} className={styles.overlay}/>\n              </div>\n            )}\n            <div className={styles.row} style={{marginTop: 32}}>\n              <Typography variant={\"h5\"}>Room activity</Typography>\n              <Button variant={\"outlined\"} color={\"primary\"} onClick={() => setShowActivity(!showActivity)} disabled={disableActivity(room)}>\n                {showActivity ? 'Hide activity graph' : 'Show activity graph'}\n              </Button>\n            </div>\n            {showActivity && <ActivityGraph loading={!roomLoaded} activity={room['between_cleaning_plot']} lastCleaned={room['last_cleaned'] || room['cleaning_end_time']}/>}\n            <CommentsList reports={reports}/>\n            <CleaningReportsTable reports={reports} type={'room'}/>\n          </div>\n        </>\n      ) : <CircularProgress color=\"secondary\" style={{margin: '16px auto'}}/>}\n      <Snackbar open={error} autoHideDuration={6000} onClose={handleSnackClose}>\n        <Alert onClose={() => setError(false)} severity=\"error\">{errorMsg}</Alert>\n      </Snackbar>\n    </PageContainer>\n  );\n}\n\nexport default RoomDetailsPage;","import CleaningReportsTable from './CleaningReportsTable';\nexport default CleaningReportsTable;","import * as Yup from \"yup\";\nimport {editCleaner} from \"../../utils/api\";\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Grid,\n} from \"@material-ui/core\";\nimport {Field, Form, Formik} from \"formik\";\nimport {TextField} from \"formik-material-ui\";\nimport React from \"react\";\nimport ShiftPicker from \"../../components/ShiftPicker/ShiftPicker\";\n\nconst validationSchema = Yup.object({\n  name: Yup.string().required()\n});\n\nconst EditCleanerDialog = ({cleaner, open, setOpen, onSave}) => {\n  const handleClose = () => {\n    setOpen(false);\n  }\n  const start = cleaner['shift_start'].split(':');\n  const end = cleaner['shift_end'].split(':');\n\n  const initialValues = {\n    name: cleaner.name,\n    startHour: start.length > 0 ? start[0] : '',\n    endHour: end.length > 0 ? end[0] : '',\n    startMinutes: start.length > 0 ? start[1] : '',\n    endMinutes: end.length > 0 ? end[1] : ''\n  }\n\n  const handleSubmit = async (vars, {setSubmitting}) => {\n    const edited = vars;\n    edited['_id'] = cleaner['_id'];\n    edited['shift_start'] = `${vars.startHour.padStart(2, '0')}:${vars.startMinutes.padStart(2, '0')}`;\n    edited['shift_end'] = `${vars.endHour.padStart(2, '0')}:${vars.endMinutes.padStart(2, '0')}`;\n    const res = await editCleaner(edited);\n    console.log(res);\n    setSubmitting(false);\n    setOpen(false);\n    onSave();\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n      <DialogTitle id=\"form-dialog-title\">Edit cleaner</DialogTitle>\n      <Formik initialValues={initialValues} onSubmit={handleSubmit} validationSchema={validationSchema}>\n        {({isSubmitting, resetForm, values}) => (\n          <Form>\n            <DialogContent>\n              <Grid container spacing={2}>\n                <Grid item xs={12}>\n                  <Field\n                    component={TextField}\n                    margin=\"dense\"\n                    id=\"name\"\n                    label=\"Name\"\n                    type=\"text\"\n                    name=\"name\"\n                    fullWidth\n                  />\n                </Grid>\n                <ShiftPicker/>\n              </Grid>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={handleClose} color=\"primary\">\n                Cancel\n              </Button>\n              <Button type=\"submit\" color=\"primary\">\n                Save\n              </Button>\n            </DialogActions>\n          </Form>\n        )}\n      </Formik>\n    </Dialog>\n  );\n}\n\nexport default EditCleanerDialog;\n","import React, {useEffect, useState} from 'react';\nimport PropTypes from \"prop-types\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport {assignRoomsToCleaner, getRooms, unAssignRooms} from \"../../utils/api\";\nimport styles from \"./RoomSelector.module.scss\";\nimport {\n  Button,\n  Checkbox, Dialog, DialogActions, DialogContent,\n  IconButton,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TablePagination,\n  TableRow, Toolbar, Tooltip, Typography\n} from \"@material-ui/core\";\nimport {getComparator, handleClick, stableSort} from \"../../utils/tableUtils\";\nimport {getRoomTypeProp, getStatus, mergeCleaners} from \"../../utils/utils\";\nimport {FilterList, VisibilityOutlined} from \"@material-ui/icons\";\nimport {useHistory} from \"react-router-dom\";\nimport moment from \"moment\";\nimport {lighten, makeStyles} from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\nimport TableFilters from \"../../pages/AssignmentsPage/TableFilters\";\nimport EnhancedTableHead from \"./EnhancedTableHead\";\n\nconst headCells = [\n  {id: 'name', numeric: false, disablePadding: true, label: 'Name'},\n  {id: 'building', numeric: true, disablePadding: false, label: 'Building'},\n  {id: 'floor', numeric: true, disablePadding: false, label: 'Floor'},\n  {id: 'cleaner_name', numeric: false, disablePadding: false, label: 'Assigned Cleaner'},\n  {id: 'status', numeric: false, disablePadding: false, label: 'Status'},\n  {id: 'contamination_index', numeric: true, disablePadding: false, label: 'Contamination index'},\n  {id: 'room_type', numeric: false, disablePadding: false, label: 'Room type'},\n  {id: 'last_cleaned', numeric: true, disablePadding: false, label: 'Last cleaned'},\n  {id: 'action', numeric: true, disablePadding: false, label: 'Action'},\n];\n\nconst useToolbarStyles = makeStyles((theme) => ({\n  root: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n    textAlign: 'left',\n    flexDirection: 'column'\n  },\n  highlight:\n    theme.palette.type === 'light'\n      ? {\n        color: theme.palette.secondary.main,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n      }\n      : {\n        color: theme.palette.text.primary,\n        backgroundColor: theme.palette.secondary.dark,\n      },\n  filters: {\n    minHeight: 96\n  }\n}));\n\nconst EnhancedTableToolbar = (props) => {\n  const classes = useToolbarStyles();\n  const {numSelected, rooms, setRooms} = props;\n  const [filter, showFilters] = React.useState(false);\n\n\n  return (\n    <Toolbar\n      className={clsx(classes.root, {\n        [classes.highlight]: numSelected > 0,\n        [classes.filters]: filter\n      })}\n    >\n      <div className={styles.row}>\n        {numSelected > 0 ? (\n          <Typography className={styles.title} color=\"inherit\" variant=\"subtitle1\" component=\"div\"\n                      style={{fontWeight: 600}}>\n            {numSelected} selected\n          </Typography>\n        ) : (\n          <Typography className={styles.title} variant=\"h5\" id=\"tableTitle\" component=\"div\" style={{fontWeight: '600'}}>\n            Assign rooms to cleaner\n          </Typography>\n        )}\n        <Tooltip title=\"Filter list\">\n          <IconButton aria-label=\"filter list\" onClick={() => {\n            showFilters(!filter);\n          }}>\n            <FilterList color={filter ? 'secondary' : 'inherit'}/>\n          </IconButton>\n        </Tooltip>\n      </div>\n      {filter &&\n      <div className={styles.row}>\n        <TableFilters rooms={rooms} setRooms={setRooms}/>\n      </div>\n      }\n    </Toolbar>\n  );\n};\n\nEnhancedTableToolbar.propTypes = {\n  numSelected: PropTypes.number.isRequired,\n  setRooms: PropTypes.func.isRequired,\n  rooms: PropTypes.array.isRequired,\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 750,\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n}));\n\nconst RoomSelector = ({cleaner, onClose, open, setOpen, setSnackOpen, setSnackText}) => {\n  const classes = useStyles();\n  const [order, setOrder] = React.useState('asc');\n  const [orderBy, setOrderBy] = React.useState('name');\n  const [selected, setSelected] = React.useState([]);\n  const [page, setPage] = React.useState(0);\n  const [roomsPerPage, setRoomsPerPage] = React.useState(10);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [rooms, setRooms] = useState([]);\n  const [origRooms, setOrigRooms] = useState([]);\n  const history = useHistory();\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleSelectAllClick = (event) => {\n    if (event.target.checked) {\n      const newSelecteds = rooms.map((n) => n);\n      setSelected(newSelecteds);\n      return;\n    }\n    setSelected([]);\n  };\n\n  useEffect(() => {\n    getRooms(null, null, true)\n      .then((rooms) => {\n          rooms = mergeCleaners(rooms);\n          console.log(rooms);\n          setRooms(rooms);\n          setOrigRooms(rooms);\n          setIsLoaded(true);\n        },\n        (error) => {\n          setIsLoaded(true);\n          console.log(error);\n        });\n  }, []);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRoomsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  const isSelected = (name) => selected.indexOf(name) !== -1;\n\n  const getDate = (date) => {\n    return date ? moment(date).format('YYYY-MM-DD HH:mm:ss') : 'Never';\n  }\n\n  const openRoom = (room) => {\n    const id = room['_id'];\n    history.push({\n      pathname: `/rooms/${id}`,\n      state: {id}\n    })\n  }\n\n  const getCleaner = (room) => {\n    const cleaners = room['assigned_cleaners'];\n    const cleaner = cleaners.length > 0 && cleaners[0];\n    if (!cleaner) {\n      return '-';\n    }\n    return cleaner.name;\n  }\n  const handleClose = () => {\n    onClose();\n    setOpen(false);\n  }\n\n  const assign = async () => {\n    const selectedWithCleaner = selected.filter((room) => {\n      return room['assigned_cleaners'].length > 0;\n    });\n    if (selectedWithCleaner.length > 0) {\n      await unAssignRooms(selectedWithCleaner);\n    }\n    await assignRoomsToCleaner(selected, cleaner['_id'])\n    setSnackText('Rooms assigned');\n    setSnackOpen(true);\n    onClose();\n    setOpen(false);\n  }\n  return (\n    <>\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\" disableBackdropClick={true}\n              maxWidth={\"lg\"}>\n        <DialogContent>\n          {isLoaded ?\n            <Paper className={classes.paper}>\n              <EnhancedTableToolbar numSelected={selected.length} rooms={origRooms} setRooms={setRooms}/>\n              <TableContainer>\n                <Table\n                  className={classes.table}\n                  aria-labelledby=\"tableTitle\"\n                  aria-label=\"enhanced table\"\n                  size={'small'}\n                >\n                  <EnhancedTableHead\n                    classes={classes}\n                    numSelected={selected.length}\n                    order={order}\n                    orderBy={orderBy}\n                    onSelectAllClick={handleSelectAllClick}\n                    onRequestSort={handleRequestSort}\n                    rowCount={rooms.length}\n                    headCells={headCells}\n                    type={\"selection\"}\n                  />\n                  <TableBody>\n                    {stableSort(rooms, getComparator(order, orderBy))\n                      .slice(page * roomsPerPage, page * roomsPerPage + roomsPerPage)\n                      .map((row, index) => {\n                        const isItemSelected = isSelected(row);\n                        const labelId = `enhanced-table-checkbox-${index}`;\n\n                        return (\n                          <TableRow\n                            hover\n                            onClick={(event) => handleClick(event, row, selected, setSelected)}\n                            role=\"checkbox\"\n                            aria-checked={isItemSelected}\n                            tabIndex={-1}\n                            key={row.name}\n                            selected={isItemSelected}\n                            style={{height: '33px'}}\n                          >\n                            <TableCell padding=\"checkbox\">\n                              <Checkbox\n                                checked={isItemSelected}\n                                inputProps={{'aria-labelledby': labelId}}\n                              />\n                            </TableCell>\n                            <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\n                              {row.name}\n                            </TableCell>\n                            <TableCell align=\"right\">{row.building}</TableCell>\n                            <TableCell align=\"right\">{row.floor}</TableCell>\n                            <TableCell>{getCleaner(row)}</TableCell>\n                            <TableCell>{getStatus(row['contamination_index'])}</TableCell>\n                            <TableCell align=\"right\">{row['contamination_index'].toFixed(2)}</TableCell>\n                            <TableCell>{getRoomTypeProp(row, 'displayName')}</TableCell>\n                            <TableCell align=\"right\">{getDate(row['last_cleaned'])}</TableCell>\n                            <TableCell align=\"right\">\n                              <IconButton color={\"secondary\"} size={\"small\"}\n                                          onClick={() => {\n                                            openRoom(row)\n                                          }}>\n                                <VisibilityOutlined/>\n                              </IconButton>\n                            </TableCell>\n                          </TableRow>\n                        );\n                      })}\n                  </TableBody>\n                </Table>\n              </TableContainer>\n              <TablePagination\n                rowsPerPageOptions={[5, 10, 25, 50]}\n                component=\"div\"\n                count={rooms.length}\n                rowsPerPage={roomsPerPage}\n                page={page}\n                onChangePage={handleChangePage}\n                onChangeRowsPerPage={handleChangeRowsPerPage}\n              />\n            </Paper>\n            : <CircularProgress color=\"secondary\" style={{margin: '16px auto'}}/>\n          }\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button color=\"primary\" onClick={assign} disabled={selected.length === 0} variant={\"contained\"}>\n            Assign\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n\nRoomSelector.propTypes = {\n  cleaner: PropTypes.object.isRequired,\n  onClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  setOpen: PropTypes.func.isRequired,\n  setSnackOpen: PropTypes.func.isRequired,\n  setSnackText: PropTypes.func.isRequired\n}\n\nexport default RoomSelector;","import RoomSelector from './RoomSelector';\nexport default RoomSelector;","import React, {useEffect, useState} from \"react\";\nimport {useParams, useHistory, Link as RouterLink} from 'react-router-dom';\nimport {IconButton, Paper, Table, TableContainer, TableHead, TableRow, Typography} from \"@material-ui/core\";\nimport {getAssignedRooms, getCleaner, getReports, unAssignRoom, deleteCleaner as removeCleaner} from \"../../utils/api\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport {AccountCircleRounded, AddCircleOutline, Clear, DeleteForever, Edit} from \"@material-ui/icons\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport PageContainer from \"../../containers/PageContainer\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport {getRoomTypeProp, getStatus} from \"../../utils/utils\";\nimport CleaningReportsTable from \"../../components/CleaningReportsTable\";\nimport styles from './CleanerDetailsPage.module.scss';\nimport Button from \"@material-ui/core/Button\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport EditCleanerDialog from \"./EditCleanerDialog\";\nimport RoomSelector from \"../../components/RoomSelector\";\nimport Link from \"@material-ui/core/Link\";\n\nconst CleanerDetailsPage = () => {\n  const history = useHistory();\n  const params = useParams();\n  const [cleanerLoaded, setCleanerLoaded] = useState(false);\n  const [editing, setEditing] = useState(false);\n  const [cleaner, setCleaner] = useState({});\n  const [reports, setReports] = useState([]);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [open, setOpen] = React.useState(false);\n  const [data, getData] = React.useState(false);\n  const [snackOpen, setSnackOpen] = useState(false);\n  const [snackText, setSnackText] = useState('Cleaned deleted');\n  const [showRoomSelector, setShowRoomSelector] = useState(false);\n\n  const handleConfirmClose = () => {\n    setOpen(false);\n  };\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const deleteCleaner = async () => {\n    await removeCleaner(cleaner['_id']);\n    setSnackText('Cleaner Deleted');\n    setSnackOpen(true);\n    history.goBack();\n  }\n\n  const saved = () => {\n    setSnackText('Saved');\n    setSnackOpen(true);\n    getData(true);\n  }\n  const handleSnackClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setSnackOpen(false);\n  };\n\n  useEffect(() => {\n    getCleaner(params.id)\n      .then((room) => {\n          console.log(room);\n          setCleaner(room);\n          setCleanerLoaded(true);\n        },\n        (error) => {\n          console.log(error);\n        });\n    getReports(null, params.id)\n      .then((reports) => {\n        setReports(reports.sort((a, b) => new Date(b['cleaning_time']) - new Date(a['cleaning_time'])));\n      })\n  }, [params.id, data]);\n\n  return (\n    <PageContainer style={{textAlign: 'start'}}>\n      <div className={styles.row} style={{justifyContent: 'space-between'}}>\n        <Typography variant={\"h5\"} className={styles.semiBold}>Cleaner details</Typography>\n        <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick} variant={\"outlined\"}\n                color={\"primary\"}>\n          Actions\n        </Button>\n        <Menu\n          id=\"simple-menu\"\n          anchorEl={anchorEl}\n          keepMounted\n          open={Boolean(anchorEl)}\n          onClose={handleClose}\n        >\n          <MenuItem onClick={() => {\n            handleClose();\n            setEditing(true);\n          }}>\n            <ListItemIcon>\n              <Edit fontSize=\"small\" style={{color: '#808080'}}/>\n            </ListItemIcon>\n            <ListItemText primary=\"Edit cleaner\"/>\n          </MenuItem>\n          <MenuItem onClick={() => {\n            setOpen(true);\n            handleClose()\n          }}>\n            <ListItemIcon>\n              <DeleteForever color={\"error\"} fontSize=\"small\"/>\n            </ListItemIcon>\n            <ListItemText primary=\"Delete cleaner\"/>\n          </MenuItem>\n        </Menu>\n      </div>\n      {cleanerLoaded ? (\n        <>\n          <div className={[styles.row, styles.content].join(' ')}>\n            <AccountCircleRounded className={styles.avatar}/>\n            <div>\n              <Typography variant={\"h6\"} className={styles.semiBold}>Cleaner name: {cleaner.name}</Typography>\n              <Typography variant={\"body1\"} color={\"textSecondary\"}>\n                Shift: {cleaner['shift_start']} - {cleaner['shift_end']}\n              </Typography>\n            </div>\n          </div>\n          <div className={styles.row} style={{justifyContent: 'space-between'}}>\n            <Typography variant={\"h5\"} className={styles.semiBold}>Assigned Rooms</Typography>\n            <Tooltip title={\"Add assignments\"}>\n              <IconButton onClick={() => {\n                setShowRoomSelector(true);\n              }}>\n                <AddCircleOutline/>\n              </IconButton>\n            </Tooltip>\n          </div>\n          <AssignmentsTable cleaner={cleaner} setSnackOpen={setSnackOpen} setSnackText={setSnackText}/>\n          <CleaningReportsTable reports={reports} type={\"cleaner\"}/>\n        </>\n      ) : <CircularProgress color=\"secondary\" style={{margin: '16px auto'}}/>}\n      <Dialog\n        open={open}\n        onClose={handleConfirmClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{\"Delete cleaner\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            Are you sure you want to delete the cleaner?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleConfirmClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={() => {\n            handleConfirmClose();\n            deleteCleaner();\n          }} color=\"primary\" autoFocus>\n            Delete\n          </Button>\n        </DialogActions>\n      </Dialog>\n      {cleanerLoaded &&\n      <EditCleanerDialog cleaner={cleaner} open={editing} setOpen={setEditing} onSave={saved}/>}\n      <RoomSelector setSnackText={setSnackText} open={showRoomSelector} setSnackOpen={setSnackOpen}\n                    setOpen={setShowRoomSelector} onClose={() => {\n        getData(true);\n      }} cleaner={cleaner}/>\n      <Snackbar open={snackOpen} autoHideDuration={6000} onClose={handleSnackClose}\n                anchorOrigin={{vertical: \"top\", horizontal: \"center\"}}>\n        <Alert variant={\"filled\"} severity=\"success\" onClose={handleSnackClose}>\n          {snackText}\n        </Alert>\n      </Snackbar>\n    </PageContainer>\n  );\n}\n\nconst AssignmentsTable = ({cleaner, setSnackOpen, setSnackText}) => {\n  const [assignments, setAssignments] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    getAssignedRooms(cleaner['_id'])\n      .then((assignments) => {\n        console.log(assignments);\n        setAssignments(assignments);\n        setLoading(false);\n      }, (error) => {\n        console.log(error);\n      })\n  }, [cleaner]);\n\n  const removeAssignment = async (room) => {\n    const response = await unAssignRoom(room['_id'], cleaner['_id']);\n    console.log(response);\n    const newAssignments = [...assignments];\n    newAssignments.splice(assignments.indexOf(room), 1);\n    setAssignments(newAssignments);\n    setSnackText('Assignment removed');\n    setSnackOpen(true);\n  }\n\n  const getRoom = (room) => {\n    return (<Link component={RouterLink} color=\"secondary\"\n                  to={{\n                    pathname: `/rooms/${room['_id']}`,\n                    state: {id: room['_id']}\n                  }}>\n      {room.name}\n    </Link>);\n  }\n\n  const getCleaningStatus = (room) => {\n    if (room['is_cleaning']) {\n      return 'Cleaning in progress';\n    }\n    if (room['contamination_index'] > 60) {\n      return 'Needs cleaning';\n    }\n    return 'Clean';\n  }\n\n  return (\n    <div style={{margin: '16px 0'}}>\n      {loading ? <CircularProgress color=\"secondary\"/> :\n        (\n          assignments.length > 0 ?\n            <TableContainer component={Paper}>\n              <Table size={\"small\"}>\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Room</TableCell>\n                    <TableCell align=\"right\">Status</TableCell>\n                    <TableCell align=\"right\">Contamination Index</TableCell>\n                    <TableCell align=\"right\">Room type</TableCell>\n                    <TableCell align=\"right\">Cleaning Status</TableCell>\n                    <TableCell>Action</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {assignments.map((row) => (\n                    <TableRow key={row['_id']}>\n                      <TableCell component=\"th\" scope=\"row\">{getRoom(row)}</TableCell>\n                      <TableCell align=\"right\">{getStatus(row['contamination_index'])}</TableCell>\n                      <TableCell align=\"right\">{Math.min(row['contamination_index'].toFixed(2), 150)} %</TableCell>\n                      <TableCell align=\"right\">{getRoomTypeProp(row, 'displayName')}</TableCell>\n                      <TableCell\n                        align=\"right\">{getCleaningStatus(row)}</TableCell>\n                      <TableCell>\n                        <Tooltip title={\"Remove assignment\"}>\n                          <IconButton size={\"small\"} onClick={() => {\n                            removeAssignment(row);\n                          }}>\n                            <Clear color={\"error\"}/>\n                          </IconButton>\n                        </Tooltip>\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </TableContainer> : <Typography variant={\"h6\"}>No assigned rooms</Typography>\n        )}\n    </div>\n  );\n}\n\nexport default CleanerDetailsPage;","import CleanerDetailsPage from './CleanerDetailsPage';\nexport default CleanerDetailsPage;","import ReportPage from './ReportPage';\nexport default ReportPage;\n","import React, {useEffect, useState} from 'react';\nimport {Link as RouterLink, useParams} from \"react-router-dom\";\nimport {getFloorplan, getHeatmap, getReport} from \"../../utils/api\";\nimport PageContainer from \"../../containers/PageContainer\";\nimport {Typography, Select, Grid} from \"@material-ui/core\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport styles from './ReportPage.module.scss';\nimport {Check, CloseRounded} from \"@material-ui/icons\";\nimport {getVariant, update_img} from \"../../utils/utils\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport moment from \"moment\";\nimport Link from \"@material-ui/core/Link\";\nimport heatmap from \"../../assets/heatmap2.png\";\nimport ActivityGraph from \"../../components/Charts/ActivityGraph\";\n\nconst ReportPage = () => {\n  const {id} = useParams();\n  const [report, setReport] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [type, setType] = useState('');\n  const [error, setError] = useState(false);\n  const [errorMsg, setErrorMsg] = useState('');\n  const [showContImg, setShowContImg] = useState(false);\n  const [showCleanImg, setShowCleanImg] = useState(false);\n  const [image, setImage] = useState('');\n  const [showMap, setShowMap] = useState(false);\n\n  useEffect(() => {\n    getReport(id)\n      .then((report) => {\n        setReport(report);\n        setLoading(false);\n        getFloorplan(report['room_id']).then((img) => {\n          setImage(URL.createObjectURL(img));\n        });\n      })\n  }, [id]);\n\n  const mapSelected = async (event) => {\n    setType(event.target.value);\n    if (report['is_simulated']) {\n      setShowContImg(false);\n      setShowCleanImg(false);\n      if (event.target.value === 'contamination') {\n        setShowContImg(true);\n      } else {\n        setShowCleanImg(true);\n      }\n    } else {\n      await getHeatmap(id, event.target.value)\n        .then((res) => {\n          const aux = document.getElementById('aux');\n          const canvas = document.getElementById('main');\n          console.log(res)\n          update_img(res, aux, canvas, 1n, event.target.value === 'clean');\n          setShowMap(true);\n        }).catch((err) => {\n          console.error(err)\n          setErrorMsg('Could not load map');\n          setError(true);\n        });\n    }\n  }\n  const handleSnackClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setError(false);\n  };\n\n  const getIcon = (successful) => {\n    return successful ? (<Check className={styles.good} fontSize={\"large\"}/>) : (\n      <CloseRounded color={\"error\"} fontSize={\"large\"}/>);\n  }\n\n  const getRoom = (report) => {\n    return (<Link component={RouterLink} color=\"secondary\"\n                  to={{\n                    pathname: `/rooms/${report['room_id']}`,\n                    state: {id: report['room_id']}\n                  }}>\n      {report['room_name']}\n    </Link>);\n  }\n\n  const getOverview = (report) => {\n    if (report.overview === '<empty>') {\n      return '-';\n    } else {\n      return report.overview;\n    }\n  }\n\n  return (\n    <PageContainer style={{textAlign: 'start'}}>\n      <Typography variant={\"h4\"} className={styles.semiBold}>Cleaning report details</Typography>\n      <Grid container spacing={2}>\n        <Grid item xs={6}>\n          <div className={styles.row} style={{justifyContent: 'space-between'}}>\n            <Typography variant={\"h5\"}>Room map</Typography>\n            <FormControl variant={'outlined'} style={{minWidth: '320px', marginBottom: 8}}>\n              <InputLabel id=\"demo-simple-select-outlined-label\">Contamination map type</InputLabel>\n              <Select label=\"Contamination map type\" onChange={mapSelected} value={type}>\n                <MenuItem value=\"clean\">Cleaning</MenuItem>\n                <MenuItem value=\"contamination\">Before cleaning</MenuItem>\n              </Select>\n            </FormControl>\n          </div>\n          <div style={{display: 'flex', flexDirection: 'column'}}>\n            {showContImg &&\n            <img src={heatmap} alt=\"contamination map\" className={styles.map}/>\n            }\n            {showCleanImg &&\n            <img src={heatmap} alt=\"clean map\" className={styles.map}/>\n            }\n            <div className={styles.container}>\n              {!showCleanImg && !showContImg &&\n              <>\n                <canvas id=\"aux\" style={{display: 'none'}}/>\n                <canvas id=\"main\" width={72} height={56} className={styles.map}/>\n                {showMap && <img src={image} alt={\"\"} className={styles.overlay}/>}\n              </>\n              }\n            </div>\n          </div>\n          <Typography variant={\"h5\"}>Cleaner comments:</Typography>\n          <div className={styles.comments}>\n            <Typography variant={\"body1\"} className={styles.comment}>{report.comments}</Typography>\n          </div>\n        </Grid>\n        {!loading &&\n        <Grid item xs={6}>\n          <div className={styles.row}>\n            <Typography variant={\"h5\"} className={styles.reportInfo}>Cleaner:</Typography>\n            <Link component={RouterLink} color=\"secondary\"\n                  to={{\n                    pathname: `/cleaners/${report['cleaner_id']}`,\n                    state: {id: report['cleaner_id']}\n                  }}>\n              <Typography style={{marginLeft: '4px'}} variant={\"h5\"}>{report['cleaner_name']}</Typography>\n            </Link>\n          </div>\n          <div className={styles.row}>\n            <Typography variant={\"h5\"} className={styles.reportInfo}>Room:</Typography>\n            <Typography style={{marginLeft: '4px'}} variant={\"h5\"}>{getRoom(report)}</Typography>\n          </div>\n          <div className={styles.row}>\n            <Typography variant={\"h5\"} className={styles.reportInfo}>Cleaning time:</Typography>\n            <Typography style={{marginLeft: '4px'}}\n                        variant={\"h5\"}>{moment(report['cleaning_time']).format('YYYY-MM-DD HH:mm:ss')}</Typography>\n          </div>\n          <div className={styles.row}>\n            <Typography variant={\"h5\"} className={styles.reportInfo}>Cleaning successful:</Typography>\n            <div style={{marginLeft: 4, height: 35}}>{getIcon(report['cleaning_succesful'])}</div>\n          </div>\n          <div className={styles.row}>\n            <Typography variant={\"h5\"} className={styles.reportInfo}>Overview:</Typography>\n            <Typography style={{marginLeft: '4px'}} variant={\"h5\"}>{getOverview(report)}</Typography>\n          </div>\n          <div className={styles.row}>\n            <Typography variant={\"h5\"} className={styles.reportInfo}>Contamination index:</Typography>\n            <Typography style={{marginLeft: '4px'}} variant={\"h5\"}\n                        className={styles[getVariant(report['contamination_index'])]}>{report['contamination_index'].toFixed(2)} %</Typography>\n          </div>\n          <div className={styles.row}>\n            <Typography variant={\"h5\"} className={styles.reportInfo}>Cleaning duration:</Typography>\n            <Typography style={{marginLeft: '4px'}}\n                        variant={\"h5\"}>{moment.utc((report['cleaning_duration_seconds'] * 1000)).format('m [minutes] s [seconds]')}</Typography>\n          </div>\n          <ActivityGraph activity={report['between_cleaning_plot']} loading={loading}\n                         lastCleaned={report['cleaning_time']} title={\"Room activity before cleaning\"} type=\"report\"/>\n        </Grid>}\n      </Grid>\n      <Snackbar open={error} autoHideDuration={6000} onClose={handleSnackClose}>\n        <Alert onClose={() => setError(false)} severity=\"error\">{errorMsg}</Alert>\n      </Snackbar>\n    </PageContainer>\n  )\n}\n\nexport default ReportPage;","import CircularProgressWithLabel from \"./CircularProgressWithLabel\";\nexport default CircularProgressWithLabel;","import Box from \"@material-ui/core/Box\";\nimport React from \"react\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Typography from \"@material-ui/core/Typography\";\nimport PropTypes from \"prop-types\";\n\nconst CircularProgressWithLabel = (props) => {\n  return (\n    <Box position=\"relative\" display=\"inline-flex\">\n      <CircularProgress variant=\"static\" {...props} />\n      <Box\n        top={0}\n        left={0}\n        bottom={0}\n        right={0}\n        position=\"absolute\"\n        display=\"flex\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n      >\n        <Typography variant=\"caption\" component=\"div\" color=\"textSecondary\">{`${Math.round(\n          props.value,\n        )}%`}</Typography>\n      </Box>\n    </Box>\n  );\n}\n\nCircularProgressWithLabel.propTypes = {\n  /**\n   * The value of the progress indicator for the determinate and static variants.\n   * Value between 0 and 100.\n   */\n  value: PropTypes.number.isRequired,\n};\n\nexport default CircularProgressWithLabel;","import AdminPage from './AdminPage';\nexport default AdminPage;\n","import React, {useEffect, useState} from 'react';\nimport PageContainer from \"../../containers/PageContainer\";\nimport {Button, Divider, Typography} from \"@material-ui/core\";\nimport styles from \"./AdminPage.module.scss\";\nimport Slider from \"@material-ui/core/Slider\";\nimport {getSimulatorSettings, resetSimulation, setSimulation} from \"../../utils/api\";\nimport Input from \"@material-ui/core/Input\";\nimport Grid from \"@material-ui/core/Grid\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Card from \"@material-ui/core/Card\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport CircularProgressWithLabel from \"../../components/CircularProgressWithLabel\";\n//import {ROOM_TYPES} from \"../../utils/constants\";\n\nconst AdminPage = () => {\n  const [simSpeed, setSimSpeed] = useState(10);\n  const [loading, setLoading] = useState(true);\n  const [snackOpen, setSnackOpen] = useState(false);\n  const [open, setOpen] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [generating, setGenerating] = useState(false);\n  const [snackText, setSnackText] = useState('Simulation speed updated');\n\n  const handleSnackClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setSnackOpen(false);\n  };\n  useEffect(() => {\n    getSimulatorSettings()\n      .then((settings) => {\n        setSimSpeed(settings['simulator_speed']);\n        setLoading(false);\n      })\n  }, [])\n  const valuetext = (value) => {\n    return `${value}x`;\n  }\n\n  const generateMarks = () => {\n    const mark = [];\n    for (let i = 5; i <= 100; i += 5) {\n      mark.push({\n        value: i,\n        label: i\n      });\n    }\n    mark.unshift({\n      value: 0.1,\n      label: '0.1'\n    }, {\n      value: 0.5,\n    }, {\n      value: 1,\n    });\n\n    return mark;\n  }\n\n  const updateSimSpeed = () => {\n    setSimulation(simSpeed)\n      .then(() => {\n        setSnackText('Simulation speed updated');\n        setSnackOpen(true);\n      }).catch(() => setSnackOpen(true));\n  }\n  const handleChange = (event, newValue) => {\n    setSimSpeed(newValue);\n  };\n\n  const handleInputChange = (event) => {\n    setSimSpeed(event.target.value === '' ? '' : Number(event.target.value));\n  };\n\n  const handleBlur = () => {\n    if (simSpeed < 0.1) {\n      setSimSpeed(0);\n    } else if (simSpeed > 1000) {\n      setSimSpeed(1000);\n    }\n  };\n\n  const handleConfirmClose = () => {\n    setSnackText('Simulation reset');\n    setOpen(false);\n  };\n\n  const generate = async () => {\n    setGenerating(true);\n    //const hospitalId = \"5fb5226d3d8e1d45045cfc3f\";\n    //const roomType = ROOM_TYPES.WAITING_ROOM.key;\n    //const roomName = 'B20';\n    //const building = 1;\n    //const floor = 1;\n    let start = 0;\n    const end = 0;\n    for (start;start <= end; start++) {\n      //const name = roomName + start;\n      //await createRoom(hospitalId, name, roomType, building, floor);\n      await new Promise(r => setTimeout(r, 1000));\n      setProgress(start);\n    }\n    setGenerating(false);\n  }\n\n  return (\n    <PageContainer style={{textAlign: 'start'}}>\n      <Typography variant={\"h5\"}>Simulator</Typography>\n      {loading ? <CircularProgress style={{margin: \"auto\"}}/> :\n        <Grid container>\n          <Grid container className={styles.slider}>\n            <Grid item xs>\n              <div className={styles.row}>\n                <Typography id=\"discrete-slider\" gutterBottom>\n                  Simulation speed\n                </Typography>\n                <Button variant={\"text\"} color={\"primary\"} onClick={updateSimSpeed}>\n                  Set\n                </Button>\n              </div>\n            </Grid>\n            <Grid container spacing={2} direction={\"row\"}>\n              <Grid item style={{flex: 1}}>\n                <Slider\n                  getAriaValueText={valuetext}\n                  aria-labelledby=\"discrete-slider\"\n                  valueLabelDisplay=\"auto\"\n                  step={null}\n                  min={0.1}\n                  marks={generateMarks()}\n                  onChange={handleChange}\n                  value={simSpeed}\n                />\n              </Grid>\n              <Grid item>\n                <Input\n                  style={{width: 42}}\n                  value={simSpeed}\n                  margin=\"dense\"\n                  onChange={handleInputChange}\n                  onBlur={handleBlur}\n                  inputProps={{\n                    step: 5,\n                    min: 0,\n                    max: 1000,\n                    type: 'number',\n                    'aria-labelledby': 'input-slider',\n                  }}\n                />\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item style={{display: \"flex\", marginLeft: 32}} xs>\n            <Card className={styles.card}>\n              <div className={styles.cardContent}>\n                <Typography variant={\"h6\"} className={styles.semiBold}>Simulator actions</Typography>\n                <Divider className={styles.divider} light={true}/>\n                <Button onClick={() => {\n                  setOpen(true);\n                }} variant={\"contained\"} color={\"secondary\"}>Reset simulated rooms</Button>\n                <Button disabled={generating} onClick={() => {\n                  generate();\n                }} variant={\"contained\"} color={\"primary\"} style={{float: \"right\"}}>Generate rooms</Button>\n              </div>\n            </Card>\n          </Grid>\n        </Grid>\n      }\n      <Snackbar open={snackOpen} autoHideDuration={6000} onClose={handleSnackClose}\n                anchorOrigin={{vertical: \"top\", horizontal: \"center\"}}>\n        <Alert variant={\"filled\"} severity=\"success\" onClose={handleSnackClose}>\n          {snackText}\n        </Alert>\n      </Snackbar>\n      {generating && <CircularProgressWithLabel value={progress} style={{margin: \"auto\"}}/>}\n      <Dialog\n        open={open}\n        onClose={handleConfirmClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">Reset simulated rooms</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            Are you sure you want to reset the rooms?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleConfirmClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={async () => {\n            handleConfirmClose();\n            resetSimulation().then(() => setSnackOpen(true)).catch(() => setSnackOpen(true));\n          }} color=\"primary\" autoFocus>\n            Reset\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </PageContainer>\n  )\n}\n\nexport default AdminPage;","import React from 'react';\nimport './App.scss';\nimport {Route, Switch, Redirect} from \"react-router-dom\";\nimport {authenticated as auth, getUser} from '../utils/api';\nimport DashboardPage from \"../pages/DashboardPage\";\nimport LoginPage from \"../pages/LoginPage\";\nimport CleanersPage from \"../pages/CleanersPage\";\nimport Toolbar from \"../components/Toolbar\";\nimport {useLocation} from 'react-router-dom';\nimport AnalysisPage from \"../pages/AnalysisPage\";\nimport RoomsPage from \"../pages/RoomsPage\";\nimport AssignmentsPage from \"../pages/AssignmentsPage\";\nimport RoomDetailsPage from \"../pages/RoomDetailsPage\";\nimport CleanerDetailsPage from \"../pages/CleanerDetailsPage\";\nimport ReportPage from \"../pages/ReportPage\";\nimport AdminPage from \"../pages/AdminPage\";\n\nfunction App() {\n  const location = useLocation();\n  const user = getUser();\n  const login = () => (auth() ? <Redirect to=\"/dashboard\"/> : <LoginPage/>);\n  const dash = () => (!auth() ? <Redirect to=\"/\"/> : <DashboardPage/>);\n  const cleaner = () => (!auth() ? <Redirect to=\"/\"/> : <CleanerDetailsPage/>);\n  const cleaners = () => (!auth() ? <Redirect to=\"/\"/> : <CleanersPage/>);\n  const assignments = () => (!auth() ? <Redirect to=\"/\"/> : <AssignmentsPage/>);\n  const rooms = () => (!auth() ? <Redirect to=\"/\"/> : <RoomsPage/>);\n  const room = () => (!auth() ? <Redirect to=\"/\"/> : <RoomDetailsPage/>);\n  const analysis = () => (!auth() ? <Redirect to=\"/\"/> : <AnalysisPage/>);\n  const report = () => (!auth() ? <Redirect to=\"/\"/> : <ReportPage/>);\n  const admin = () => (!auth() || !user.superAdmin ? <Redirect to=\"/\"/> : <AdminPage/>);\n\n  return (\n    <div className=\"App\">\n      {location.pathname !== '/' && <Toolbar/>}\n      <Switch location={location}>\n        <Route path={\"/dashboard\"} render={dash}/>\n        <Route path={\"/cleaners/:id\"} render={cleaner}/>\n        <Route path={\"/cleaners\"} render={cleaners}/>\n        <Route path={\"/assignments\"} render={assignments}/>\n        <Route path={\"/rooms/reports/:id\"} render={report}/>\n        <Route path={\"/rooms/:id\"} render={room}/>\n        <Route path={\"/rooms\"} render={rooms}/>\n        <Route path={\"/analysis\"} render={analysis}/>\n        <Route path={\"/simulator\"} render={admin}/>\n        <Route path={\"/\"} render={login}/>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './app/App';\nimport * as serviceWorker from './serviceWorker';\nimport {BrowserRouter} from \"react-router-dom\";\nimport {unstable_createMuiStrictModeTheme as createMuiTheme, StylesProvider, ThemeProvider} from '@material-ui/core/styles';\nimport {blueGrey, lightBlue} from \"@material-ui/core/colors\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: blueGrey[900],\n    },\n    secondary: lightBlue\n  },\n  typography: {\n    fontFamily: ['Raleway', 'sans-serif']\n  }\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename={'/spotless'}>\n      <ThemeProvider theme={theme}>\n        <StylesProvider injectFirst>\n          <App/>\n        </StylesProvider>\n      </ThemeProvider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"CleanerDetailsPage_content__3PEfI\",\"avatar\":\"CleanerDetailsPage_avatar__3KDG8\",\"row\":\"CleanerDetailsPage_row__G0VOc\",\"menu\":\"CleanerDetailsPage_menu__2gyF8\",\"column\":\"CleanerDetailsPage_column__3374X\",\"semiBold\":\"CleanerDetailsPage_semiBold__1F3iu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerRow\":\"RoomsPage_headerRow__3ck7N\",\"bold\":\"RoomsPage_bold__39rfR\",\"map\":\"RoomsPage_map__19OrU\",\"area\":\"RoomsPage_area__2kJln\",\"roomInfo\":\"RoomsPage_roomInfo__2IEIj\",\"filters\":\"RoomsPage_filters__BmR-T\"};"],"sourceRoot":""}