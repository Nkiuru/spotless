{"version":3,"sources":["pages/RoomsPage/RoomsPage.module.scss","pages/AdminPage/AdminPage.module.scss","components/StatusDot/StatusDot.module.scss","pages/AssignmentsPage/AssignmentsPage.module.scss","components/Charts/ReportsPerDay/ReportsPerDay.module.scss","pages/LoginPage/LoginPage.module.scss","components/Charts/CleaningsByCleaner/CleaningsByCleaner.module.scss","components/Charts/ContaminationIndexOverTime/ContaminationIndexOverTime.module.scss","components/Charts/CleaningDuration/CleaningDuration.module.scss","components/Charts/ActivityGraph/ActivityGraph.module.scss","components/RoomSelector/RoomSelector.module.scss","pages/RoomDetailsPage/RoomDetailsPage.module.scss","components/ShiftPicker/ShiftPicker.module.scss","containers/PageContainer/PageContainer.module.scss","pages/CleanersPage/CleanersPage.module.scss","components/CleaningReportsTable/CleaningReportTable.module.scss","assets/heatmap2.png","pages/ReportPage/ReportPage.module.scss","assets/web_logo.png","assets/logo.png","assets/hospital.png","components/CleanerSelect/CleanerSelect.module.scss","pages/DashboardPage/DashboardPage.module.scss","components/Toolbar/Toolbar.module.scss","utils/constants.js","utils/api.js","containers/PageContainer/index.js","containers/PageContainer/PageContainer.js","pages/DashboardPage/KeyStat.js","components/StatusDot/index.js","components/StatusDot/StatusDot.js","utils/utils.js","components/Charts/ReportsPerDay/index.js","components/Charts/ReportsPerDay/ReportsPerDay.js","pages/DashboardPage/Alerts.js","pages/DashboardPage/index.js","pages/DashboardPage/DashboardPage.js","pages/LoginPage/LoginPage.js","pages/LoginPage/index.js","components/ShiftPicker/ShiftPicker.js","components/RoomSelector/EnhancedTableHead.js","utils/tableUtils.js","pages/CleanersPage/CleanersPage.js","pages/CleanersPage/index.js","components/Toolbar/Toolbar.js","components/Toolbar/index.js","components/Charts/CleaningsByCleaner/index.js","components/Charts/CleaningsByCleaner/CleaningsByCleaner.js","components/Charts/ContaminationIndexOverTime/index.js","components/Charts/ContaminationIndexOverTime/ContaminationIndexOverTime.js","components/Charts/CleaningDuration/index.js","components/Charts/CleaningDuration/CleaningDuration.js","pages/AnalysisPage/index.js","pages/AnalysisPage/AnalysisPage.js","pages/RoomsPage/RoomsMap.js","pages/AssignmentsPage/TableFilters.js","pages/RoomsPage/index.js","pages/RoomsPage/RoomsPage.js","components/CleanerSelect/index.js","components/CleanerSelect/CleanerSelect.js","pages/AssignmentsPage/AssignCleanerDialog.js","pages/AssignmentsPage/AssignmentsPage.js","pages/AssignmentsPage/index.js","pages/RoomDetailsPage/RoomDetailsCard.js","pages/RoomDetailsPage/RoomCleanerCard.js","pages/RoomDetailsPage/RoomReportComments.js","components/CleaningReportsTable/CleaningReportsTable.js","components/Charts/ActivityGraph/ActivityGraph.js","components/Charts/ActivityGraph/index.js","pages/RoomDetailsPage/index.js","pages/RoomDetailsPage/RoomDetailsPage.js","components/CleaningReportsTable/index.js","pages/CleanerDetailsPage/EditCleanerDialog.js","components/RoomSelector/RoomSelector.js","components/RoomSelector/index.js","pages/CleanerDetailsPage/CleanerDetailsPage.js","pages/CleanerDetailsPage/index.js","pages/ReportPage/index.js","pages/ReportPage/ReportPage.js","components/CircularProgressWithLabel/index.js","components/CircularProgressWithLabel/CircularProgressWithLabel.js","pages/AdminPage/index.js","pages/AdminPage/AdminPage.js","app/App.js","serviceWorker.js","index.js","pages/CleanerDetailsPage/CleanerDetailsPage.module.scss"],"names":["module","exports","API_KEY","BASE_URL","ROOM_TYPES","Object","freeze","OFFICE","frequency","cleaningTime","displayName","key","TOILET","WARD_ROOM","EXAMINATION_ROOM","CORRIDOR","WAITING_ROOM","HOSPITAL_MAP","name","areas","shape","coords","GLOBAL_HOSPITAL","localStorage","getItem","GLOBAL_HOSPITAL_NAME","authenticated","getUser","JSON","parse","addParam","property","params","parameter","newParams","length","getRooms","hospital","floor","showAssigned","overrideCache","a","storedRooms","moment","valueOf","timestamp","e","doGetRequest","res","storage","rooms","setItem","stringify","getHospitals","getAssignedRooms","cleanerId","getAssignedCleaners","roomId","assignRoomsToCleaner","cleaner","Promise","all","map","room","assignRoom","unAssignRooms","unAssignRoom","doPostRequest","doDeleteRequest","getRoom","getCleaners","getCleaner","createCleaner","shiftStart","shiftEnd","getReports","deleteCleaner","getReport","reportId","getHeatmap","type","requestURL","fetch","method","headers","response","ok","arrayBuffer","json","console","log","Error","error","getRoomHeatmap","editCleaner","doPutRequest","getSimulatorSettings","setSimulation","speed","resetSimulation","getFloorplan","id","blob","statusText","url","message","body","PageContainer","children","style","top","noToolbar","className","styles","pageContainer","pageContent","KeyStat","value","subtitle","color","stat","keyStat","Typography","variant","StatusDot","size","tooltip","classes","dot","push","neutral","small","Tooltip","title","join","getRoomTypeProp","propName","getStatus","contamination","getVariant","getVariantColor","mergeCleaners","status","cleaners","update_img","auxCanvas","canvas","scaler","clean","overlay","arr","BigUint64Array","bytearray","array","min","max","pix","pix1","minRaw","BigInt","Number","MAX_SAFE_INTEGER","maxRaw","j","im_p","i","Uint8Array","convert64to8","red","green","blue","b","tableRed","tableGreen","tableBlue","Math","cos","round","pow","sin","atan","Uint8ClampedArray","initColorMaps","redMap","greenMap","blueMap","img","imgArr","h","ImageData","data","byteIdx","imgIdx","grayValue","ctx","getContext","putImageData","drawImage","ReportsPerDay","reports","loading","report","format","counts","forEach","x","formattedReports","keys","date","amount","height","Paper","container","CircularProgress","margin","width","chart","textAlign","dataKey","strokeDasharray","stroke","strokeWidth","Alerts","history","useHistory","today","filtered","filter","overview","isSame","alerts","alert","onClick","pathname","state","Grid","direction","alignItems","justify","item","semiBold","lineHeight","comments","ArrowForward","fontSize","marginTop","DashboardPage","useState","user","setUser","setRooms","setReports","setLoading","hospitals","setHospitals","setHospital","hospitalSet","setHospitalSet","fetchData","setFetchData","useEffect","u","then","result","getContaminationIndex","contaminations","val","reduce","display","flexDirection","username","IconButton","Refresh","FormControl","minWidth","InputLabel","Select","label","onChange","event","target","removeItem","setGlobalHospital","find","setGlobalHospitalName","MenuItem","hosp","spacing","xs","grid","getCleanedRooms","validationSchema","Yup","required","password","LoginPage","content","src","logo","alt","form","initialValues","onSubmit","vars","setSubmitting","isSuperAdmin","superAdmin","authenticate","isSubmitting","resetForm","values","component","TextField","autoFocus","fullWidth","Button","btn","ShiftPicker","row","Array","number","num","toString","padStart","EnhancedTableHead","props","onSelectAllClick","order","orderBy","numSelected","rowCount","onRequestSort","headCells","TableHead","TableRow","TableCell","padding","Checkbox","indeterminate","checked","inputProps","headCell","align","numeric","disablePadding","sortDirection","TableSortLabel","active","disabled","sort","visuallyHidden","descendingComparator","undefined","toUpperCase","getComparator","stableSort","comparator","stabilizedThis","el","index","handleClick","selected","setSelected","selectedIndex","indexOf","newSelected","concat","slice","firstName","lastName","AddCleanerDialog","open","setOpen","setIsLoaded","setSnackOpen","handleClose","handleSubmit","startHour","startMinutes","endHour","endMinutes","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogActions","useStyles","makeStyles","theme","border","clip","overflow","position","CleanersTable","React","setOrder","setOrderBy","page","setPage","cleanersPerPage","setCleanersPerPage","TableContainer","Table","TableBody","labelId","hover","tabIndex","scope","assignedRooms","numCleaned","placement","getCleaningProgress","isBetween","viewCleaner","VisibilityOutlined","TablePagination","rowsPerPageOptions","count","rowsPerPage","onChangePage","newPage","onChangeRowsPerPage","parseInt","CleanersPage","setCleaners","isLoaded","snackOpen","responses","err","handleSnackClose","reason","headerRow","bold","AddCircleOutline","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal","Alert","severity","NavTabs","withStyles","root","flexGrow","indicator","justifyContent","backgroundColor","marginBottom","borderTopLeftRadius","borderTopRightRadius","Tabs","TabIndicatorProps","AboutDialog","handleConfirmClose","aria-describedby","DialogContentText","href","Toolbar","location","useLocation","getTabValue","tabId","route","matchPath","path","exact","strict","mountTabValueFactory","anchorEl","setAnchorEl","AppBar","toolbar","split","goBack","ArrowBackRounded","svg","Icon","Tab","tab","DashboardRounded","Link","to","disableRipple","FormatListBulletedRounded","PeopleRounded","BusinessRounded","AssessmentRounded","aria-controls","aria-haspopup","currentTarget","Menu","keepMounted","Boolean","ListItemIcon","Settings","ListItemText","primary","Info","ExitToApp","CleaningsByCleaner","fill","ContaminationIndexOverTime","acc","CleaningDuration","und","estimated","unit","AnalysisPage","initMap","area","hex","exec","r","g","hexToRgb","preFillColor","RoomsMap","hovering","setHovering","setRoom","hoverStyle","setHoverStyle","setMap","ignored","forceUpdate","window","innerWidth","hospitalImg","fillColor","imgWidth","onMouseEnter","pageY","left","pageX","onMouseLeave","roomInfo","toFixed","TableFilters","initialBuilding","initialFloor","hideAll","hideAssigned","building","setBuilding","setFloor","roomType","setRoomType","assigned","setAssigned","filters","setFilters","valid","Set","FormControlLabel","control","RoomsPage","setError","origRooms","setOrigRooms","CleanerSelect","options","setOptions","openSelect","setOpenSelect","setCleaner","clnrs","Autocomplete","onOpen","autocomplete","getOptionLabel","option","newValue","renderInput","InputProps","endAdornment","AssignCleanerDialog","setSnackText","selectedWithCleaner","disableBackdropClick","useToolbarStyles","paddingLeft","paddingRight","highlight","palette","secondary","main","lighten","light","text","dark","minHeight","button","EnhancedTableToolbar","getData","showFilters","removeAssignments","clsx","fontWeight","startIcon","Close","critical","flexBasis","marginRight","FilterList","paper","table","AssignmentsPage","roomsPerPage","setRoomsPerPage","snackText","aria-label","newSelecteds","n","isItemSelected","role","aria-checked","RouterLink","openRoom","RoomDetailsCard","Card","card","cardContent","Divider","divider","medium","RoomCleanerCard","newCleaner","setNewCleaner","hasCleaner","removeCleanerAssignment","assignNewCleaner","getColor","marginLeft","ClearOutlined","CommentsList","time","comment","author","ReportsTableHead","unshift","CleaningReportsTable","reportsPerPage","setReportsPerPage","Check","good","CloseRounded","viewReport","pad","CustomizedAxisTick","this","y","payload","transform","dy","textAnchor","PureComponent","ActivityGraph","activity","lastCleaned","formattedData","start","Date","LTTB","point","getHours","getMinutes","offset","tick","RoomDetailsPage","useParams","roomLoaded","setRoomLoaded","image","setImage","showMap","setShowMap","showActivity","setShowActivity","errorMsg","setErrorMsg","URL","createObjectURL","catch","aux","document","getElementById","offsetWidth","titleRow","action","detailsRow","disableActivity","EditCleanerDialog","onSave","end","edited","RoomSelector","assign","maxWidth","AssignmentsTable","assignments","setAssignments","removeAssignment","newAssignments","splice","getCleaningStatus","Clear","CleanerDetailsPage","cleanerLoaded","setCleanerLoaded","editing","setEditing","showRoomSelector","setShowRoomSelector","removeCleaner","Edit","DeleteForever","AccountCircleRounded","avatar","ReportPage","setReport","setType","showContImg","setShowContImg","showCleanImg","setShowCleanImg","mapSelected","combined","heatmap","reportInfo","getOverview","utc","CircularProgressWithLabel","Box","bottom","right","AdminPage","simSpeed","setSimSpeed","progress","setProgress","generating","setGenerating","settings","generate","setTimeout","slider","gutterBottom","flex","Slider","getAriaValueText","valueLabelDisplay","step","marks","mark","generateMarks","Input","onBlur","InputAdornment","float","App","render","auth","hostname","match","createMuiTheme","blueGrey","lightBlue","typography","fontFamily","ReactDOM","StrictMode","basename","ThemeProvider","StylesProvider","injectFirst","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7e096ce1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerRow\":\"RoomsPage_headerRow__3ck7N\",\"bold\":\"RoomsPage_bold__39rfR\",\"map\":\"RoomsPage_map__19OrU\",\"area\":\"RoomsPage_area__2kJln\",\"roomInfo\":\"RoomsPage_roomInfo__2IEIj\",\"filters\":\"RoomsPage_filters__BmR-T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider\":\"AdminPage_slider__15E9C\",\"row\":\"AdminPage_row__2qRHf\",\"divider\":\"AdminPage_divider__3uIH_\",\"semiBold\":\"AdminPage_semiBold__EaJqb\",\"medium\":\"AdminPage_medium__2aq8Q\",\"card\":\"AdminPage_card__3NaLL\",\"cardContent\":\"AdminPage_cardContent__1_5WT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dot\":\"StatusDot_dot__1rSYH\",\"good\":\"StatusDot_good__1GIEp\",\"medium\":\"StatusDot_medium__3zBB3\",\"critical\":\"StatusDot_critical__23vOC\",\"neutral\":\"StatusDot_neutral__1H6OR\",\"tiny\":\"StatusDot_tiny__33nQ5\",\"small\":\"StatusDot_small__1yc1L\",\"large\":\"StatusDot_large__jMuJN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"AssignmentsPage_title__3UMlB\",\"critical\":\"AssignmentsPage_critical__3ZemZ\",\"row\":\"AssignmentsPage_row__2lJV1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chart\":\"ReportsPerDay_chart__1nn7U\",\"title\":\"ReportsPerDay_title__aLd0m\",\"container\":\"ReportsPerDay_container__3-OV0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"LoginPage_form__38hI6\",\"btn\":\"LoginPage_btn__Q93UE\",\"content\":\"LoginPage_content__3F07h\",\"img\":\"LoginPage_img__HnDXO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chart\":\"CleaningsByCleaner_chart__3aloT\",\"title\":\"CleaningsByCleaner_title__2Z5X5\",\"container\":\"CleaningsByCleaner_container__2ovud\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chart\":\"ContaminationIndexOverTime_chart__-hDF2\",\"title\":\"ContaminationIndexOverTime_title__2xIiR\",\"container\":\"ContaminationIndexOverTime_container__vcMdl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chart\":\"CleaningDuration_chart__3_7JM\",\"title\":\"CleaningDuration_title__XmVrf\",\"container\":\"CleaningDuration_container__2fTKe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chart\":\"ActivityGraph_chart__1OtGx\",\"title\":\"ActivityGraph_title__2ww9S\",\"container\":\"ActivityGraph_container__14QgA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"RoomSelector_title__363JP\",\"critical\":\"RoomSelector_critical__a-ztV\",\"row\":\"RoomSelector_row__n9QC3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"titleRow\":\"RoomDetailsPage_titleRow__JoTlm\",\"content\":\"RoomDetailsPage_content__2CxAu\",\"card\":\"RoomDetailsPage_card__2J4HU\",\"cardContent\":\"RoomDetailsPage_cardContent__1soEX\",\"detailsRow\":\"RoomDetailsPage_detailsRow__3fj0E\",\"row\":\"RoomDetailsPage_row__PCQ4C\",\"divider\":\"RoomDetailsPage_divider__hWVez\",\"semiBold\":\"RoomDetailsPage_semiBold__24ERR\",\"medium\":\"RoomDetailsPage_medium__3Rnxk\",\"good\":\"RoomDetailsPage_good__2jSxq\",\"med\":\"RoomDetailsPage_med__T6SFg\",\"critical\":\"RoomDetailsPage_critical__2gPiW\",\"neutral\":\"RoomDetailsPage_neutral__2SrpQ\",\"btn\":\"RoomDetailsPage_btn__3tYWx\",\"comments\":\"RoomDetailsPage_comments__1nTSD\",\"comment\":\"RoomDetailsPage_comment__1rwNF\",\"author\":\"RoomDetailsPage_author__tbk-d\",\"container\":\"RoomDetailsPage_container__2fZtP\",\"map\":\"RoomDetailsPage_map__2yhwI\",\"overlay\":\"RoomDetailsPage_overlay__1x7-D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"ShiftPicker_menu__1os-v\",\"row\":\"ShiftPicker_row__rUGBG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageContainer\":\"PageContainer_pageContainer__iX86t\",\"pageContent\":\"PageContainer_pageContent__1wPf8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerRow\":\"CleanersPage_headerRow__20bGG\",\"bold\":\"CleanersPage_bold__qIG9F\",\"menu\":\"CleanersPage_menu__1x8Ct\",\"row\":\"CleanersPage_row__2H2UE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"good\":\"CleaningReportTable_good__2fi-5\",\"semiBold\":\"CleaningReportTable_semiBold__3M_nh\"};","module.exports = __webpack_public_path__ + \"static/media/heatmap2.dbb6a747.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"ReportPage_row__1XU8D\",\"semiBold\":\"ReportPage_semiBold__20bHc\",\"reportInfo\":\"ReportPage_reportInfo__KuWwG\",\"column\":\"ReportPage_column__1fkvo\",\"good\":\"ReportPage_good__IEB1u\",\"medium\":\"ReportPage_medium__1jIMT\",\"critical\":\"ReportPage_critical___2FfG\",\"container\":\"ReportPage_container__rVF_Z\",\"map\":\"ReportPage_map__1ruE5\",\"overlay\":\"ReportPage_overlay__3SQk1\",\"comments\":\"ReportPage_comments__vvAhd\",\"comment\":\"ReportPage_comment__38N5l\"};","module.exports = __webpack_public_path__ + \"static/media/web_logo.11335064.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.75e400ae.png\";","module.exports = __webpack_public_path__ + \"static/media/hospital.ea9e1e90.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"autocomplete\":\"CleanerSelect_autocomplete__2dss4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"semiBold\":\"DashboardPage_semiBold__1wP56\",\"stat\":\"DashboardPage_stat__1HNGL\",\"keyStat\":\"DashboardPage_keyStat__3TqkO\",\"subtitle\":\"DashboardPage_subtitle__SKIyw\",\"grid\":\"DashboardPage_grid__3i4Zn\",\"alerts\":\"DashboardPage_alerts__1Vbju\",\"alert\":\"DashboardPage_alert__3qisR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toolbar\":\"Toolbar_toolbar__1Bm9j\",\"name\":\"Toolbar_name__3EvOQ\",\"svg\":\"Toolbar_svg__3XlL9\",\"tab\":\"Toolbar_tab__3uwiV\",\"logo\":\"Toolbar_logo__2iJuv\"};","export const API_KEY = 'zL43mXgXk5xa7YFRBVZscbLnGFaqVh24q5G6fhGjmAv532FAVBRtnuCJpwXWXnhw';\nexport const BASE_URL = 'https://cleaner-app-api.azurewebsites.net/api/';\n\nexport const UNCLEANED = 'Uncleaned due to some reason';\n\nexport const ROOM_TYPES = Object.freeze({\n  OFFICE: {\n    frequency: 1,\n    cleaningTime: 5,\n    displayName: 'Office',\n    key: 'OFFICE'\n  },\n  TOILET: {\n    frequency: 5,\n    cleaningTime: 5,\n    displayName: 'Toilet',\n    key: 'TOILET'\n  },\n  WARD_ROOM: {\n    frequency: 5,\n    cleaningTime: 8,\n    displayName: 'Ward room',\n    key: 'WARD_ROOM'\n  },\n  EXAMINATION_ROOM: {\n    frequency: 5,\n    cleaningTime: 6,\n    displayName: 'Examination room',\n    key: 'EXAMINATION_ROOM'\n  },\n  CORRIDOR: {\n    frequency: 3,\n    cleaningTime: 9,\n    displayName: 'Corridor',\n    key: 'CORRIDOR'\n  },\n  WAITING_ROOM: {\n    frequency: 5,\n    cleaningTime: 10,\n    displayName: 'Waiting room',\n    key: 'WAITING_ROOM'\n  },\n});\n\nexport const HOSPITAL_MAP = Object.freeze({\n  name: \"hospital map\",\n  areas: [\n    {\n      shape: \"rect\",\n      coords: [132, 25, 193, 144],\n    },\n    {\n      shape: \"rect\",\n      coords: [62, 27, 126, 144],\n    },\n    {\n      shape: \"rect\",\n      coords: [9, 48, 57, 160],\n    },\n    {\n      shape: \"rect\",\n      coords: [9, 165, 79, 254],\n    },\n    {\n      shape: \"poly\",\n      coords: [368, 27, 368, 113, 316, 113, 316, 27, 369, 27],\n    },\n    {\n      shape: \"poly\",\n      coords: [\n        310,\n        112,\n        288,\n        112,\n        287,\n        160,\n        253,\n        160,\n        253,\n        74,\n        201,\n        74,\n        200,\n        26,\n        311,\n        26,\n        312,\n        112,\n        310,\n        111,\n      ],\n    },\n    {\n      shape: \"rect\",\n      coords: [291, 116, 369, 160],\n    },\n    {\n      shape: \"rect\",\n      coords: [374, 27, 429, 144],\n    },\n    {\n      shape: \"rect\",\n      coords: [433, 27, 488, 145],\n    },\n    {\n      shape: \"rect\",\n      coords: [494, 27, 548, 145],\n    },\n    {\n      shape: \"rect\",\n      coords: [554, 26, 608, 145],\n    },\n    {\n      shape: \"rect\",\n      coords: [373, 149, 641, 211],\n    },\n    {\n      shape: \"rect\",\n      coords: [596, 216, 639, 307],\n    },\n    {\n      shape: \"rect\",\n      coords: [522, 216, 558, 307],\n    },\n    {\n      shape: \"rect\",\n      coords: [476, 215, 517, 306],\n    },\n    {\n      shape: \"rect\",\n      coords: [418, 215, 472, 306],\n    },\n    {\n      shape: \"rect\",\n      coords: [365, 215, 414, 307],\n    },\n    {\n      shape: \"rect\",\n      coords: [293, 216, 360, 307],\n    },\n    {\n      shape: \"rect\",\n      coords: [259, 214, 289, 307],\n    },\n    {\n      shape: \"rect\",\n      coords: [174, 258, 255, 305],\n    },\n    {\n      shape: \"rect\",\n      coords: [175, 215, 255, 255],\n    },\n    {\n      shape: \"rect\",\n      coords: [85, 215, 172, 256],\n    },\n    {\n      shape: \"rect\",\n      coords: [85, 259, 171, 307],\n    },\n    {\n      shape: \"poly\",\n      coords: [\n        368,\n        164,\n        368,\n        211,\n        85,\n        210,\n        84,\n        149,\n        184,\n        148,\n        184,\n        164,\n        368,\n        164,\n        368,\n        163,\n      ],\n    },\n    {\n      shape: \"poly\",\n      coords: [\n        84,\n        370,\n        193,\n        371,\n        194,\n        356,\n        258,\n        357,\n        257,\n        310,\n        83,\n        310,\n        83,\n        370,\n      ],\n    },\n    {\n      shape: \"rect\",\n      coords: [9, 262, 79, 358],\n    },\n    {\n      shape: \"rect\",\n      coords: [262, 311, 369, 358],\n    },\n    {\n      shape: \"rect\",\n      coords: [373, 310, 608, 372],\n    },\n    {\n      shape: \"rect\",\n      coords: [551, 378, 610, 494],\n    },\n    {\n      shape: \"rect\",\n      coords: [492, 377, 550, 494],\n    },\n    {\n      shape: \"rect\",\n      coords: [432, 377, 487, 494],\n    },\n    {\n      shape: \"rect\",\n      coords: [374, 376, 428, 494],\n    },\n    {\n      shape: \"rect\",\n      coords: [290, 362, 369, 405],\n    },\n    {\n      shape: \"rect\",\n      coords: [13, 363, 57, 474],\n    },\n    {\n      shape: \"rect\",\n      coords: [61, 376, 129, 492],\n    },\n    {\n      shape: \"poly\",\n      coords: [\n        368,\n        494,\n        368,\n        409,\n        285,\n        409,\n        286,\n        362,\n        261,\n        362,\n        262,\n        494,\n        368,\n        494,\n      ],\n    },\n    {\n      shape: \"poly\",\n      coords: [\n        133,\n        376,\n        133,\n        494,\n        194,\n        494,\n        194,\n        441,\n        247,\n        442,\n        249,\n        397,\n        195,\n        396,\n        195,\n        376,\n        133,\n        377,\n      ],\n    },\n  ],\n});","import {API_KEY, BASE_URL} from \"./constants\";\nimport moment from \"moment\";\n\nexport let GLOBAL_HOSPITAL = localStorage.getItem('hospital') || false;\nexport let GLOBAL_HOSPITAL_NAME = localStorage.getItem('hospital_name') || false;\n\n\nexport const authenticated = () => {\n  return localStorage.getItem('user') !== null;\n};\n\nexport const getUser = () => {\n  if (authenticated()) {\n    return JSON.parse(localStorage.getItem('user'));\n  } else {\n    return false;\n  }\n}\n\nexport const authenticate = (username, password) => {\n  let isSuperAdmin = false;\n  if (username === 'superadmin' && password === 'admin') {\n    isSuperAdmin = true;\n  }\n  localStorage.setItem('user', JSON.stringify({\n    username,\n    superAdmin: isSuperAdmin\n  }));\n  return true;\n}\n\nexport const setGlobalHospital = (hospital) => {\n  if (hospital) {\n    localStorage.setItem('hospital', hospital);\n  } else {\n    localStorage.removeItem('hospital');\n  }\n  GLOBAL_HOSPITAL = hospital;\n}\n\nexport const setGlobalHospitalName = (hospital) => {\n  if (hospital) {\n    localStorage.setItem('hospital_name', hospital);\n  } else {\n    localStorage.removeItem('hospital_name');\n  }\n  GLOBAL_HOSPITAL_NAME = hospital;\n}\n\nexport const logout = () => {\n  localStorage.removeItem('user');\n}\n\nconst addParam = (property, params, parameter) => {\n  let newParams = params;\n  if (params.length > 0 && parameter) {\n    newParams += `&${property}=${parameter}`;\n  } else if (parameter) {\n    newParams += `?${property}=${parameter}`;\n  }\n  return newParams;\n}\n\n\nexport const getRooms = async (hospital, floor, showAssigned, overrideCache) => {\n  const url = 'rooms';\n  hospital = hospital || GLOBAL_HOSPITAL;\n  let params = addParam('hospital_id', '', hospital);\n  params = addParam('floor', params, floor);\n  showAssigned = showAssigned ? 1 : 0;\n  params = addParam('assigned_cleaners', params, showAssigned);\n  let storedRooms = localStorage.getItem('rooms');\n  try {\n    storedRooms = JSON.parse(storedRooms);\n    overrideCache = overrideCache || moment().valueOf() - storedRooms.timestamp > 30000;\n  } catch (e) {\n    overrideCache = true;\n  }\n  if (overrideCache) {\n    const res = await doGetRequest(url, params);\n    if (showAssigned) {\n      const storage = {\n        rooms: res,\n        timestamp: moment().valueOf()\n      }\n      localStorage.setItem('rooms', JSON.stringify(storage));\n    }\n    return res;\n  } else {\n    return storedRooms.rooms;\n  }\n}\n\nexport const getHospitals = async () => {\n  return doGetRequest('hospitals');\n}\n\nexport const startCleaning = async (roomId) => {\n  return doGetRequest(`room/startcleaning?id=${roomId}`);\n}\n\nexport const stopCleaning = async (roomId) => {\n  return doGetRequest(`room/stopcleaning?id=${roomId}`);\n}\n\nexport const getAssignedRooms = async (cleanerId) => {\n  return doGetRequest(`cleaners/rooms?cleaner_id=${cleanerId}`);\n}\n\nexport const getAssignedCleaners = async (roomId) => {\n  return doGetRequest(`cleaners/rooms?room_id=${roomId}`);\n}\n\nexport const assignRoomsToCleaner = async (rooms, cleaner) => {\n  return Promise.all(rooms.map((room) => {\n    return assignRoom(room['_id'], cleaner);\n  }));\n}\n\nexport const unAssignRooms = async (rooms) => {\n  return Promise.all(rooms.map((room) => {\n    return unAssignRoom(room['_id'], room['assigned_cleaners'][0]['_id']);\n  }));\n}\n\nexport const assignRoom = async (room, cleaner) => {\n  return doPostRequest('cleaners/rooms', JSON.stringify({\n    'cleaner_id': cleaner,\n    'room_id': room\n  }));\n}\n\nexport const unAssignRoom = async (room, cleaner) => {\n  return doDeleteRequest('cleaners/rooms', JSON.stringify({\n    'cleaner_id': cleaner,\n    'room_id': room\n  }));\n}\n\nexport const getRoom = async (roomId) => {\n  return doGetRequest(`room?_id=${roomId}`);\n}\n\nexport const getCleaners = async () => {\n  return doGetRequest('cleaners/');\n}\n\nexport const getCleaner = async (cleanerId) => {\n  return doGetRequest(`cleaner?_id=${cleanerId}`);\n}\n\nexport const createCleaner = async (name, shiftStart, shiftEnd) => {\n  return doPostRequest('cleaner/', JSON.stringify({\n    name,\n    'shift_start': shiftStart,\n    'shift_end': shiftEnd\n  }));\n}\n\nexport const getReports = async (roomId, cleanerId, hospital) => {\n  hospital = hospital || GLOBAL_HOSPITAL_NAME;\n  let params = addParam('room_id', '', roomId);\n  params = addParam('cleaner_id', params, cleanerId);\n  params = addParam('hospital_name', params, hospital);\n  return doGetRequest('reports', params)\n}\n\nexport const deleteCleaner = async (cleanerId) => {\n  return doDeleteRequest('cleaner', JSON.stringify({\n    '_id': cleanerId\n  }));\n}\n\nexport const getReport = async (reportId) => {\n  return doGetRequest(`report?_id=${reportId}`);\n}\n\nexport const getHeatmap = async (reportId, type) => {\n  const requestURL = BASE_URL + `report/heatmap?_id=${reportId}&type=${type}`\n  const response = await fetch(requestURL, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/octet-stream',\n      'Authorization': API_KEY,\n      'charset': 'utf-8'\n    }\n  });\n  if (response.ok) {\n    return response.arrayBuffer();\n  } else {\n    const json = await response.json();\n    console.log(json)\n    throw new Error(json.error);\n  }\n}\n\nexport const getRoomHeatmap = async (roomId, type) => {\n  const requestURL = BASE_URL + `room/heatmap?_id=${roomId}&type=${type}`\n  const response = await fetch(requestURL, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/octet-stream',\n      'Authorization': API_KEY,\n      'charset': 'utf-8'\n    }\n  });\n  if (response.ok) {\n    return response.arrayBuffer();\n  } else {\n    const json = await response.json();\n    throw new Error(json.error);\n  }\n}\n\nexport const editCleaner = async (cleaner) => {\n  return doPutRequest('cleaner/', JSON.stringify({\n    '_id': cleaner['_id'],\n    'name': cleaner.name,\n    'shift_start': cleaner['shift_start'],\n    'shift_end': cleaner['shift_end']\n  }));\n}\n\nexport const getSimulatorSettings = async () => {\n  return doGetRequest('simulator/settings');\n}\n\nexport const setSimulation = async (speed) => {\n  console.log(speed)\n  return doPutRequest('simulator/settings', JSON.stringify({'simulator_speed': speed}));\n}\n\nexport const resetSimulation = async () => {\n  return doGetRequest('simulator/clear');\n}\n\nexport const createRoom = async (hospital, name, type, building, floor) => {\n  return doPostRequest('/room', JSON.stringify({\n    'hospital_id': hospital,\n    'name': name,\n    'is_simulated': true,\n    'room_type': type,\n    'building': building,\n    'floor': floor\n  }));\n}\n\nexport const getFloorplan = async (id) => {\n  const response = await fetch(`${BASE_URL}room/floorplan?_id=${id}`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'image/png',\n      'Authorization': API_KEY,\n      'charset': 'utf-8'\n    }\n  });\n  if (response.ok) {\n    return response.blob();\n  } else {\n    throw new Error(response.statusText);\n  }\n}\n\nconst doGetRequest = async (url, params) => {\n  const requestURL = BASE_URL + url + (params || '');\n  const response = await fetch(requestURL, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': API_KEY,\n      'charset': 'utf-8'\n    }\n  });\n  if (response.ok) {\n    return response.json();\n  } else {\n    throw new Error(await response.json().message);\n  }\n}\n\nconst doPostRequest = async (url, params) => {\n  const requestURL = BASE_URL + url;\n  const response = await fetch(requestURL, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': API_KEY,\n      'charset': 'utf-8'\n    },\n    body: params\n  });\n  if (response.ok) {\n    return response.json();\n  } else {\n    throw new Error(await response.json().message);\n  }\n}\n\nconst doDeleteRequest = async (url, params) => {\n  const requestURL = BASE_URL + url;\n  const response = await fetch(requestURL, {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': API_KEY,\n      'charset': 'utf-8'\n    },\n    body: params\n  });\n  if (response.ok) {\n    return response.json();\n  } else {\n    throw new Error(await response.json().message);\n  }\n}\n\nconst doPutRequest = async (url, params) => {\n  const requestURL = BASE_URL + url;\n  const response = await fetch(requestURL, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': API_KEY,\n      'charset': 'utf-8'\n    },\n    body: params\n  });\n  if (response.ok) {\n    return response.json();\n  } else {\n    throw new Error(await response.json().message);\n  }\n}","import PageContainer from './PageContainer';\nexport default PageContainer;\n","import React from 'react';\nimport styles from './PageContainer.module.scss';\nimport PropTypes from 'prop-types';\n\nconst PageContainer = ({ children, style, noToolbar }) => {\n  const top = noToolbar ? 0 : '48px';\n  return (\n    <div className={styles.pageContainer} style={{top}}>\n      <div className={styles.pageContent} style={style}>{children}</div>\n    </div>\n  );\n};\n\nPageContainer.propTypes = {\n  children: PropTypes.node,\n  style: PropTypes.object,\n  noToolbar: PropTypes.bool\n};\n\nexport default PageContainer;\n","import React from \"react\";\nimport styles from \"./DashboardPage.module.scss\";\nimport {Typography} from \"@material-ui/core\";\n\nconst KeyStat = ({value, subtitle, color}) => {\n  return (\n    <div className={styles.stat}>\n      <div className={styles.keyStat}>\n        <Typography variant={\"h3\"} style={{color}}>{value}</Typography>\n      </div>\n      <Typography variant={\"body2\"} className={styles.subtitle}>{subtitle}</Typography>\n    </div>\n  );\n}\n\nexport default KeyStat;","import StatusDot from './StatusDot';\nexport default StatusDot;","import React from 'react';\nimport styles from './StatusDot.module.scss';\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport PropTypes from \"prop-types\";\n\n\nconst StatusDot = ({variant, size, tooltip}) => {\n  const classes = [styles.dot];\n  classes.push(variant ? styles[variant] : styles.neutral);\n  classes.push(size ? styles[size] : styles.small);\n  return (\n    <Tooltip title={tooltip}>\n      <div className={classes.join(' ')}/>\n    </Tooltip>\n  );\n}\n\nStatusDot.propTypes = {\n  variant: PropTypes.oneOf(['good', 'critical', 'medium', 'neutral']).isRequired,\n  size: PropTypes.oneOf(['tiny', 'small', 'large']).isRequired,\n  tooltip: PropTypes.any\n}\n\nexport default StatusDot;","import {ROOM_TYPES} from \"./constants\";\nimport StatusDot from \"../components/StatusDot\";\nimport React from \"react\";\n\nexport const getRoomTypeProp = (room, propName) => {\n  return room['room_type'] !== '<empty>' ? ROOM_TYPES[room['room_type']][propName] : '';\n}\n\nexport const getStatus = (contamination) => {\n  let variant = 'neutral';\n  if (contamination >= 60) {\n    variant = 'critical';\n  } else if (contamination >= 30) {\n    variant = 'medium';\n  } else if (contamination < 30) {\n    variant = 'good';\n  }\n  return <StatusDot variant={variant} size={\"tiny\"} tooltip={contamination}/>\n}\n\nexport const getVariant = (contamination) => {\n  let variant = 'neutral';\n  if (contamination >= 60) {\n    variant = 'critical';\n  } else if (contamination >= 30) {\n    variant = 'medium';\n  } else if (contamination < 30) {\n    variant = 'good';\n  }\n  return variant;\n}\n\nexport const getVariantColor = (contamination) => {\n  let variant = '#CFD3DA';\n  if (contamination >= 60) {\n    variant = '#EB5757';\n  } else if (contamination >= 30) {\n    variant = '#F2C94C';\n  } else if (contamination < 30) {\n    variant = '#27AE60';\n  }\n  return variant;\n}\n\nexport const mergeCleaners = (rooms) => {\n  return rooms.map((room) => {\n    room.status = room['contamination_index'];\n    const cleaners = room['assigned_cleaners'];\n    const cleaner = cleaners.length > 0 && cleaners[0];\n    if (cleaner) {\n      room.cleaner = cleaner;\n      room['cleaner_name'] = cleaner.name;\n    } else {\n      room['cleaner_name'] = '-';\n    }\n    return room;\n  });\n}\n\nfunction convert64to8(array, scaler) {\n  let min, max, pix;\n  // eslint-disable-next-line no-undef\n  let minRaw = BigInt(Number.MAX_SAFE_INTEGER);\n  // eslint-disable-next-line no-undef\n  let maxRaw = BigInt(0);\n  for (let j = 0; j < array.length; j++) {\n    pix = array[j]\n    if (pix < minRaw) {\n      minRaw = pix\n    }\n    if (pix > maxRaw) {\n      maxRaw = pix\n    }\n  }\n  // eslint-disable-next-line no-undef\n  max = BigInt(maxRaw) / scaler;\n  // eslint-disable-next-line no-undef\n  min = BigInt(minRaw);\n  let pix1;\n  let im_p = [];\n  if (max <= min) {\n    max = min + 1n\n  }\n  for (let i = 0; i < array.length; i++) {\n    // eslint-disable-next-line no-undef\n    pix1 = (array[i] - min) * 255n / (max - min);\n    if (pix1 > 255n) {\n      pix1 = 255\n    }\n    if (pix1 < 0n) {\n      pix1 = 0n\n    }\n    im_p.push(Number(pix1));\n  }\n  return new Uint8Array(im_p);\n}\n\n// lookup color table to apply to grayscale image\nfunction initColorMaps() {\n  let tableRed = []\n  let tableGreen = []\n  let tableBlue = []\n  let red, green, blue;\n  let a, b;\n  for (let i = 0; i <= 255; i++) {\n    a = i * 0.01236846501;\n    b = Math.cos(a - 1.0)\n    red = Math.round(Math.pow(2.0, Math.sin(a - 1.6)) * 200)\n    green = Math.round(Math.atan(a) * b * 155 + 100.0)\n    blue = Math.round(b * 255)\n    red = Math.min(255, red);\n    green = Math.min(255, green);\n    blue = Math.min(255, blue);\n    red = Math.max(0, red);\n    green = Math.max(0, green);\n    blue = Math.max(0, blue);\n    tableRed.push(red)\n    tableGreen.push(green)\n    tableBlue.push(blue)\n  }\n  return [new Uint8ClampedArray(tableRed), new Uint8ClampedArray(tableGreen), new Uint8ClampedArray(tableBlue)];\n}\n\nexport function update_img(arrayBuffer, auxCanvas, canvas, scaler, clean, overlay) {\n  let arr = null;\n  try {\n    // eslint-disable-next-line no-undef\n    arr = new BigUint64Array(arrayBuffer);\n  } catch (error) {\n    throw error;\n  }\n  let bytearray = convert64to8(arr, scaler);\n  let [redMap, greenMap, blueMap] = initColorMaps();\n  let img = null; //ImageData\n  let imgArr = null; //Uint8ClampedArray\n  const h = Math.round(bytearray.length / 72);\n  if (bytearray) {\n    img = new ImageData(72, h); // Note: the actual array is 4 times bigger because has (RGBA) pixels\n    imgArr = img.data;\n    let byteIdx = 0;\n    // color mapped image\n    for (let imgIdx = 0; imgIdx < imgArr.length; imgIdx += 4) {\n      let grayValue = bytearray[byteIdx];\n      imgArr[imgIdx] = redMap[grayValue]; // R value\n      imgArr[imgIdx + 1] = greenMap[grayValue]; // G value\n      imgArr[imgIdx + 2] = blueMap[grayValue]; // B value\n      imgArr[imgIdx + 3] = overlay ? 0 : 255; // Alpha value\n      if (imgArr[imgIdx] !== redMap[0] && imgArr[imgIdx + 1] !== greenMap[0] && imgArr[imgIdx + 2] !== blueMap[0] && clean) {\n        imgArr[imgIdx] = 0; // R value\n        imgArr[imgIdx + 1] = greenMap[grayValue] // G value\n        imgArr[imgIdx + 2] = 0; // B value\n        imgArr[imgIdx + 3] = 200; // Alpha value\n      }\n\n      byteIdx++;\n    }\n  }\n  // Scaling. It seems that with putImageData we cannot scale the canvas directly\n  // auxCanvas has the image and\n  let ctx = canvas.getContext('2d');\n  auxCanvas.getContext(\"2d\").putImageData(img, 0, 0);\n  ctx.drawImage(auxCanvas, 0, 0)\n  // flip Y AND X axis\n  canvas.style = \"transform: scale(1, 1); flex: 1\";\n}\n\nexport function hexToRgb(hex) {\n  let result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16)\n  } : null;\n}","import ReportsPerDay from './ReportsPerDay';\nexport default ReportsPerDay;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport {\n  LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer\n} from 'recharts';\nimport moment from \"moment\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport styles from \"./ReportsPerDay.module.scss\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {Typography} from \"@material-ui/core\";\n\nconst ReportsPerDay = ({reports, loading}) => {\n  let data = reports.map((report) => {\n    return moment(report['cleaning_time']).format('DD.MM.YYYY');\n  })\n  const counts = {};\n  data.forEach((x) => {\n    counts[x] = (counts[x] || 0) + 1;\n  });\n  const formattedReports = [];\n  Object.keys(counts).forEach((x) => {\n    formattedReports.push({\n      date: x,\n      amount: counts[x]\n    });\n  });\n\n  return (\n    <div style={{height: '100%'}}>\n      <Paper className={styles.container}>\n        <Typography variant={\"h6\"} className={styles.title}>Cleaning events per day</Typography>\n        <>\n          {loading ? <CircularProgress color={\"secondary\"} style={{margin: 'auto'}}/> :\n            <ResponsiveContainer width=\"100%\" height={400} className={styles.chart}>\n              {formattedReports.length === 0 ?\n                <Typography variant={\"h6\"} className={styles.title} style={{textAlign: 'center'}}>No cleaning events</Typography>\n                :\n                <LineChart data={formattedReports}>\n                  <XAxis dataKey=\"date\"/>\n                  <YAxis/>\n                  <CartesianGrid strokeDasharray=\"3 3\"/>\n                  <Tooltip/>\n                  <Legend/>\n                  <Line type=\"monotone\" dataKey=\"amount\" name=\"Cleaning events\" stroke=\"#8884d8\" strokeWidth={2}/>\n                </LineChart>\n              }\n\n            </ResponsiveContainer>\n          }\n        </>\n      </Paper>\n    </div>\n  )\n}\n\nReportsPerDay.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  reports: PropTypes.array.isRequired\n};\n\nexport default ReportsPerDay;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./DashboardPage.module.scss\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport {UNCLEANED} from \"../../utils/constants\";\nimport {ArrowForward} from \"@material-ui/icons\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {useHistory} from \"react-router-dom\";\nimport moment from \"moment\";\n\nconst Alerts = ({reports, loading}) => {\n  const history = useHistory();\n  const today = moment();\n  const filtered = reports.filter((report) => {\n    return report.overview === UNCLEANED && today.isSame(report['cleaning_time'], 'date');\n  });\n\n  const openReport = (id) => {\n    history.push({\n      pathname: `/rooms/reports/${id}`,\n      state: {id}\n    })\n  }\n  return (\n    <div className={styles.alerts}>\n      {loading ? <CircularProgress size={20} style={{margin: 'auto'}}/> :\n        <>\n          {filtered.map((report) => (\n            <div key={report['_id']} className={styles.alert} onClick={() => {\n              openReport(report['_id']);\n            }}>\n              <Grid container direction={\"row\"} alignItems={\"center\"} justify={\"space-between\"}>\n                <Grid item>\n                  <Typography variant={\"h6\"} className={styles.semiBold}>{report['room_name']},\n                    Floor {report.floor}</Typography>\n                  <Typography variant={\"body2\"} className={styles.semiBold} style={{lineHeight: '24px'}}\n                              color=\"textSecondary\">{report['cleaner_name']}: {report.comments}</Typography>\n                </Grid>\n                <Grid item>\n                  <ArrowForward color={\"action\"} style={{fontSize: '1.75rem'}}/>\n                </Grid>\n              </Grid>\n            </div>\n          ))}\n          {filtered.length === 0 &&\n          <Typography variant={\"h6\"} style={{marginTop: 16}} className={styles.semiBold}>No recent alerts</Typography>\n          }\n        </>\n      }\n    </div>\n  );\n}\n\nAlerts.propTypes = {\n  reports: PropTypes.array.isRequired,\n  loading: PropTypes.bool.isRequired\n}\n\nexport default Alerts;","import DashboardPage from './DashboardPage';\nexport default DashboardPage;\n","import React, {useEffect, useState} from 'react';\nimport Typography from \"@material-ui/core/Typography\";\nimport PageContainer from \"../../containers/PageContainer\";\nimport styles from './DashboardPage.module.scss';\nimport Grid from \"@material-ui/core/Grid\";\nimport KeyStat from \"./KeyStat\";\nimport {\n  getHospitals,\n  getReports,\n  getRooms,\n  getUser,\n  GLOBAL_HOSPITAL,\n  setGlobalHospital,\n  setGlobalHospitalName\n} from \"../../utils/api\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport moment from \"moment\";\nimport {getVariant, getVariantColor} from \"../../utils/utils\";\nimport ReportsPerDay from \"../../components/Charts/ReportsPerDay\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Alerts from \"./Alerts\";\nimport {IconButton, Tooltip} from \"@material-ui/core\";\nimport {Refresh} from \"@material-ui/icons\";\n\nconst DashboardPage = () => {\n  const [user, setUser] = useState('');\n  const [rooms, setRooms] = useState([]);\n  const [reports, setReports] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [hospitals, setHospitals] = useState([]);\n  const [hospital, setHospital] = useState(GLOBAL_HOSPITAL);\n  const [hospitalSet, setHospitalSet] = useState(false);\n  const [fetchData, setFetchData] = useState(false);\n\n  useEffect(() => {\n    const u = getUser();\n    setUser(u);\n    setLoading(true);\n    Promise.all([getRooms(null, null, null, fetchData), getReports()])\n      .then((result) => {\n        setRooms(result[0]);\n        setReports(result[1]);\n        setLoading(false);\n        setFetchData(false);\n      });\n    if (!hospitalSet) {\n      getHospitals()\n        .then((result) => {\n          setHospitals(result);\n        });\n    }\n  }, [hospitalSet, hospital, fetchData]);\n\n  const hospitalSelected = (event) => {\n    setHospital(event.target.value);\n    setGlobalHospital(event.target.value);\n    const hospital = hospitals.find((x) => x['_id'] === event.target.value);\n    setGlobalHospitalName(hospital ? hospital.name : false);\n    setHospitalSet(!hospitalSet);\n  }\n\n  const getCleanedRooms = () => {\n    const today = moment();\n    return rooms.filter((room) => {\n      if (!room['last_cleaned']) {\n        return false;\n      }\n      return moment(room['last_cleaned']).isSame(today, 'date');\n    }).length;\n  }\n\n  const getContaminationIndex = () => {\n    const contaminations = [];\n    rooms.forEach((room) => {\n      const val = room['contamination_index'];\n      if (val > 150) {\n        contaminations.push(150);\n      } else if (val < 0) {\n        contaminations.push(0);\n      } else {\n        contaminations.push(val);\n      }\n    });\n    return Math.round((contaminations.reduce((a, b) => (a + b)) / contaminations.length));\n  }\n\n  const getGreenRooms = () => {\n    return rooms.filter((room) => {\n      return getVariant(room['contamination_index']) === 'good';\n    }).length;\n  }\n\n  const getRedRooms = () => {\n    return rooms.filter((room) => {\n      return getVariant(room['contamination_index']) === 'critical';\n    }).length;\n  }\n\n  const getColor = () => {\n    return getVariantColor(getContaminationIndex());\n  }\n\n  return (\n    <PageContainer style={{textAlign: 'start'}}>\n      <Grid container direction={\"row\"} justify={\"space-between\"} alignItems={\"center\"}>\n        <Grid item style={{display: 'flex', flexDirection: 'row', alignItems: 'center'}}>\n          <Typography variant={\"h4\"}>Hello {user && user.username}!</Typography>\n          <Tooltip title={\"Refresh\"}>\n            <IconButton onClick={() => {\n              setFetchData(!fetchData);\n            }}>\n              <Refresh/>\n            </IconButton>\n          </Tooltip>\n        </Grid>\n        <Grid item>\n          <FormControl variant={'outlined'} style={{minWidth: '320px', margin: '8px'}}>\n            <InputLabel id=\"demo-simple-select-outlined-label\">Select hospital</InputLabel>\n            <Select label=\"Select Hospital\" onChange={hospitalSelected} value={hospital}>\n              <MenuItem value={false}>\n                <em>All</em>\n              </MenuItem>\n              {\n                hospitals.map(hosp => (\n                  <MenuItem value={hosp['_id']} key={hosp['_id']}>{hosp.name}</MenuItem>\n                ))\n              }\n            </Select>\n          </FormControl>\n        </Grid>\n      </Grid>\n      <Grid container spacing={6}>\n        <Grid item xs={5}>\n          <Typography variant={\"h5\"} className={styles.semiBold}>Alerts</Typography>\n          <Alerts reports={reports} loading={loading}/>\n        </Grid>\n        <Grid item xs className={styles.grid} style={{marginTop: 48}}>\n          <Grid container spacing={4} justify={\"space-between\"}>\n            <Grid item>\n              <KeyStat subtitle={\"Rooms cleaned today\"}\n                       value={loading ? <CircularProgress color={\"secondary\"}/> : getCleanedRooms()} color={\"#F2C94C\"}/>\n            </Grid>\n            <Grid item>\n              <KeyStat subtitle={\"Average contamination index\"}\n                       value={loading ? <CircularProgress color={\"secondary\"}/> : getContaminationIndex() + '%'}\n                       color={!loading && getColor()}/>\n            </Grid>\n            <Grid item>\n              <KeyStat subtitle={\"Green rooms\"}\n                       value={loading ? <CircularProgress color={\"secondary\"}/> : getGreenRooms()} color={\"#27AE60\"}/>\n            </Grid>\n            <Grid item>\n              <KeyStat subtitle={\"Red rooms\"} value={loading ? <CircularProgress color={\"secondary\"}/> : getRedRooms()}\n                       color={\"#EB5757\"}/>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n      <ReportsPerDay loading={loading} reports={reports}/>\n    </PageContainer>\n  )\n}\n\nexport default DashboardPage;","import React from 'react';\nimport PageContainer from \"../../containers/PageContainer\";\nimport {TextField} from \"formik-material-ui\";\nimport {Formik, Form, Field} from \"formik\";\nimport {Button, Grid, Typography} from \"@material-ui/core\";\nimport * as Yup from \"yup\";\nimport {authenticate} from \"../../utils/api\";\nimport {useHistory} from 'react-router-dom';\nimport Paper from \"@material-ui/core/Paper\";\nimport styles from './LoginPage.module.scss';\nimport logo from \"../../assets/web_logo.png\";\n\nconst validationSchema = Yup.object({\n  username: Yup.string().required('Username is required'),\n  password: Yup.string().required('Password is required')\n});\n\nconst LoginPage = () => {\n  const history = useHistory();\n\n  const initialValues = {\n    username: '',\n    password: ''\n  }\n\n  const handleSubmit = (vars, {setSubmitting}) => {\n    console.log(vars)\n    authenticate(vars.username, vars.password);\n    history.push('/dashboard');\n  }\n\n  return (\n    <PageContainer noToolbar>\n      <Grid container direction={\"row\"} spacing={2} className={styles.content}>\n        <Grid item xs={12}>\n          <img src={logo} alt=\"LeviTeZer\" className={styles.img}/>\n        </Grid>\n        <Grid item xs={12}>\n          <Paper variant={\"elevation\"} className={styles.form}>\n            <Formik initialValues={initialValues} onSubmit={handleSubmit} validationSchema={validationSchema}>\n              {({isSubmitting, resetForm, values}) => (\n                <Form>\n                  <Grid container spacing={2}>\n                    <Grid item xs={12}>\n                      <Typography variant={\"h4\"}>Login to Spotless</Typography>\n                    </Grid>\n                    <Grid item xs={12}>\n                      <Field\n                        component={TextField}\n                        autoFocus\n                        variant={\"outlined\"}\n                        margin=\"dense\"\n                        id=\"name\"\n                        label=\"Username\"\n                        type=\"text\"\n                        name=\"username\"\n                        fullWidth\n                      />\n                    </Grid>\n                    <Grid item xs={12}>\n                      <Field\n                        component={TextField}\n                        variant={\"outlined\"}\n                        margin=\"dense\"\n                        id=\"name\"\n                        label=\"Password\"\n                        type=\"password\"\n                        name=\"password\"\n                        fullWidth\n                      />\n                    </Grid>\n                  </Grid>\n                  <Button type=\"submit\" color=\"primary\" variant={\"contained\"} className={styles.btn}>Sign in</Button>\n                </Form>\n              )}\n            </Formik>\n          </Paper>\n        </Grid>\n      </Grid>\n    </PageContainer>\n  )\n}\n\nexport default LoginPage;","import LoginPage from './LoginPage';\nexport default LoginPage;\n","import {Grid, MenuItem, Typography} from \"@material-ui/core\";\nimport styles from \"./ShiftPicker.module.scss\";\nimport {Field} from \"formik\";\nimport {Select} from \"formik-material-ui\";\nimport React from \"react\";\n\n\nconst ShiftPicker = () => {\n  return (\n    <Grid item xs className={styles.row}>\n      <div>\n        <Typography variant={\"body1\"}>Shift start</Typography>\n        <div className={styles.row}>\n          <Field component={Select} name=\"startHour\">\n            {[...Array(24).keys()].map((number) => {\n              const num = number.toString().padStart(2, '0')\n              return <MenuItem key={number} value={num}>{num}</MenuItem>;\n            })}\n          </Field>\n          <Typography variant={\"h6\"}>:</Typography>\n          <Field component={Select} name=\"startMinutes\">\n            {['00', 15, 30, 45].map((number) => {\n              return <MenuItem key={number} value={number.toString()}>{number}</MenuItem>;\n            })}\n          </Field>\n        </div>\n      </div>\n      <Typography variant={\"h4\"} style={{margin: '0 16px'}}>-</Typography>\n      <div>\n        <Typography variant={\"body1\"}>Shift end</Typography>\n        <div className={styles.row}>\n          <Field component={Select} name=\"endHour\">\n            {[...Array(23).keys()].map((number) => {\n              return <MenuItem key={number} value={number.toString()}>{number}</MenuItem>;\n            })}\n          </Field>\n          <Typography variant={\"body1\"}>:</Typography>\n          <Field component={Select} name=\"endMinutes\">\n            {['00', 15, 30, 45].map((number) => {\n              return <MenuItem key={number} value={number.toString()}>{number}</MenuItem>;\n            })}\n          </Field>\n        </div>\n      </div>\n    </Grid>\n  )\n}\n\nexport default ShiftPicker;","import {Checkbox, TableCell, TableHead, TableRow, TableSortLabel} from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nfunction EnhancedTableHead(props) {\n  const {classes, onSelectAllClick, order, orderBy, numSelected, rowCount, onRequestSort, headCells, type} = props;\n  const createSortHandler = (property) => (event) => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        {type && type !== 'noSelection' &&\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            indeterminate={numSelected > 0 && numSelected < rowCount}\n            checked={rowCount > 0 && numSelected === rowCount}\n            onChange={onSelectAllClick}\n            inputProps={{'aria-label': 'select all desserts'}}\n          />\n        </TableCell>\n        }\n        {headCells.map((headCell) => (\n          <TableCell\n            key={headCell.id}\n            align={headCell.numeric ? 'right' : 'left'}\n            padding={headCell.disablePadding ? 'none' : 'default'}\n            sortDirection={orderBy === headCell.id ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === headCell.id}\n              direction={orderBy === headCell.id ? order : 'asc'}\n              onClick={createSortHandler(headCell.id)}\n              disabled={headCell.sort === false}\n            >\n              {headCell.label}\n              {orderBy === headCell.id ? (\n                <span className={classes.visuallyHidden}>\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number,\n  onRequestSort: PropTypes.func.isRequired,\n  onSelectAllClick: PropTypes.func,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number,\n  headCells: PropTypes.array.isRequired,\n  type: PropTypes.oneOf(['noSelection', 'selection'])\n};\n\nexport default EnhancedTableHead;\n","export function descendingComparator(a, b, orderBy) {\n  if (typeof a[orderBy] === 'string' && typeof b[orderBy] === 'string') {\n    if (a[orderBy] === undefined) return 1;\n    if (b[orderBy].toUpperCase() < a[orderBy].toUpperCase()) {\n      return -1;\n    }\n    if (b[orderBy].toUpperCase() > a[orderBy].toUpperCase()) {\n      return 1;\n    }\n    return 0;\n  } else {\n    if (a[orderBy] === undefined) return 1;\n\n    if (b[orderBy] < a[orderBy]) {\n      return -1;\n    }\n    if (b[orderBy] > a[orderBy]) {\n      return 1;\n    }\n    return 0;\n  }\n}\n\nexport function getComparator(order, orderBy) {\n  return order === 'desc'\n    ? (a, b) => descendingComparator(a, b, orderBy)\n    : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\nexport function stableSort(array, comparator) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map((el) => el[0]);\n}\n\nexport function handleClick(event, item, selected, setSelected) {\n  const selectedIndex = selected.indexOf(item);\n  let newSelected = [];\n\n  if (selectedIndex === -1) {\n    newSelected = newSelected.concat(selected, item);\n  } else if (selectedIndex === 0) {\n    newSelected = newSelected.concat(selected.slice(1));\n  } else if (selectedIndex === selected.length - 1) {\n    newSelected = newSelected.concat(selected.slice(0, -1));\n  } else if (selectedIndex > 0) {\n    newSelected = newSelected.concat(\n      selected.slice(0, selectedIndex),\n      selected.slice(selectedIndex + 1),\n    );\n  }\n\n  setSelected(newSelected);\n}","import React, {useEffect, useState} from 'react';\nimport {useHistory} from \"react-router-dom\";\nimport {\n  Grid,\n  IconButton,\n  Paper,\n  Table,\n  TableContainer,\n  TableRow,\n  Typography,\n  Tooltip,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  Button,\n  DialogActions, TablePagination,\n} from \"@material-ui/core\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport {AddCircleOutline, VisibilityOutlined} from \"@material-ui/icons\";\nimport {createCleaner, getCleaners, getRooms} from \"../../utils/api\";\nimport styles from './CleanersPage.module.scss';\nimport * as Yup from \"yup\";\nimport {Formik, Form, Field} from \"formik\";\nimport {TextField} from \"formik-material-ui\";\nimport PageContainer from \"../../containers/PageContainer\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport ShiftPicker from \"../../components/ShiftPicker/ShiftPicker\";\nimport moment from \"moment\";\nimport EnhancedTableHead from \"../../components/RoomSelector/EnhancedTableHead\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {getComparator, stableSort} from \"../../utils/tableUtils\";\n\nconst CleanersPage = () => {\n  const [cleaners, setCleaners] = useState([]);\n  const [rooms, setRooms] = useState([]);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [open, setOpen] = React.useState(false);\n  const [snackOpen, setSnackOpen] = useState(false);\n\n  useEffect(() => {\n    Promise.all([getCleaners(), getRooms(null, null, true)])\n      .then((responses) => {\n        setCleaners(responses[0]);\n        setRooms(responses[1]);\n        setIsLoaded(true);\n      }, (err) => {\n        console.log(err);\n      });\n  }, [setOpen, isLoaded])\n\n  const handleSnackClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setSnackOpen(false);\n  };\n\n  return (\n    <PageContainer style={{textAlign: 'start'}}>\n      <div className={styles.headerRow}>\n        <Typography variant={\"h5\"} className={styles.bold}>Cleaners</Typography>\n        <Tooltip title=\"Add cleaner\">\n          <IconButton onClick={() => setOpen(true)}>\n            <AddCircleOutline/>\n          </IconButton>\n        </Tooltip>\n      </div>\n      {isLoaded ? <CleanersTable cleaners={cleaners} rooms={rooms}/> :\n        <CircularProgress color=\"secondary\" style={{margin: '16px auto'}}/>}\n      <AddCleanerDialog open={open} setOpen={setOpen} setIsLoaded={setIsLoaded} setSnackOpen={setSnackOpen}/>\n      <Snackbar open={snackOpen} autoHideDuration={6000} onClose={handleSnackClose}\n                anchorOrigin={{vertical: \"top\", horizontal: \"center\"}}>\n        <Alert variant={\"filled\"} severity=\"success\" onClose={handleSnackClose}>\n          Cleaner created\n        </Alert>\n      </Snackbar>\n    </PageContainer>\n  )\n}\n\nconst validationSchema = Yup.object({\n  firstName: Yup.string().required('First name is required'),\n  lastName: Yup.string().required('Last name is required')\n});\n\nconst AddCleanerDialog = ({open, setOpen, setIsLoaded, setSnackOpen}) => {\n  const handleClose = () => {\n    setOpen(false);\n  }\n\n  const initialValues = {\n    firstName: '',\n    lastName: '',\n    startHour: '08',\n    endHour: '16',\n    startMinutes: '00',\n    endMinutes: '00'\n  }\n\n  const handleSubmit = async (vars, {setSubmitting}) => {\n    const cleaner = await createCleaner(`${vars.firstName} ${vars.lastName}`,\n      `${vars.startHour.padStart(2, '0')}:${vars.startMinutes.padStart(2, '0')}`,\n      `${vars.endHour.padStart(2, '0')}:${vars.endMinutes.padStart(2, '0')}`);\n    console.log(cleaner);\n    setIsLoaded(false);\n    setSubmitting(false);\n    setSnackOpen(true);\n    setOpen(false);\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n      <DialogTitle id=\"form-dialog-title\">Create a new cleaner</DialogTitle>\n      <Formik initialValues={initialValues} onSubmit={handleSubmit} validationSchema={validationSchema}>\n        {({isSubmitting, resetForm, values}) => (\n          <Form>\n            <DialogContent>\n              <Grid container spacing={2}>\n                <Grid item xs={6}>\n                  <Field\n                    component={TextField}\n                    autoFocus\n                    margin=\"dense\"\n                    id=\"name\"\n                    label=\"First name\"\n                    type=\"text\"\n                    name=\"firstName\"\n                    fullWidth\n                  />\n                </Grid>\n                <Grid item xs={6}>\n                  <Field\n                    component={TextField}\n                    margin=\"dense\"\n                    id=\"name\"\n                    label=\"Last name\"\n                    type=\"text\"\n                    name=\"lastName\"\n                    fullWidth\n                  />\n                </Grid>\n                <ShiftPicker/>\n              </Grid>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={handleClose} color=\"primary\">\n                Cancel\n              </Button>\n              <Button type=\"submit\" color=\"primary\">\n                Create cleaner\n              </Button>\n            </DialogActions>\n          </Form>\n        )}\n      </Formik>\n    </Dialog>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n}));\n\nconst CleanersTable = ({cleaners, rooms}) => {\n  const history = useHistory();\n  const classes = useStyles();\n  const [order, setOrder] = React.useState('asc');\n  const [orderBy, setOrderBy] = React.useState('name');\n  const [page, setPage] = React.useState(0);\n  const [cleanersPerPage, setCleanersPerPage] = React.useState(15);\n\n  const viewCleaner = (cleaner) => {\n    const id = cleaner['_id'];\n    history.push({\n      pathname: `/cleaners/${id}`,\n      state: {id}\n    })\n  }\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setCleanersPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  const getCleaningProgress = (cleaner) => {\n    const assignedRooms = rooms.filter((room) => {\n      return room['assigned_cleaners'].length > 0 && room['assigned_cleaners'][0]['_id'] === cleaner['_id'];\n    });\n    const today = moment();\n    const numCleaned = assignedRooms.filter((room) => {\n      if (!room['last_cleaned']) {\n        return false;\n      }\n      return moment(room['last_cleaned']).isSame(today, 'date');\n    }).length;\n    cleaner['cleaning_progress'] = (Math.round(((numCleaned / assignedRooms.length) * 100)) || 0) + '%';\n    return (\n      <Tooltip title={`${numCleaned}/${assignedRooms.length}`} placement={\"right\"}>\n        <Typography>{cleaner['cleaning_progress']}</Typography>\n      </Tooltip>\n    )\n  }\n\n  const getStatus = (cleaner) => {\n    const shiftStart = moment(cleaner['shift_start'], 'HH:mm');\n    const shiftEnd = moment(cleaner['shift_end'], 'HH:mm');\n    const isBetween = moment().isBetween(shiftStart, shiftEnd);\n    cleaner.status = isBetween ? '' : 'Unavailable';\n    return cleaner.status;\n  }\n  const headCells = [\n    {id: 'name', numeric: false, disablePadding: false, label: 'Name'},\n    {id: 'shift_start', numeric: true, disablePadding: false, label: 'Shift start'},\n    {id: 'shift_end', numeric: true, disablePadding: false, label: 'Shift end'},\n    {id: 'cleaning_progress', numeric: true, disablePadding: false, label: 'Cleaning progress'},\n    {id: 'current_location', numeric: true, disablePadding: false, label: 'Current location'},\n    {id: 'status', numeric: true, disablePadding: false, label: 'Status'},\n    {id: 'action', numeric: false, disablePadding: false, label: '', sort: false},\n  ];\n  return (\n    <Paper>\n      <TableContainer>\n        <Table size={'small'}>\n          <EnhancedTableHead classes={classes} onRequestSort={handleRequestSort} order={order} orderBy={orderBy}\n                             headCells={headCells}/>\n          <TableBody>\n            {stableSort(cleaners, getComparator(order, orderBy))\n              .slice(page * cleanersPerPage, page * cleanersPerPage + cleanersPerPage)\n              .map((row, index) => {\n                const labelId = `enhanced-table-checkbox-${index}`;\n                return (\n                  <TableRow\n                    hover\n                    tabIndex={-1}\n                    key={labelId}\n                    style={{height: '33px'}}\n                  >\n                    <TableCell component=\"th\" scope=\"row\">{row.name}</TableCell>\n                    <TableCell align=\"right\">{row['shift_start']}</TableCell>\n                    <TableCell align=\"right\">{row['shift_end']}</TableCell>\n                    <TableCell align=\"right\">{getCleaningProgress(row)}</TableCell>\n                    <TableCell align=\"right\">{}</TableCell>\n                    <TableCell align=\"right\">{getStatus(row)}</TableCell>\n                    <TableCell align=\"right\">\n                      <Tooltip title={\"View cleaner\"}>\n                        <IconButton size={\"small\"} color={\"secondary\"} onClick={() => {\n                          viewCleaner(row)\n                        }}><VisibilityOutlined/></IconButton>\n                      </Tooltip>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <TablePagination\n        rowsPerPageOptions={[5, 10, 15, 25, 50]}\n        component=\"div\"\n        count={cleaners.length}\n        rowsPerPage={cleanersPerPage}\n        page={page}\n        onChangePage={handleChangePage}\n        onChangeRowsPerPage={handleChangeRowsPerPage}\n      />\n    </Paper>\n  );\n}\n\n\nexport default CleanersPage;","import CleanersPage from './CleanersPage';\nexport default CleanersPage;\n","import React, {useEffect, useState} from 'react';\nimport {AppBar, Typography, Tabs, Toolbar as MaterialToolbar, Tab, IconButton, Icon} from \"@material-ui/core\";\nimport {Link, useLocation, matchPath, useHistory} from 'react-router-dom';\nimport {withStyles} from \"@material-ui/core/styles\";\nimport styles from './Toolbar.module.scss';\nimport {\n  ArrowBackRounded, AssessmentRounded,\n  BusinessRounded,\n  DashboardRounded, ExitToApp,\n  FormatListBulletedRounded, Info,\n  PeopleRounded, Settings\n} from \"@material-ui/icons\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport {getUser, logout} from \"../../utils/api\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport MenuIcon from '@material-ui/icons/Menu';\nimport logo from \"../../assets/logo.png\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport PageContainer from \"../../containers/PageContainer\";\n\nconst NavTabs = withStyles({\n  root: {\n    width: '100%',\n    flexGrow: 1\n  },\n  indicator: {\n    display: 'flex',\n    justifyContent: 'center',\n    backgroundColor: 'transparent',\n    marginBottom: '4px',\n    '& > span': {\n      width: '40%',\n      backgroundColor: '#00b0ff',\n      borderTopLeftRadius: 4,\n      borderTopRightRadius: 4,\n    },\n  }\n})((props) => <Tabs {...props} TabIndicatorProps={{children: <span/>}}/>);\n\nconst mountTabValueFactory = (location, tabId) => (route) => !!matchPath(location.pathname, {\n  path: route,\n  exact: false,\n  strict: false,\n}) ? tabId : -1;\n\nconst Toolbar = () => {\n  const location = useLocation();\n  const history = useHistory();\n  const tabId = 'myTabId';\n  const getTabValue = mountTabValueFactory(location, tabId);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [user, setUser] = useState('');\n  const [open, setOpen] = React.useState(false);\n\n  useEffect(() => {\n    const u = getUser();\n    setUser(u);\n  }, []);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <AppBar position={\"static\"}>\n      <MaterialToolbar variant={\"dense\"}>\n        <div className={styles.toolbar}>\n          {location.pathname.split('/').length > 2 ? (\n            <Tooltip title={'Go Back'}>\n              <IconButton onClick={() => {\n                history.goBack()\n              }}>\n                <ArrowBackRounded className={styles.svg}/>\n              </IconButton>\n            </Tooltip>\n          ) : <div style={{width: 40}}/>}\n          <Typography variant={\"h6\"} className={styles.name}\n                      style={{display: \"flex\", flexDirection: 'row', width: '100%'}}>\n            <Icon style={{width: 36}}><img src={logo} alt=\"logo\" className={styles.logo}/></Icon>\n            Spotless\n          </Typography>\n        </div>\n        <NavTabs variant={\"fullWidth\"} value={tabId}>\n          <Tab label={<div className={styles.tab}><DashboardRounded fontSize={\"small\"}/> Dashboard</div>}\n               value={getTabValue(\"/dashboard\")} component={Link} to={\"/dashboard\"}\n               disableRipple={true}/>\n          <Tab label={<div className={styles.tab}><FormatListBulletedRounded fontSize={\"small\"}/> Assignments</div>}\n               value={getTabValue(\"/assignments\")} component={Link} to={\"/assignments\"}\n               disableRipple={true} className={styles.tab}/>\n          <Tab label={<div className={styles.tab}><PeopleRounded fontSize={\"small\"}/> Cleaners</div>}\n               value={getTabValue(\"/cleaners\")} component={Link} to={\"/cleaners\"}\n               disableRipple={true} className={styles.tab}/>\n          <Tab label={<div className={styles.tab}><BusinessRounded fontSize={\"small\"}/> Rooms</div>}\n               value={getTabValue(\"/rooms\")} component={Link} to={\"/rooms\"} disableRipple={true}/>\n          <Tab label={<div className={styles.tab}><AssessmentRounded fontSize={\"small\"}/> Analysis</div>}\n               value={getTabValue(\"/analysis\")} component={Link} to={\"/analysis\"}\n               disableRipple={true} className={styles.tab}/>\n        </NavTabs>\n        <Tooltip title={\"Open menu\"}>\n          <IconButton aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n            <MenuIcon color={\"secondary\"}/>\n          </IconButton>\n        </Tooltip>\n        <Menu\n          id=\"simple-menu\"\n          anchorEl={anchorEl}\n          keepMounted\n          open={Boolean(anchorEl)}\n          onClose={handleClose}\n        >\n          {user.superAdmin &&\n          <MenuItem onClick={() => {\n            handleClose();\n            history.push('/simulator');\n          }}>\n            <ListItemIcon>\n              <Settings fontSize=\"small\" style={{color: '#808080'}}/>\n            </ListItemIcon>\n            <ListItemText primary=\"Simulator\"/>\n          </MenuItem>}\n          <MenuItem onClick={() => {\n            setOpen(true);\n            handleClose();\n          }}>\n            <ListItemIcon>\n              <Info fontSize=\"small\"/>\n            </ListItemIcon>\n            <ListItemText primary=\"About\"/>\n          </MenuItem>\n          <MenuItem onClick={() => {\n            handleClose();\n            logout();\n            history.push('/');\n          }}>\n            <ListItemIcon>\n              <ExitToApp color={\"secondary\"} fontSize=\"small\"/>\n            </ListItemIcon>\n            <ListItemText primary=\"Sign out\"/>\n          </MenuItem>\n\n        </Menu>\n        <AboutDialog open={open} setOpen={setOpen}/>\n      </MaterialToolbar>\n    </AppBar>\n  );\n}\n\nconst AboutDialog = ({open, setOpen}) => {\n\n  const handleConfirmClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleConfirmClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">{\"About the app\"}</DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\" color=\"textPrimary\">\n          <p>\n            The LeViteZer hospital room cleaning optimization solution aims to reduce hospital infection risk by\n            optimizing the hospital room cleaning. The contamination of the rooms is tracked real time and the cleaning\n            prioritized based on need.\n          </p>\n\n          <p>\n            Realtime data of space usage is visualized in the Cleaner application. On top of a room layout the most used\n            areas are visualized to provide the cleaner with simple and intuitive information on areas that need the\n            most attention. The application also track the cleaning event to make sure all areas has been cleaned and\n            then automatically generate a report with minimal interaction by cleaner. The guiding line on the design has\n            been to keep it simple, provide only useful information and assist on making the cleaning report.\n          </p>\n\n          <p>\n            The Management application supports efficient resource management and planning in case of changes in\n            staffing or reallocation of time and resources. Furthermore, It displays data from the hospital in real time\n            and offers tools to verify & track cleaning efficiency. The application also presents detailed information\n            about rooms and their generated cleaning reports.\n          </p>\n\n          <p>\n            Spotless is working name for the applications. The status of the applications is for demonstration purpose\n            and for this purpose there is also a simple hospital contamination simulator as we currently only have few\n            locations equipped with the sensors. LeViteZer supports the use of the demonstrator. Comments and\n            improvement proposals are most welcome\n            <address>\n              <a href=\"mailto:kim.janson@levitezer.com\">kim.janson@levitezer.com</a>\n            </address>\n          </p>\n\n          <p>\n            The Spotless management and cleaners applications have been developed in Metropolia University of Applied\n            Sciences, innovation project supervised and supported by LeViteZer and in co-operation with Sodexo.\n          </p>\n\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => {\n          handleConfirmClose();\n        }} color=\"primary\" autoFocus>\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nexport default Toolbar;","import Toolbar from './Toolbar';\nexport default Toolbar;","import CleaningsByCleaner from './CleaningsByCleaner';\nexport default CleaningsByCleaner;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport {\n  XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, Bar, BarChart\n} from 'recharts';\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport styles from \"./CleaningsByCleaner.module.scss\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {Typography} from \"@material-ui/core\";\n\nconst CleaningsByCleaner = ({reports, loading}) => {\n  let data = reports.map((report) => {\n    return report['cleaner_name'];\n  })\n  const counts = {};\n  data.forEach((x) => {\n    counts[x] = (counts[x] || 0) + 1;\n  });\n  const formattedReports = [];\n  Object.keys(counts).forEach((x) => {\n    formattedReports.push({\n      cleaner: x,\n      amount: counts[x]\n    });\n  });\n\n  return (\n    <div style={{height: '100%'}}>\n      <Paper className={styles.container}>\n        <Typography variant={\"h6\"} className={styles.title}>Cleanings per cleaner</Typography>\n        <>\n          {loading ? <CircularProgress color={\"secondary\"} style={{margin: 'auto'}}/> :\n            <ResponsiveContainer width=\"100%\" height={400} className={styles.chart}>\n              {formattedReports.length === 0 ?\n                <Typography variant={\"h6\"} className={styles.title} style={{textAlign: 'center'}}>No cleaning events</Typography>\n                :\n                <BarChart data={formattedReports}>\n                  <XAxis dataKey=\"cleaner\"/>\n                  <YAxis/>\n                  <CartesianGrid strokeDasharray=\"3 3\"/>\n                  <Tooltip/>\n                  <Legend/>\n                  <Bar dataKey=\"amount\" name=\"Cleaning events\" fill=\"#8884d8\"/>\n                </BarChart>\n              }\n\n            </ResponsiveContainer>\n          }\n        </>\n      </Paper>\n    </div>\n  )\n}\n\nCleaningsByCleaner.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  reports: PropTypes.array.isRequired\n};\n\nexport default CleaningsByCleaner;","import ContaminationIndexOverTime from './ContaminationIndexOverTime';\nexport default ContaminationIndexOverTime;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport {\n  XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, LineChart, Line\n} from 'recharts';\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport styles from \"./ContaminationIndexOverTime.module.scss\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {Typography} from \"@material-ui/core\";\nimport moment from \"moment\";\n\nconst getContaminationIndex = (val) => {\n  if (val > 150) {\n    return 150;\n  } else if (val < 0) {\n    return 0;\n  } else {\n    return val;\n  }\n}\n\nconst ContaminationIndexOverTime = ({reports, loading}) => {\n  let data = reports.map((report) => {\n    return moment(report['cleaning_time']).format('DD.MM.YYYY');\n  });\n  const counts = {};\n  data.forEach((x) => {\n    const date = moment(x, 'DD.MM.YYYY');\n    counts[x] = reports.filter((report) => {\n      return moment(report['cleaning_time']).isSame(date, 'date');\n    });\n  });\n\n  const formattedReports = [];\n  Object.keys(counts).forEach((x) => {\n    formattedReports.push({\n      date: x,\n      contamination: Math.round(counts[x].reduce((acc, report) => {\n        return acc + getContaminationIndex(report['contamination_index']);\n      }, 0) / counts[x].length)\n    });\n  });\n\n  return (\n    <div style={{height: '100%'}}>\n      <Paper className={styles.container}>\n        <Typography variant={\"h6\"} className={styles.title}>Contamination index (before cleaning) over time</Typography>\n        <>\n          {loading ? <CircularProgress color={\"secondary\"} style={{margin: 'auto'}}/> :\n            <ResponsiveContainer width=\"100%\" height={400} className={styles.chart}>\n              {formattedReports.length === 0 ?\n                <Typography variant={\"h6\"} className={styles.title} style={{textAlign: 'center'}}>No cleaning\n                  events</Typography>\n                :\n                <LineChart data={formattedReports}>\n                  <XAxis dataKey=\"date\"/>\n                  <YAxis/>\n                  <CartesianGrid strokeDasharray=\"3 3\"/>\n                  <Tooltip/>\n                  <Legend/>\n                  <Line type=\"monotone\" dataKey=\"contamination\" name=\"Contamination index\" stroke=\"#8884d8\"\n                        strokeWidth={2}/>\n                </LineChart>\n              }\n\n            </ResponsiveContainer>\n          }\n        </>\n      </Paper>\n    </div>\n  )\n}\n\nContaminationIndexOverTime.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  reports: PropTypes.array.isRequired\n};\n\nexport default ContaminationIndexOverTime;","import CleaningDuration from './CleaningDuration';\nexport default CleaningDuration;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport {\n  XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, BarChart, Bar\n} from 'recharts';\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport styles from \"./CleaningDuration.module.scss\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {Typography} from \"@material-ui/core\";\nimport {ROOM_TYPES} from \"../../../utils/constants\";\n\nconst CleaningDuration = ({reports, loading}) => {\n  let data = reports.map((report) => {\n    return report.room && report.room['room_type'];\n  })\n  const counts = {};\n  data.forEach((x) => {\n    counts[x] = reports.filter((report) => {\n      if (typeof x === 'undefined') {\n        return x === report.room;\n      } else {\n        if (!report.room) {\n          return false;\n        }\n        return x === report.room['room_type'];\n      }\n    });\n  });\n  const formattedReports = [];\n  const und = counts['undefined'];\n  if (und) {\n    formattedReports.push({\n      type: 'No type',\n      amount: Math.round(und.reduce((acc, report) => {\n        return acc + report['cleaning_duration_seconds'];\n      }, 0) / und.length),\n      estimated: 0\n    });\n    delete counts['undefined'];\n  }\n\n  Object.keys(counts).forEach((x) => {\n    formattedReports.push({\n      type: ROOM_TYPES[x].displayName,\n      amount: Math.round(counts[x].reduce((acc, report) => {\n        return acc + report['cleaning_duration_seconds'];\n      }, 0) / counts[x].length),\n      estimated: ROOM_TYPES[x].cleaningTime * 60\n    });\n  });\n\n  return (\n    <div style={{height: '100%'}}>\n      <Paper className={styles.container}>\n        <Typography variant={\"h6\"} className={styles.title}>Cleaning duration by room type</Typography>\n        <>\n          {loading ? <CircularProgress color={\"secondary\"} style={{margin: 'auto'}}/> :\n            <ResponsiveContainer width=\"100%\" height={400} className={styles.chart}>\n              {formattedReports.length === 0 ?\n                <Typography variant={\"h6\"} className={styles.title} style={{textAlign: 'center'}}>No cleaning\n                  events</Typography>\n                :\n                <BarChart data={formattedReports}>\n                  <XAxis dataKey=\"type\"/>\n                  <YAxis/>\n                  <CartesianGrid strokeDasharray=\"3 3\"/>\n                  <Tooltip/>\n                  <Legend/>\n                  <Bar dataKey=\"amount\" name=\"Actual time\" fill=\"#8884d8\" unit=\" seconds\"/>\n                  <Bar dataKey=\"estimated\" name=\"Estimated time\" fill=\"#82ca9d\" unit=\" seconds\"/>\n                </BarChart>\n              }\n            </ResponsiveContainer>\n          }\n        </>\n      </Paper>\n    </div>\n  )\n}\n\nCleaningDuration.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  reports: PropTypes.array.isRequired\n};\n\nexport default CleaningDuration;","import AnalysisPage from './AnalysisPage';\nexport default AnalysisPage;\n","import React, {useEffect, useState} from 'react';\nimport PageContainer from \"../../containers/PageContainer\";\nimport {Grid, Typography} from \"@material-ui/core\";\nimport CleaningsByCleaner from \"../../components/Charts/CleaningsByCleaner\";\nimport {getReports, getRooms} from \"../../utils/api\";\nimport ContaminationIndexOverTime from \"../../components/Charts/ContaminationIndexOverTime\";\nimport CleaningDuration from \"../../components/Charts/CleaningDuration\";\n\nconst AnalysisPage = () => {\n  const [reports, setReports] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [rooms, setRooms] = useState([]);\n\n  useEffect(() => {\n    Promise.all([getRooms(), getReports()])\n      .then((result) => {\n        result[1].forEach((report) => {\n          report.room = result[0].find((room) => {\n            return room['_id'] === report['room_id'];\n          });\n        })\n        setRooms(result[0]);\n        setReports(result[1]);\n        setLoading(false);\n      });\n  }, []);\n  return (\n    <PageContainer style={{textAlign: 'start'}}>\n      <Typography variant={\"h5\"} style={{marginBottom: 16}}>Analysis</Typography>\n      <Grid container spacing={4} style={{marginBottom: 16}}>\n        <Grid item xs={12}>\n          <ContaminationIndexOverTime reports={reports} loading={loading}/>\n        </Grid>\n        <Grid item xs={6}>\n          <CleaningsByCleaner reports={reports} loading={loading}/>\n        </Grid>\n        <Grid item xs={6}>\n          <CleaningDuration reports={reports} loading={loading}/>\n        </Grid>\n      </Grid>\n    </PageContainer>\n  )\n}\n\nexport default AnalysisPage;","import React, {useEffect, useState} from \"react\";\nimport hospitalImg from \"../../assets/hospital.png\";\nimport styles from \"./RoomsPage.module.scss\";\nimport ImageMapper from 'react-image-mapper';\nimport {HOSPITAL_MAP} from \"../../utils/constants\";\nimport {useHistory} from \"react-router-dom\";\nimport {getRoomTypeProp, getVariantColor, hexToRgb} from \"../../utils/utils\";\nimport {Typography} from \"@material-ui/core\";\n\nconst initMap = (rooms) => {\n  let map = {};\n  map = JSON.parse(JSON.stringify(HOSPITAL_MAP));\n  rooms.forEach((room, index) => {\n    const area = map.areas[index];\n    if (!area) {\n      return;\n    }\n    const color = hexToRgb(getVariantColor(room['contamination_index']));\n    area.preFillColor = `rgba(${color.r}, ${color.g}, ${color.b}, 0.5)`\n    area['_id'] = room['_id'];\n    area.room = room;\n  });\n  return map;\n}\n\nconst RoomsMap = ({rooms}) => {\n  const history = useHistory();\n  const [hovering, setHovering] = useState(false);\n  const [room, setRoom] = useState({});\n  const [hoverStyle, setHoverStyle] = useState({});\n  const [map, setMap] = useState({});\n  const [ignored, forceUpdate] = useState(642);\n\n  useEffect(() => {\n    setMap(initMap(rooms));\n    forceUpdate(i => i === 642 ? 643 : 642);\n  }, [rooms, setMap])\n\n  const click = (area, num, event) => {\n    const id = area['_id'];\n    if (!id) {\n      return;\n    }\n    history.push({\n      pathname: `/rooms/${id}`,\n      state: {id}\n    })\n  }\n\n  const enter = (area, index, event) => {\n    if (area.room) {\n      const style = {\n        top: event.pageY,\n        left: event.pageX\n      }\n      setHovering(true);\n      setRoom(area.room);\n      setHoverStyle(style);\n    }\n  }\n\n  const width = window.innerWidth / 2.1;\n\n  return (\n    <>\n      {Object.keys(map).length !== 0 &&\n      <div className={styles.map}>\n        <ImageMapper src={hospitalImg}\n                     map={map}\n                     fillColor={'rgba(0,0,0, 0.2)'}\n                     onClick={click}\n                     width={width}\n                     imgWidth={ignored}\n                     onMouseEnter={enter}\n                     onMouseLeave={() => {\n                       setHovering(false);\n                       setRoom({});\n                       setHoverStyle({});\n                     }}\n        />\n      </div>\n      }\n      {hovering &&\n      <div id=\"info\" className={styles.roomInfo} style={hoverStyle}>\n        <Typography variant={\"h6\"} className={styles.bold}>Room: {room.name}</Typography>\n        <Typography variant={\"body1\"}>{getRoomTypeProp(room, 'displayName')}</Typography>\n        <Typography variant={\"body1\"} color={\"textSecondary\"}>Contamination Index: <span\n          style={{color: getVariantColor(room['contamination_index'])}}>{room['contamination_index'].toFixed(1)}</span>\n        </Typography>\n      </div>\n      }\n    </>\n  )\n}\n\nexport default RoomsMap;","import React, {useEffect} from \"react\";\nimport Select from \"@material-ui/core/Select\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport {ROOM_TYPES} from \"../../utils/constants\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport PropTypes from \"prop-types\";\n\nconst TableFilters = ({rooms, setRooms, initialBuilding, initialFloor, hideAll, hideAssigned}) => {\n  const [building, setBuilding] = React.useState(initialBuilding || '');\n  const [floor, setFloor] = React.useState(initialFloor || '');\n  const [roomType, setRoomType] = React.useState('');\n  const [assigned, setAssigned] = React.useState(true);\n  const [filters, setFilters] = React.useState(true);\n\n  useEffect(() => {\n    if (filters) {\n      let filtered = rooms;\n      filtered = filtered.filter((room) => {\n        let valid = true;\n        if (building) {\n          valid = room.building === building;\n        }\n        if (floor) {\n          valid = room.floor === floor && valid;\n        }\n        if (roomType) {\n          valid = room['room_type'] === roomType.key && valid;\n        }\n        if (!hideAssigned && !assigned) {\n          valid = room['assigned_cleaners'].length === 0 && valid;\n        }\n        return valid;\n      });\n      setRooms(filtered);\n      setFilters(false);\n    }\n  }, [assigned, building, floor, roomType, filters, rooms, setRooms, hideAssigned])\n  const getBuildings = () => {\n    return [...new Set(rooms.map(room => {\n      return room.building;\n    }))].sort();\n  };\n\n  const getFloors = () => {\n    return [...new Set(rooms.map(room => {\n      return room.floor;\n    }))].sort();\n  }\n  return (\n    <>\n      <FormControl variant={'outlined'} style={{minWidth: '240px', marginBottom: 8}}>\n        <InputLabel id=\"building\">Building</InputLabel>\n        <Select label=\"Building\" onChange={(event) => {\n          setBuilding(event.target.value);\n          setFilters(true);\n        }} value={building}>\n          {!hideAll &&\n          <MenuItem value={''}>\n            <em>All</em>\n          </MenuItem>}\n          {getBuildings().map(building => (\n            <MenuItem value={building} key={building}>{building}</MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      <FormControl variant={'outlined'} style={{minWidth: '240px', marginBottom: 8}}>\n        <InputLabel id=\"floor\">Floor</InputLabel>\n        <Select label=\"Floor\" onChange={(event) => {\n          setFloor(event.target.value);\n          setFilters(true);\n        }} value={floor}>\n          {!hideAll &&\n          <MenuItem value={''}>\n            <em>All</em>\n          </MenuItem>\n          }\n          {getFloors().map(floor => (\n            <MenuItem value={floor} key={floor}>{floor}</MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      <FormControl variant={'outlined'} style={{minWidth: '240px', marginBottom: 8}}>\n        <InputLabel id=\"room-type\">Room type</InputLabel>\n        <Select label=\"Room type\" onChange={(event) => {\n          setRoomType(event.target.value);\n          setFilters(true);\n        }} value={roomType}>\n          <MenuItem value={''}>\n            <em>All</em>\n          </MenuItem>\n          {Object.keys(ROOM_TYPES).map(type => (\n            <MenuItem value={ROOM_TYPES[type]}\n                      key={ROOM_TYPES[type].displayName}>{ROOM_TYPES[type].displayName}</MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      {!hideAssigned &&\n      <FormControlLabel control={<Checkbox checked={assigned} onChange={(event, checked) => {\n        setAssigned(checked);\n        setFilters(true);\n      }}/>} label=\"Show assigned\"/>}\n    </>\n  );\n}\n\nTableFilters.propTypes = {\n  rooms: PropTypes.array.isRequired,\n  setRooms: PropTypes.func.isRequired,\n  initialBuilding: PropTypes.string,\n  initialFloor: PropTypes.string,\n  hideAll: PropTypes.bool,\n  hideAssigned: PropTypes.bool\n}\n\nexport default TableFilters;","import RoomsPage from './RoomsPage';\nexport default RoomsPage;\n","import React, {useEffect, useState} from 'react';\nimport {getRooms} from \"../../utils/api\";\nimport {Typography} from \"@material-ui/core\";\nimport styles from \"./RoomsPage.module.scss\";\nimport PageContainer from \"../../containers/PageContainer\";\nimport RoomsMap from \"./RoomsMap\";\nimport TableFilters from \"../AssignmentsPage/TableFilters\";\n\nconst RoomsPage = () => {\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [rooms, setRooms] = useState([]);\n  const [origRooms, setOrigRooms] = useState([]);\n\n  useEffect(() => {\n    getRooms()\n      .then((rooms) => {\n          setRooms(rooms);\n          setOrigRooms(rooms);\n          setIsLoaded(true);\n        },\n        (error) => {\n          setError(true);\n          setIsLoaded(true);\n          console.log(error);\n        });\n  }, []);\n\n  return (\n    <PageContainer>\n      <div className={styles.headerRow}>\n        <Typography variant={\"h5\"} className={styles.bold}>Rooms</Typography>\n        {isLoaded &&\n        <div className={styles.filters}>\n          <TableFilters rooms={origRooms} setRooms={setRooms} hideAll={true} hideAssigned={true} initialBuilding={rooms[0] && rooms[0].building} initialFloor={rooms[0] && rooms[0].floor}/>\n        </div>\n        }\n      </div>\n      {isLoaded &&\n      <RoomsMap rooms={rooms}/>\n      }\n      {error && <p>ERROR</p>}\n    </PageContainer>\n  )\n}\n\nexport default RoomsPage;","import CleanerSelect from './CleanerSelect';\nexport default CleanerSelect;","import React, {useEffect, useState} from 'react';\nimport PropTypes from \"prop-types\";\nimport {Autocomplete} from \"@material-ui/lab\";\nimport TextField from \"@material-ui/core/TextField\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport {getCleaners} from \"../../utils/api\";\nimport styles from \"./CleanerSelect.module.scss\";\n\nconst CleanerSelect = ({onChange, style}) => {\n  const [options, setOptions] = useState([]);\n  const [openSelect, setOpenSelect] = useState(false);\n  const [cleaner, setCleaner] = useState(null);\n  const loading = openSelect && options.length === 0;\n\n  useEffect(() => {\n    let active = true;\n\n    if (!loading) {\n      return undefined;\n    }\n\n    (async () => {\n      const clnrs = await getCleaners();\n\n      if (active) {\n        setOptions(clnrs);\n      }\n    })();\n\n    return () => {\n      active = false;\n    };\n  }, [loading]);\n\n  const onSelectChange = (event, newValue) => {\n    setCleaner(newValue);\n    onChange(event, newValue);\n  }\n\n  return (\n    <Autocomplete\n      open={openSelect}\n      onOpen={() => {\n        setOpenSelect(true);\n      }}\n      onClose={() => {\n        setOpenSelect(false);\n      }}\n      className={styles.autocomplete}\n      style={style}\n      getOptionLabel={(option) => option.name || ''}\n      options={options}\n      loading={loading}\n      value={cleaner}\n      onChange={onSelectChange}\n      renderInput={(params) => (\n        <TextField\n          {...params}\n          label=\"Cleaner\"\n          variant=\"outlined\"\n          InputProps={{\n            ...params.InputProps,\n            endAdornment: (\n              <>\n                {loading ? <CircularProgress color=\"inherit\" size={20}/> : null}\n                {params.InputProps.endAdornment}\n              </>\n            ),\n          }}\n        />\n      )}\n    />\n  );\n}\n\nCleanerSelect.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  style: PropTypes.object\n}\n\nexport default CleanerSelect;","import React, {useState} from \"react\";\nimport {assignRoomsToCleaner, unAssignRooms} from \"../../utils/api\";\nimport {Button, Dialog, DialogActions, DialogContent, DialogTitle} from \"@material-ui/core\";\nimport CleanerSelect from \"../../components/CleanerSelect\";\n\nexport const AssignCleanerDialog = ({open, setOpen, selected, setSnackOpen, onClose, setSnackText}) => {\n  const [cleaner, setCleaner] = useState(null);\n\n  const handleClose = () => {\n    onClose();\n    setOpen(false);\n  }\n\n  const handleSubmit = async () => {\n    const selectedWithCleaner = selected.filter((room) => {\n      return room['assigned_cleaners'].length > 0;\n    });\n    if (selectedWithCleaner.length > 0) {\n      await unAssignRooms(selectedWithCleaner);\n    }\n    await assignRoomsToCleaner(selected, cleaner['_id'])\n    setSnackText('Cleaner assigned');\n    setSnackOpen(true);\n    handleClose();\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\" disableBackdropClick={true}>\n      <DialogTitle id=\"form-dialog-title\">Select a cleaner</DialogTitle>\n      <DialogContent>\n        <CleanerSelect onChange={(event, newValue) => {\n          setCleaner(newValue)\n        }}/>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Cancel\n        </Button>\n        <Button color=\"primary\" onClick={handleSubmit} disabled={cleaner === ''}>\n          Assign\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport {lighten, makeStyles} from '@material-ui/core/styles';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TablePagination,\n  TableRow,\n  Toolbar,\n  Typography,\n  Paper,\n  Checkbox,\n  IconButton,\n  Tooltip,\n  Button\n} from '@material-ui/core';\nimport {getRooms, unAssignRooms} from \"../../utils/api\";\nimport {VisibilityOutlined, FilterList, Close} from \"@material-ui/icons\";\nimport moment from \"moment\";\nimport {useHistory} from 'react-router-dom';\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport PageContainer from \"../../containers/PageContainer\";\nimport {getComparator, handleClick, stableSort} from \"../../utils/tableUtils\";\nimport styles from \"./AssignmentsPage.module.scss\"\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport {AssignCleanerDialog} from \"./AssignCleanerDialog\";\nimport Link from \"@material-ui/core/Link\";\nimport {Link as RouterLink} from 'react-router-dom';\nimport {getRoomTypeProp, getStatus, mergeCleaners} from \"../../utils/utils\";\nimport TableFilters from \"./TableFilters\";\nimport EnhancedTableHead from \"../../components/RoomSelector/EnhancedTableHead\";\n\nconst headCells = [\n  {id: 'name', numeric: false, disablePadding: true, label: 'Name'},\n  {id: 'building', numeric: true, disablePadding: false, label: 'Building'},\n  {id: 'floor', numeric: true, disablePadding: false, label: 'Floor'},\n  {id: 'cleaner_name', numeric: false, disablePadding: false, label: 'Assigned Cleaner'},\n  {id: 'status', numeric: false, disablePadding: false, label: 'Status'},\n  {id: 'contamination_index', numeric: true, disablePadding: false, label: 'Contamination index'},\n  {id: 'room_type', numeric: false, disablePadding: false, label: 'Room type'},\n  {id: 'last_cleaned', numeric: true, disablePadding: false, label: 'Last cleaned'},\n  {id: 'action', numeric: true, disablePadding: false, label: '', sort: false},\n];\n\nconst useToolbarStyles = makeStyles((theme) => ({\n  root: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n    textAlign: 'left',\n    flexDirection: 'column'\n  },\n  highlight:\n    theme.palette.type === 'light'\n      ? {\n        color: theme.palette.secondary.main,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n      }\n      : {\n        color: theme.palette.text.primary,\n        backgroundColor: theme.palette.secondary.dark,\n      },\n  filters: {\n    minHeight: 96\n  },\n  button: {\n    minWidth: 160\n  }\n}));\n\nconst EnhancedTableToolbar = (props) => {\n  const classes = useToolbarStyles();\n  const {numSelected, selected, setSelected, setSnackOpen, setSnackText, getData, rooms, setRooms} = props;\n  const [open, setOpen] = React.useState(false);\n  const [filter, showFilters] = React.useState(false);\n  const selectedWithCleaner = selected.filter((room) => {\n    return room['assigned_cleaners'].length > 0;\n  });\n\n  const removeAssignments = async () => {\n    await unAssignRooms(selectedWithCleaner);\n    setSnackText('Cleaner unassigned');\n    setSnackOpen(true);\n    setSelected([]);\n    getData(true);\n  }\n  return (\n    <Toolbar\n      className={clsx(classes.root, {\n        [classes.highlight]: numSelected > 0,\n        [classes.filters]: filter && numSelected === 0\n      })}\n    >\n      <div className={styles.row} style={{minHeight: 64}}>\n        {numSelected > 0 ? (\n          <Typography className={styles.title} color=\"inherit\" variant=\"subtitle1\" component=\"div\"\n                      style={{fontWeight: 600}}>\n            {numSelected} selected\n          </Typography>\n        ) : (\n          <Typography className={styles.title} variant=\"h5\" id=\"tableTitle\" component=\"div\" style={{fontWeight: '600'}}\n                      title=\"Click on row to select a room\">\n            Select rows to assign to cleaner\n          </Typography>\n        )}\n        {numSelected > 0 ? (\n          <>\n            {selectedWithCleaner.length > 0 &&\n            <Tooltip title=\"Remove room assignments\">\n              <Button variant={'contained'} startIcon={<Close/>} className={styles.critical}\n                      style={{flexBasis: '300px', marginRight: 32}} onClick={removeAssignments}>Remove assignments\n              </Button>\n            </Tooltip>\n            }\n            <Tooltip title=\"Assign to cleaner\">\n              <Button variant={'contained'} color={'secondary'} style={{flexBasis: '180px'}} onClick={() => {\n                setOpen(true);\n              }}>Assign rooms</Button>\n            </Tooltip>\n          </>\n        ) : (\n          <Tooltip title=\"Filter list\">\n            <Button\n              variant=\"contained\"\n              className={classes.button}\n              startIcon={<FilterList color={filter ? 'secondary' : 'primary'}/>}\n              onClick={() => {\n                showFilters(!filter);\n              }}\n            >\n              {filter ? 'Hide filters' : 'Show filters'}\n            </Button>\n          </Tooltip>\n        )}\n      </div>\n      {filter && numSelected === 0 &&\n      <div className={styles.row}>\n        <TableFilters rooms={rooms} setRooms={setRooms}/>\n      </div>\n      }\n      <AssignCleanerDialog open={open} setOpen={setOpen} selected={selected} onClose={() => {\n        setSelected([]);\n        getData(true);\n      }} setSnackOpen={setSnackOpen} setSnackText={setSnackText}/>\n    </Toolbar>\n  );\n};\n\nEnhancedTableToolbar.propTypes = {\n  numSelected: PropTypes.number.isRequired,\n  selected: PropTypes.array.isRequired,\n  setSelected: PropTypes.func.isRequired,\n  setSnackOpen: PropTypes.func.isRequired,\n  rooms: PropTypes.array.isRequired\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 750,\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n}));\n\nexport default function AssignmentsPage() {\n  const classes = useStyles();\n  const [order, setOrder] = React.useState('desc');\n  const [orderBy, setOrderBy] = React.useState('name');\n  const [selected, setSelected] = React.useState([]);\n  const [page, setPage] = React.useState(0);\n  const [roomsPerPage, setRoomsPerPage] = React.useState(15);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [rooms, setRooms] = useState([]);\n  const [origRooms, setOrigRooms] = useState([]);\n  const [snackOpen, setSnackOpen] = useState(false);\n  const [snackText, setSnackText] = useState('');\n  const [data, getData] = React.useState(true);\n  const history = useHistory();\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleSelectAllClick = (event) => {\n    if (event.target.checked) {\n      const newSelecteds = rooms.map((n) => n);\n      setSelected(newSelecteds);\n      return;\n    }\n    setSelected([]);\n  };\n\n  useEffect(() => {\n    if (data) {\n      getRooms(null, null, true, isLoaded)\n        .then((rooms) => {\n            rooms = mergeCleaners(rooms);\n            setRooms(rooms);\n            setOrigRooms(rooms);\n            setIsLoaded(true);\n            getData(false);\n          },\n          (error) => {\n            setIsLoaded(true);\n            console.log(error);\n          });\n    }\n  }, [data]);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRoomsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  const isSelected = (name) => selected.indexOf(name) !== -1;\n\n  const getDate = (date) => {\n    return date ? moment(date).format('YYYY-MM-DD HH:mm:ss') : 'Never';\n  }\n\n  const openRoom = (room) => {\n    const id = room['_id'];\n    history.push({\n      pathname: `/rooms/${id}`,\n      state: {id}\n    })\n  }\n\n  const handleSnackClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setSnackOpen(false);\n  };\n\n  const getCleaner = (row) => {\n    if (!row.cleaner) {\n      return row['cleaner_name'];\n    }\n    const cleaner = row.cleaner;\n    return (<Link component={RouterLink} color=\"secondary\"\n                  to={{\n                    pathname: `/cleaners/${cleaner['_id']}`,\n                    state: {id: cleaner['_id']}\n                  }}>\n      {cleaner.name}\n    </Link>);\n  }\n\n  return (\n    <PageContainer className={classes.root}>\n      {isLoaded ?\n        <Paper className={classes.paper}>\n          <EnhancedTableToolbar numSelected={selected.length} selected={selected} setSnackOpen={setSnackOpen}\n                                setSelected={setSelected} setSnackText={setSnackText} getData={getData}\n                                rooms={origRooms} setRooms={setRooms}/>\n          <TableContainer>\n            <Table\n              className={classes.table}\n              aria-labelledby=\"tableTitle\"\n              aria-label=\"enhanced table\"\n              size={'small'}\n            >\n              <EnhancedTableHead\n                classes={classes}\n                numSelected={selected.length}\n                order={order}\n                orderBy={orderBy}\n                onSelectAllClick={handleSelectAllClick}\n                onRequestSort={handleRequestSort}\n                rowCount={rooms.length}\n                headCells={headCells}\n                type={\"selection\"}\n              />\n              <TableBody>\n                {stableSort(rooms, getComparator(order, orderBy))\n                  .slice(page * roomsPerPage, page * roomsPerPage + roomsPerPage)\n                  .map((row, index) => {\n                    const isItemSelected = isSelected(row);\n                    const labelId = `enhanced-table-checkbox-${index}`;\n\n                    return (\n                      <TableRow\n                        hover\n                        onClick={(event) => handleClick(event, row, selected, setSelected)}\n                        role=\"checkbox\"\n                        aria-checked={isItemSelected}\n                        tabIndex={-1}\n                        key={row.name}\n                        selected={isItemSelected}\n                        style={{height: '33px'}}\n                      >\n                        <TableCell padding=\"checkbox\">\n                          <Checkbox\n                            checked={isItemSelected}\n                            inputProps={{'aria-labelledby': labelId}}\n                          />\n                        </TableCell>\n                        <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\n                          {row.name}\n                        </TableCell>\n                        <TableCell align=\"right\">{row.building}</TableCell>\n                        <TableCell align=\"right\">{row.floor}</TableCell>\n                        <TableCell>{getCleaner(row)}</TableCell>\n                        <TableCell>{getStatus(row['contamination_index'])}</TableCell>\n                        <TableCell align=\"right\">{Math.min(row['contamination_index'].toFixed(2), 150)} %</TableCell>\n                        <TableCell>{getRoomTypeProp(row, 'displayName')}</TableCell>\n                        <TableCell align=\"right\">{getDate(row['last_cleaned'])}</TableCell>\n                        <TableCell align=\"right\">\n                          <Tooltip title={\"View room\"}>\n                            <IconButton color={\"secondary\"} size={\"small\"}\n                                        onClick={() => {\n                                          openRoom(row)\n                                        }}>\n                              <VisibilityOutlined/>\n                            </IconButton>\n                          </Tooltip>\n                        </TableCell>\n                      </TableRow>\n                    );\n                  })}\n              </TableBody>\n            </Table>\n          </TableContainer>\n          <TablePagination\n            rowsPerPageOptions={[5, 10, 15, 25, 50]}\n            component=\"div\"\n            count={rooms.length}\n            rowsPerPage={roomsPerPage}\n            page={page}\n            onChangePage={handleChangePage}\n            onChangeRowsPerPage={handleChangeRowsPerPage}\n          />\n        </Paper>\n        : <CircularProgress color=\"secondary\" style={{margin: '16px auto'}}/>\n      }\n      <Snackbar open={snackOpen} autoHideDuration={6000} onClose={handleSnackClose}\n                anchorOrigin={{vertical: \"top\", horizontal: \"center\"}}>\n        <Alert variant={\"filled\"} severity=\"success\" onClose={handleSnackClose}>\n          {snackText}\n        </Alert>\n      </Snackbar>\n    </PageContainer>\n  );\n}\n","import AssignmentsPage from './AssignmentsPage';\nexport default AssignmentsPage;\n","import React from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport styles from \"./RoomDetailsPage.module.scss\";\nimport {Divider, Typography} from \"@material-ui/core\";\nimport PropTypes from 'prop-types';\nimport {getRoomTypeProp} from \"../../utils/utils\";\n\n\nconst RoomDetailsCard = ({room}) => {\n\n  const getVariant = (contamination) => {\n    let variant = 'neutral';\n    if (contamination >= 60) {\n      variant = 'critical';\n    } else if (contamination >= 30) {\n      variant = 'med';\n    } else if (contamination < 30) {\n      variant = 'good';\n    }\n    return variant;\n  }\n\n  const getIndex = (index) => {\n    return Math.min(index, 150).toFixed(2);\n  }\n  return (\n    <Card className={styles.card}>\n      <div className={styles.cardContent}>\n        <Typography variant={\"h6\"} className={styles.semiBold}>Room details</Typography>\n        <Divider light={true} className={styles.divider}/>\n        <Typography variant={\"body1\"} className={styles.semiBold}>Building {room.building}</Typography>\n        <Typography variant={\"body2\"} className={styles.medium} color=\"textSecondary\">Floor {room.floor}</Typography>\n        <Divider light={true} className={styles.divider}/>\n        <div className={styles.row}>\n          <Typography variant={\"body1\"} className={styles.semiBold}>{getRoomTypeProp(room, 'displayName')}</Typography>\n          <Typography\n            variant={\"body2\"}\n            className={styles.semiBold}>\n            Cleaning time: {getRoomTypeProp(room, 'cleaningTime')} min\n          </Typography>\n        </div>\n        <Typography variant={\"body2\"} className={styles.medium}\n                    color=\"textSecondary\">Cleaning {getRoomTypeProp(room, 'frequency')} times / week\n        </Typography>\n        <Divider light={true} className={styles.divider}/>\n        <div className={styles.row}>\n          <Typography variant={\"body1\"} className={styles.semiBold}>Contamination index</Typography>\n          <Typography variant={\"body1\"}\n                      className={[styles[getVariant(room['contamination_index'])], styles.medium].join(' ')}>{getIndex(room['contamination_index'])}%</Typography>\n        </div>\n      </div>\n    </Card>\n  );\n}\n\nRoomDetailsCard.propTypes = {\n  room: PropTypes.object.isRequired\n}\n\nexport default RoomDetailsCard;","import React, {useState} from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport styles from \"./RoomDetailsPage.module.scss\";\nimport StatusDot from \"../../components/StatusDot\";\nimport PropTypes from 'prop-types';\nimport {Button, IconButton, Typography} from \"@material-ui/core\";\nimport CleanerSelect from \"../../components/CleanerSelect\";\nimport moment from \"moment\";\nimport {ClearOutlined} from \"@material-ui/icons\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Divider from \"@material-ui/core/Divider\";\nimport {assignRoom, unAssignRoom} from \"../../utils/api\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport {Link as RouterLink} from \"react-router-dom\";\nimport Link from \"@material-ui/core/Link\";\n\n\nconst RoomCleanerCard = ({room, cleaner, setCleaner}) => {\n  const [newCleaner, setNewCleaner] = useState({});\n  const [snackOpen, setSnackOpen] = useState(false);\n  const [snackText, setSnackText] = useState('');\n\n  const hasCleaner = Object.keys(cleaner).length !== 0;\n  const getColor = () => {\n    if (!hasCleaner) return 'neutral';\n    const shiftStart = moment(cleaner['shift_start'], 'HH:mm');\n    const shiftEnd = moment(cleaner['shift_end'], 'HH:mm');\n    const isBetween = moment().isBetween(shiftStart, shiftEnd);\n    return isBetween ? 'good' : 'critical';\n  }\n\n  const removeCleanerAssignment = async () => {\n    await unAssignRoom(room['_id'], cleaner['_id']);\n    setCleaner({});\n    setSnackText('Cleaner unassigned');\n    setSnackOpen(true);\n  }\n\n  const assignNewCleaner = async () => {\n    await assignRoom(room['_id'], newCleaner['_id']);\n    setCleaner(newCleaner);\n    setNewCleaner({});\n    setSnackText('Cleaner assigned');\n    setSnackOpen(true);\n  }\n\n  const handleSnackClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setSnackOpen(false);\n  };\n\n  return (\n    <Card className={styles.card} style={{height: 'min-content'}}>\n      <div className={styles.cardContent}>\n        <div className={styles.row}>\n          <StatusDot variant={getColor()} size={'tiny'} tooltip={'Cleaner name'}/>\n          {hasCleaner ? (\n              <>\n                <Link component={RouterLink} style={{marginLeft: 16}} color=\"secondary\"\n                      to={{\n                        pathname: `/cleaners/${cleaner['_id']}`,\n                        state: {id: cleaner['_id']}\n                      }}>\n                  <Typography variant={'h6'} className={styles.semiBold}>{cleaner.name}</Typography>\n                </Link>\n                <Tooltip title=\"Remove assignment\">\n                  <IconButton style={{marginLeft: 'auto'}} size={\"small\"} onClick={removeCleanerAssignment}>\n                    <ClearOutlined/>\n                  </IconButton>\n                </Tooltip>\n              </>\n            )\n            :\n            <CleanerSelect onChange={(event, newValue) => setNewCleaner(newValue)} style={{marginLeft: 16}}/>\n          }\n        </div>\n        {newCleaner && Object.keys(newCleaner).length !== 0 && (\n          <>\n            <Divider className={styles.divider}/>\n            <div className={styles.row}>\n              <Button onClick={assignNewCleaner} variant={\"contained\"} color={\"secondary\"}\n                      className={styles.btn}>Assign</Button>\n            </div>\n          </>\n        )}\n      </div>\n      <Snackbar open={snackOpen} autoHideDuration={6000} onClose={handleSnackClose}\n                anchorOrigin={{vertical: \"top\", horizontal: \"center\"}}>\n        <Alert variant={\"filled\"} severity=\"success\" onClose={handleSnackClose}>{snackText}</Alert>\n      </Snackbar>\n    </Card>\n  )\n}\n\nRoomCleanerCard.propTypes = {\n  room: PropTypes.object.isRequired,\n  cleaner: PropTypes.object\n}\n\nexport default RoomCleanerCard;","import React from 'react';\nimport styles from './RoomDetailsPage.module.scss';\nimport {Divider, Typography} from \"@material-ui/core\";\nimport Card from \"@material-ui/core/Card\";\nimport moment from 'moment';\nimport {makeStyles} from \"@material-ui/core/styles\";\n\n\nconst useStyles = makeStyles({\n  root: {\n    lineHeight: '200%'\n  },\n});\nconst CommentsList = ({reports}) => {\n  const classes = useStyles();\n\n  return (\n    <Card className={styles.comments}>\n      <div className={styles.cardContent}>\n        <Typography variant={\"h6\"} className={styles.semiBold} style={{marginBottom: 16}}>Cleaner comments:</Typography>\n        {reports.length > 0 ? (\n          reports.reduce((result, report) => {\n            const showReport = report.comments !== '';\n            if (showReport) {\n              const time = moment(report['cleaning_time']);\n              result.push(\n                <div key={report['_id']} className={styles.comment}>\n                  <Divider />\n                  <Typography variant={\"h6\"} className={classes.root}>{time.format('D MMM, YYYY')}</Typography>\n                  <Typography variant={\"h6\"} className={[styles.semiBold, styles.author, classes.root].join(' ')}>{report['cleaner_name']}</Typography>\n                  <Typography variant={\"body1\"} className={classes.root}>{report.comments}</Typography>\n                </div>\n              );\n            }\n            return result;\n          }, [])\n        ) :\n        <Typography variant={\"body1\"} className={styles.semiBold}>No comments</Typography>\n        }\n      </div>\n    </Card>\n  );\n}\n\nexport default CommentsList;","import React from \"react\";\nimport {\n  IconButton,\n  Paper,\n  Table,\n  TableContainer,\n  TablePagination,\n  TableRow, Tooltip,\n  Typography\n} from \"@material-ui/core\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport {Check, CloseRounded, VisibilityOutlined} from \"@material-ui/icons\";\nimport {Link as RouterLink, useHistory} from 'react-router-dom';\nimport moment from \"moment\";\nimport styles from './CleaningReportTable.module.scss';\nimport Link from \"@material-ui/core/Link\";\nimport PropTypes from 'prop-types';\nimport {getComparator, stableSort} from \"../../utils/tableUtils\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport EnhancedTableHead from \"../RoomSelector/EnhancedTableHead\";\n\nfunction ReportsTableHead(props) {\n  const {classes, order, orderBy, onRequestSort, type} = props;\n  const headCells = [\n    {id: 'cleaning_time', numeric: true, disablePadding: false, label: 'Cleaning time'},\n    {id: 'cleaning_successful', numeric: false, disablePadding: false, label: 'Cleaning successful'},\n    {id: 'action', numeric: true, disablePadding: false, label: '', sort: false},\n  ];\n  if (type === 'room') {\n    headCells.unshift({id: 'cleaner', numeric: false, disablePadding: false, label: 'Cleaner'});\n  } else {\n    headCells.unshift({id: 'room', numeric: false, disablePadding: false, label: 'Room'});\n  }\n\n  return (\n    <EnhancedTableHead\n      classes={classes}\n      order={order}\n      orderBy={orderBy}\n      onRequestSort={onRequestSort}\n      headCells={headCells}\n    />\n  );\n}\n\nReportsTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  type: PropTypes.oneOf(['room', 'cleaner']).isRequired,\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 750,\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n}));\n\nconst CleaningReportsTable = ({reports, type}) => {\n  const history = useHistory();\n  const classes = useStyles();\n  const [order, setOrder] = React.useState('desc');\n  const [orderBy, setOrderBy] = React.useState('cleaning_time');\n  const [page, setPage] = React.useState(0);\n  const [reportsPerPage, setReportsPerPage] = React.useState(10);\n  const viewReport = (report) => {\n    const id = report['_id'];\n    history.push({\n      pathname: `/rooms/reports/${id}`,\n      state: {id}\n    })\n  }\n  const getIcon = (successful) => {\n    return successful ? (<Check className={styles.good}/>) : (<CloseRounded color={\"error\"}/>);\n  }\n\n  const getCleaner = (report) => {\n    return (<Link component={RouterLink} color=\"secondary\"\n                  to={{\n                    pathname: `/cleaners/${report['cleaner_id']}`,\n                    state: {id: report['cleaner_id']}\n                  }}>\n      {report['cleaner_name']}\n    </Link>);\n  }\n\n  const getRoom = (report) => {\n    return (<Link component={RouterLink} color=\"secondary\"\n                  to={{\n                    pathname: `/rooms/${report['room_id']}`,\n                    state: {id: report['room_id']}\n                  }}>\n      {report['room_name']}\n    </Link>);\n  }\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setReportsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  return (\n    <div>\n      <Typography variant={\"h5\"} style={{margin: '16px 0'}} className={styles.semiBold}>Past cleaning\n        reports</Typography>\n      {reports.length > 0 ?\n        <Paper className={classes.paper}>\n          <TableContainer>\n            <Table\n              className={classes.table}\n              aria-labelledby=\"tableTitle\"\n              aria-label=\"enhanced table\"\n              size={'small'}\n            >\n              <ReportsTableHead\n                classes={classes}\n                order={order}\n                orderBy={orderBy}\n                onRequestSort={handleRequestSort}\n                type={type}\n              />\n              <TableBody>\n                {stableSort(reports, getComparator(order, orderBy))\n                  .slice(page * reportsPerPage, page * reportsPerPage + reportsPerPage)\n                  .map((row, index) => {\n                    const labelId = `enhanced-table-checkbox-${index}`;\n                    return (\n                      <TableRow\n                        hover\n                        tabIndex={-1}\n                        key={labelId}\n                        style={{height: '33px'}}\n                      >\n                        <TableCell component=\"th\" id={labelId} scope=\"row\">\n                          {type === 'room' ? getCleaner(row) : getRoom(row)}\n                        </TableCell>\n                        <TableCell align=\"right\">{moment(row['cleaning_time']).format('DD.MM.YYYY HH:mm')}</TableCell>\n                        <TableCell>{getIcon(row['cleaning_succesful'])}</TableCell>\n                        <TableCell align=\"right\">\n                          <Tooltip title={\"View report\"}>\n                            <IconButton color={\"secondary\"} size={\"small\"}\n                                        onClick={() => {\n                                          viewReport(row)\n                                        }}>\n                              <VisibilityOutlined/>\n                            </IconButton>\n                          </Tooltip>\n                        </TableCell>\n                      </TableRow>\n                    );\n                  })}\n              </TableBody>\n            </Table>\n          </TableContainer>\n          <TablePagination\n            rowsPerPageOptions={[5, 10, 25, 50]}\n            component=\"div\"\n            count={reports.length}\n            rowsPerPage={reportsPerPage}\n            page={page}\n            onChangePage={handleChangePage}\n            onChangeRowsPerPage={handleChangeRowsPerPage}\n          />\n        </Paper>\n        : <Typography variant={\"h6\"}>No cleaning Reports</Typography>\n      }\n    </div>\n  );\n}\nCleaningReportsTable.propTypes = {\n  reports: PropTypes.array.isRequired,\n  type: PropTypes.oneOf(['cleaner', 'room']).isRequired\n}\nexport default CleaningReportsTable;","import React, {PureComponent} from 'react';\nimport PropTypes from \"prop-types\";\nimport {\n  XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, LineChart, Line\n} from 'recharts';\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport styles from \"./ActivityGraph.module.scss\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {Typography} from \"@material-ui/core\";\nimport moment from \"moment\";\nimport {LTTB} from \"downsample/methods/LTTB\";\n\nfunction pad(n) {\n  return n < 10 ? '0' + n : n\n}\n\nconst ActivityGraph = ({activity, lastCleaned, loading, title, type}) => {\n  type = type || 'room';\n  let formattedData = [];\n  if (activity && lastCleaned) {\n    let start = moment(lastCleaned).valueOf();\n    const step = 20000;\n    if (type === 'room') {\n      formattedData.push({\n        y: activity[0],\n        x: new Date(start)\n      });\n      for (let i = 1; i < activity.length; i++) {\n        formattedData.push({\n          y: activity[i],\n          x: new Date(start + step * i)\n        });\n      }\n    } else {\n      start = start - step * activity.length;\n      for (let i = 0; i < activity.length; i++) {\n        formattedData.push({\n          y: activity[i],\n          x: new Date(start + step * i)\n        });\n      }\n    }\n    formattedData = LTTB(formattedData, 400);\n    formattedData.forEach((point) => {\n      point.x = pad(point.x.getHours()) + ':' + pad(point.x.getMinutes());\n    });\n  }\n  return (\n    <div style={{margin: '16px 0 32px'}}>\n      <Paper className={styles.container}>\n        <Typography variant={\"h6\"} className={styles.title}>{title || 'Room activity since last cleaning'}</Typography>\n        <>\n          {loading ? <CircularProgress color={\"secondary\"} style={{margin: 'auto'}}/> :\n            <ResponsiveContainer width=\"100%\" height={400} className={styles.chart}>\n              {formattedData.length === 0 ?\n                <Typography variant={\"h6\"} className={styles.title} style={{textAlign: 'center'}}>No data</Typography>\n                :\n                <LineChart data={formattedData}>\n                  <XAxis dataKey=\"x\" label={{\n                    value: moment(lastCleaned).format('DD.MM.YY'),\n                    position: 'insideBottomLeft',\n                    offset: -20\n                  }} tick={<CustomizedAxisTick/>} height={48}/>\n                  <YAxis/>\n                  <CartesianGrid strokeDasharray=\"3 3\"/>\n                  <Tooltip/>\n                  <Legend/>\n                  <Line type=\"monotone\" dataKey=\"y\" name=\"Activity\" stroke=\"#8884d8\"\n                        strokeWidth={2}/>\n                </LineChart>\n              }\n\n            </ResponsiveContainer>\n          }\n        </>\n      </Paper>\n    </div>\n  )\n}\n\nclass CustomizedAxisTick extends PureComponent {\n  render() {\n    const {\n      x, y, payload,\n    } = this.props;\n\n    return (\n      <g transform={`translate(${x},${y})`}>\n        <text x={0} y={0} dy={16} textAnchor=\"end\" fill=\"#666\" transform=\"rotate(-35)\">{payload.value}</text>\n      </g>\n    );\n  }\n}\n\nActivityGraph.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  activity: PropTypes.array.isRequired,\n  lastCleaned: PropTypes.string.isRequired,\n  title: PropTypes.string,\n  type: PropTypes.oneOf(['report', 'room'])\n};\n\nexport default ActivityGraph;","import ActivityGraph from './ActivityGraph';\nexport default ActivityGraph;","import RoomDetailsPage from './RoomDetailsPage';\nexport default RoomDetailsPage;","import React, {useEffect, useState} from \"react\";\nimport {useHistory, useParams} from 'react-router-dom';\nimport {Button, Typography} from \"@material-ui/core\";\nimport {getAssignedCleaners, getFloorplan, getReports, getRoom, getRoomHeatmap} from \"../../utils/api\";\nimport PageContainer from \"../../containers/PageContainer\";\nimport styles from \"./RoomDetailsPage.module.scss\";\nimport RoomDetailsCard from \"./RoomDetailsCard\";\nimport RoomCleanerCard from \"./RoomCleanerCard\";\nimport CommentsList from \"./RoomReportComments\";\nimport CleaningReportsTable from \"../../components/CleaningReportsTable/CleaningReportsTable\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport {update_img} from \"../../utils/utils\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport ActivityGraph from \"../../components/Charts/ActivityGraph\";\n\nconst RoomDetailsPage = () => {\n  const history = useHistory();\n  const params = useParams();\n  const [roomLoaded, setRoomLoaded] = useState(false);\n  const [room, setRoom] = useState({});\n  const [reports, setReports] = useState([]);\n  const [cleaner, setCleaner] = useState({});\n  const [image, setImage] = useState('');\n  const [showMap, setShowMap] = useState(false);\n  const [showActivity, setShowActivity] = useState(false);\n  const [error, setError] = useState(false);\n  const [errorMsg, setErrorMsg] = useState('');\n\n  useEffect(() => {\n    getRoom(params.id)\n      .then((room) => {\n          setRoom(room);\n          setRoomLoaded(true);\n        },\n        (error) => console.log(error));\n    getAssignedCleaners(params.id)\n      .then((cleaners) => {\n        if (cleaners.length >= 1) {\n          setCleaner(cleaners[0]);\n        }\n      }, (error) => console.log(error));\n    getReports(params.id)\n      .then((reports) => {\n        setReports(reports.sort((a, b) => new Date(b['cleaning_time']) - new Date(a['cleaning_time'])));\n      })\n    getFloorplan(params.id).then((img) => {\n      setImage(URL.createObjectURL(img));\n    }).catch((err) => {\n      console.log(err)\n    })\n  }, [params.id]);\n\n  useEffect(() => {\n    if (showMap) {\n      getRoomHeatmap(params.id, 'contamination')\n        .then((response) => {\n          const aux = document.getElementById('aux');\n          const canvas = document.getElementById('main');\n          let scaler = 1n;\n          if (room['is_simulated']) {\n            if (room['contamination_index'] >= 60) {\n              scaler = 20n;\n            } else if (room['contamination_index'] >= 30) {\n              scaler = 10n;\n            } else {\n              scaler = 5n;\n            }\n          }\n          // eslint-disable-next-line no-undef\n          update_img(response, aux, canvas, scaler);\n          canvas.style.height = canvas.offsetWidth / (72/56) + 'px';\n        })\n        .catch((err) => {\n          setShowMap(false);\n          console.log(err.message)\n          setErrorMsg(err.message);\n          setError(true);\n        })\n    }\n  }, [params.id, room, showMap])\n  const navigateToMap = () => {\n    history.push({\n      pathname: `/rooms`,\n      state: {id: params.id, action: 'show'}\n    })\n  }\n\n  const handleSnackClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setError(false);\n    setShowMap(false);\n  };\n\n  const disableActivity = (room) => {\n    if (!room['between_cleaning_plot']) {\n      return true;\n    }\n    return !room['last_cleaned'] && !room['cleaning_end_time'];\n  }\n\n  return (\n    <PageContainer style={{width: '65%'}}>\n      {roomLoaded ? (\n        <>\n          <div className={styles.titleRow}>\n            <Typography variant={\"h4\"}>Room: {room.name}</Typography>\n            <Button variant={\"text\"} onClick={navigateToMap} size={\"small\"}>Show on map</Button>\n          </div>\n          <div className={styles.content}>\n            <div className={styles.detailsRow}>\n              <RoomDetailsCard room={room}/>\n              <RoomCleanerCard room={room} cleaner={cleaner} setCleaner={setCleaner}/>\n            </div>\n            <div className={styles.row} style={{marginTop: 32}}>\n              <Typography variant={\"h5\"}>Room map</Typography>\n              <Button variant={\"outlined\"} color={\"primary\"} onClick={() => setShowMap(!showMap)}>\n                {showMap ? 'Hide map' : 'Show Map'}\n              </Button>\n            </div>\n            {showMap && (\n              <div className={styles.container}>\n                <canvas id=\"aux\" style={{display: 'none'}}/>\n                <canvas id=\"main\" width={72} height={56} className={styles.map}/>\n                <img src={image} alt={\"\"} className={styles.overlay}/>\n              </div>\n            )}\n            <div className={styles.row} style={{marginTop: 32}}>\n              <Typography variant={\"h5\"}>Room activity</Typography>\n              <Button variant={\"outlined\"} color={\"primary\"} onClick={() => setShowActivity(!showActivity)} disabled={disableActivity(room)}>\n                {showActivity ? 'Hide activity graph' : 'Show activity graph'}\n              </Button>\n            </div>\n            {showActivity && <ActivityGraph loading={!roomLoaded} activity={room['between_cleaning_plot']} lastCleaned={room['last_cleaned'] || room['cleaning_end_time']}/>}\n            <CommentsList reports={reports}/>\n            <CleaningReportsTable reports={reports} type={'room'}/>\n          </div>\n        </>\n      ) : <CircularProgress color=\"secondary\" style={{margin: '16px auto'}}/>}\n      <Snackbar open={error} autoHideDuration={6000} onClose={handleSnackClose}>\n        <Alert onClose={() => setError(false)} severity=\"error\">{errorMsg}</Alert>\n      </Snackbar>\n    </PageContainer>\n  );\n}\n\nexport default RoomDetailsPage;","import CleaningReportsTable from './CleaningReportsTable';\nexport default CleaningReportsTable;","import * as Yup from \"yup\";\nimport {editCleaner} from \"../../utils/api\";\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Grid,\n} from \"@material-ui/core\";\nimport {Field, Form, Formik} from \"formik\";\nimport {TextField} from \"formik-material-ui\";\nimport React from \"react\";\nimport ShiftPicker from \"../../components/ShiftPicker/ShiftPicker\";\n\nconst validationSchema = Yup.object({\n  name: Yup.string().required()\n});\n\nconst EditCleanerDialog = ({cleaner, open, setOpen, onSave}) => {\n  const handleClose = () => {\n    setOpen(false);\n  }\n  const start = cleaner['shift_start'].split(':');\n  const end = cleaner['shift_end'].split(':');\n\n  const initialValues = {\n    name: cleaner.name,\n    startHour: start.length > 0 ? start[0] : '',\n    endHour: end.length > 0 ? end[0] : '',\n    startMinutes: start.length > 0 ? start[1] : '',\n    endMinutes: end.length > 0 ? end[1] : ''\n  }\n\n  const handleSubmit = async (vars, {setSubmitting}) => {\n    const edited = vars;\n    edited['_id'] = cleaner['_id'];\n    edited['shift_start'] = `${vars.startHour.padStart(2, '0')}:${vars.startMinutes.padStart(2, '0')}`;\n    edited['shift_end'] = `${vars.endHour.padStart(2, '0')}:${vars.endMinutes.padStart(2, '0')}`;\n    const res = await editCleaner(edited);\n    console.log(res);\n    setSubmitting(false);\n    setOpen(false);\n    onSave();\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n      <DialogTitle id=\"form-dialog-title\">Edit cleaner</DialogTitle>\n      <Formik initialValues={initialValues} onSubmit={handleSubmit} validationSchema={validationSchema}>\n        {({isSubmitting, resetForm, values}) => (\n          <Form>\n            <DialogContent>\n              <Grid container spacing={2}>\n                <Grid item xs={12}>\n                  <Field\n                    component={TextField}\n                    margin=\"dense\"\n                    id=\"name\"\n                    label=\"Name\"\n                    type=\"text\"\n                    name=\"name\"\n                    fullWidth\n                  />\n                </Grid>\n                <ShiftPicker/>\n              </Grid>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={handleClose} color=\"primary\">\n                Cancel\n              </Button>\n              <Button type=\"submit\" color=\"primary\">\n                Save\n              </Button>\n            </DialogActions>\n          </Form>\n        )}\n      </Formik>\n    </Dialog>\n  );\n}\n\nexport default EditCleanerDialog;\n","import React, {useEffect, useState} from 'react';\nimport PropTypes from \"prop-types\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport {assignRoomsToCleaner, getRooms, unAssignRooms} from \"../../utils/api\";\nimport styles from \"./RoomSelector.module.scss\";\nimport {\n  Button,\n  Checkbox, Dialog, DialogActions, DialogContent,\n  IconButton,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TablePagination,\n  TableRow, Toolbar, Tooltip, Typography\n} from \"@material-ui/core\";\nimport {getComparator, handleClick, stableSort} from \"../../utils/tableUtils\";\nimport {getRoomTypeProp, getStatus, mergeCleaners} from \"../../utils/utils\";\nimport {FilterList, VisibilityOutlined} from \"@material-ui/icons\";\nimport {useHistory} from \"react-router-dom\";\nimport moment from \"moment\";\nimport {lighten, makeStyles} from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\nimport TableFilters from \"../../pages/AssignmentsPage/TableFilters\";\nimport EnhancedTableHead from \"./EnhancedTableHead\";\n\nconst headCells = [\n  {id: 'name', numeric: false, disablePadding: true, label: 'Name'},\n  {id: 'building', numeric: true, disablePadding: false, label: 'Building'},\n  {id: 'floor', numeric: true, disablePadding: false, label: 'Floor'},\n  {id: 'cleaner_name', numeric: false, disablePadding: false, label: 'Assigned Cleaner'},\n  {id: 'status', numeric: false, disablePadding: false, label: 'Status'},\n  {id: 'contamination_index', numeric: true, disablePadding: false, label: 'Contamination index'},\n  {id: 'room_type', numeric: false, disablePadding: false, label: 'Room type'},\n  {id: 'last_cleaned', numeric: true, disablePadding: false, label: 'Last cleaned'},\n  {id: 'action', numeric: true, disablePadding: false, label: 'Action'},\n];\n\nconst useToolbarStyles = makeStyles((theme) => ({\n  root: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n    textAlign: 'left',\n    flexDirection: 'column'\n  },\n  highlight:\n    theme.palette.type === 'light'\n      ? {\n        color: theme.palette.secondary.main,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n      }\n      : {\n        color: theme.palette.text.primary,\n        backgroundColor: theme.palette.secondary.dark,\n      },\n  filters: {\n    minHeight: 96\n  }\n}));\n\nconst EnhancedTableToolbar = (props) => {\n  const classes = useToolbarStyles();\n  const {numSelected, rooms, setRooms} = props;\n  const [filter, showFilters] = React.useState(false);\n\n\n  return (\n    <Toolbar\n      className={clsx(classes.root, {\n        [classes.highlight]: numSelected > 0,\n        [classes.filters]: filter\n      })}\n    >\n      <div className={styles.row}>\n        {numSelected > 0 ? (\n          <Typography className={styles.title} color=\"inherit\" variant=\"subtitle1\" component=\"div\"\n                      style={{fontWeight: 600}}>\n            {numSelected} selected\n          </Typography>\n        ) : (\n          <Typography className={styles.title} variant=\"h5\" id=\"tableTitle\" component=\"div\" style={{fontWeight: '600'}}>\n            Assign rooms to cleaner\n          </Typography>\n        )}\n        <Tooltip title=\"Filter list\">\n          <IconButton aria-label=\"filter list\" onClick={() => {\n            showFilters(!filter);\n          }}>\n            <FilterList color={filter ? 'secondary' : 'inherit'}/>\n          </IconButton>\n        </Tooltip>\n      </div>\n      {filter &&\n      <div className={styles.row}>\n        <TableFilters rooms={rooms} setRooms={setRooms}/>\n      </div>\n      }\n    </Toolbar>\n  );\n};\n\nEnhancedTableToolbar.propTypes = {\n  numSelected: PropTypes.number.isRequired,\n  setRooms: PropTypes.func.isRequired,\n  rooms: PropTypes.array.isRequired,\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 750,\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n}));\n\nconst RoomSelector = ({cleaner, onClose, open, setOpen, setSnackOpen, setSnackText}) => {\n  const classes = useStyles();\n  const [order, setOrder] = React.useState('asc');\n  const [orderBy, setOrderBy] = React.useState('name');\n  const [selected, setSelected] = React.useState([]);\n  const [page, setPage] = React.useState(0);\n  const [roomsPerPage, setRoomsPerPage] = React.useState(10);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [rooms, setRooms] = useState([]);\n  const [origRooms, setOrigRooms] = useState([]);\n  const history = useHistory();\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleSelectAllClick = (event) => {\n    if (event.target.checked) {\n      const newSelecteds = rooms.map((n) => n);\n      setSelected(newSelecteds);\n      return;\n    }\n    setSelected([]);\n  };\n\n  useEffect(() => {\n    getRooms(null, null, true)\n      .then((rooms) => {\n          rooms = mergeCleaners(rooms);\n          console.log(rooms);\n          setRooms(rooms);\n          setOrigRooms(rooms);\n          setIsLoaded(true);\n        },\n        (error) => {\n          setIsLoaded(true);\n          console.log(error);\n        });\n  }, []);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRoomsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  const isSelected = (name) => selected.indexOf(name) !== -1;\n\n  const getDate = (date) => {\n    return date ? moment(date).format('YYYY-MM-DD HH:mm:ss') : 'Never';\n  }\n\n  const openRoom = (room) => {\n    const id = room['_id'];\n    history.push({\n      pathname: `/rooms/${id}`,\n      state: {id}\n    })\n  }\n\n  const getCleaner = (room) => {\n    const cleaners = room['assigned_cleaners'];\n    const cleaner = cleaners.length > 0 && cleaners[0];\n    if (!cleaner) {\n      return '-';\n    }\n    return cleaner.name;\n  }\n  const handleClose = () => {\n    onClose();\n    setOpen(false);\n  }\n\n  const assign = async () => {\n    const selectedWithCleaner = selected.filter((room) => {\n      return room['assigned_cleaners'].length > 0;\n    });\n    if (selectedWithCleaner.length > 0) {\n      await unAssignRooms(selectedWithCleaner);\n    }\n    await assignRoomsToCleaner(selected, cleaner['_id'])\n    setSnackText('Rooms assigned');\n    setSnackOpen(true);\n    onClose();\n    setOpen(false);\n  }\n  return (\n    <>\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\" disableBackdropClick={true}\n              maxWidth={\"lg\"}>\n        <DialogContent>\n          {isLoaded ?\n            <Paper className={classes.paper}>\n              <EnhancedTableToolbar numSelected={selected.length} rooms={origRooms} setRooms={setRooms}/>\n              <TableContainer>\n                <Table\n                  className={classes.table}\n                  aria-labelledby=\"tableTitle\"\n                  aria-label=\"enhanced table\"\n                  size={'small'}\n                >\n                  <EnhancedTableHead\n                    classes={classes}\n                    numSelected={selected.length}\n                    order={order}\n                    orderBy={orderBy}\n                    onSelectAllClick={handleSelectAllClick}\n                    onRequestSort={handleRequestSort}\n                    rowCount={rooms.length}\n                    headCells={headCells}\n                    type={\"selection\"}\n                  />\n                  <TableBody>\n                    {stableSort(rooms, getComparator(order, orderBy))\n                      .slice(page * roomsPerPage, page * roomsPerPage + roomsPerPage)\n                      .map((row, index) => {\n                        const isItemSelected = isSelected(row);\n                        const labelId = `enhanced-table-checkbox-${index}`;\n\n                        return (\n                          <TableRow\n                            hover\n                            onClick={(event) => handleClick(event, row, selected, setSelected)}\n                            role=\"checkbox\"\n                            aria-checked={isItemSelected}\n                            tabIndex={-1}\n                            key={row.name}\n                            selected={isItemSelected}\n                            style={{height: '33px'}}\n                          >\n                            <TableCell padding=\"checkbox\">\n                              <Checkbox\n                                checked={isItemSelected}\n                                inputProps={{'aria-labelledby': labelId}}\n                              />\n                            </TableCell>\n                            <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\n                              {row.name}\n                            </TableCell>\n                            <TableCell align=\"right\">{row.building}</TableCell>\n                            <TableCell align=\"right\">{row.floor}</TableCell>\n                            <TableCell>{getCleaner(row)}</TableCell>\n                            <TableCell>{getStatus(row['contamination_index'])}</TableCell>\n                            <TableCell align=\"right\">{row['contamination_index'].toFixed(2)}</TableCell>\n                            <TableCell>{getRoomTypeProp(row, 'displayName')}</TableCell>\n                            <TableCell align=\"right\">{getDate(row['last_cleaned'])}</TableCell>\n                            <TableCell align=\"right\">\n                              <IconButton color={\"secondary\"} size={\"small\"}\n                                          onClick={() => {\n                                            openRoom(row)\n                                          }}>\n                                <VisibilityOutlined/>\n                              </IconButton>\n                            </TableCell>\n                          </TableRow>\n                        );\n                      })}\n                  </TableBody>\n                </Table>\n              </TableContainer>\n              <TablePagination\n                rowsPerPageOptions={[5, 10, 25, 50]}\n                component=\"div\"\n                count={rooms.length}\n                rowsPerPage={roomsPerPage}\n                page={page}\n                onChangePage={handleChangePage}\n                onChangeRowsPerPage={handleChangeRowsPerPage}\n              />\n            </Paper>\n            : <CircularProgress color=\"secondary\" style={{margin: '16px auto'}}/>\n          }\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button color=\"primary\" onClick={assign} disabled={selected.length === 0} variant={\"contained\"}>\n            Assign\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n\nRoomSelector.propTypes = {\n  cleaner: PropTypes.object.isRequired,\n  onClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  setOpen: PropTypes.func.isRequired,\n  setSnackOpen: PropTypes.func.isRequired,\n  setSnackText: PropTypes.func.isRequired\n}\n\nexport default RoomSelector;","import RoomSelector from './RoomSelector';\nexport default RoomSelector;","import React, {useEffect, useState} from \"react\";\nimport {useParams, useHistory, Link as RouterLink} from 'react-router-dom';\nimport {IconButton, Paper, Table, TableContainer, TableHead, TableRow, Typography} from \"@material-ui/core\";\nimport {getAssignedRooms, getCleaner, getReports, unAssignRoom, deleteCleaner as removeCleaner} from \"../../utils/api\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport {AccountCircleRounded, AddCircleOutline, Clear, DeleteForever, Edit} from \"@material-ui/icons\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport PageContainer from \"../../containers/PageContainer\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport {getRoomTypeProp, getStatus} from \"../../utils/utils\";\nimport CleaningReportsTable from \"../../components/CleaningReportsTable\";\nimport styles from './CleanerDetailsPage.module.scss';\nimport Button from \"@material-ui/core/Button\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport EditCleanerDialog from \"./EditCleanerDialog\";\nimport RoomSelector from \"../../components/RoomSelector\";\nimport Link from \"@material-ui/core/Link\";\n\nconst CleanerDetailsPage = () => {\n  const history = useHistory();\n  const params = useParams();\n  const [cleanerLoaded, setCleanerLoaded] = useState(false);\n  const [editing, setEditing] = useState(false);\n  const [cleaner, setCleaner] = useState({});\n  const [reports, setReports] = useState([]);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [open, setOpen] = React.useState(false);\n  const [data, getData] = React.useState(false);\n  const [snackOpen, setSnackOpen] = useState(false);\n  const [snackText, setSnackText] = useState('Cleaned deleted');\n  const [showRoomSelector, setShowRoomSelector] = useState(false);\n\n  const handleConfirmClose = () => {\n    setOpen(false);\n  };\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const deleteCleaner = async () => {\n    await removeCleaner(cleaner['_id']);\n    setSnackText('Cleaner Deleted');\n    setSnackOpen(true);\n    history.goBack();\n  }\n\n  const saved = () => {\n    setSnackText('Saved');\n    setSnackOpen(true);\n    getData(true);\n  }\n  const handleSnackClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setSnackOpen(false);\n  };\n\n  useEffect(() => {\n    getCleaner(params.id)\n      .then((room) => {\n          console.log(room);\n          setCleaner(room);\n          setCleanerLoaded(true);\n        },\n        (error) => {\n          console.log(error);\n        });\n    getReports(null, params.id)\n      .then((reports) => {\n        setReports(reports.sort((a, b) => new Date(b['cleaning_time']) - new Date(a['cleaning_time'])));\n      })\n  }, [params.id, data]);\n\n  return (\n    <PageContainer style={{textAlign: 'start'}}>\n      <div className={styles.row} style={{justifyContent: 'space-between'}}>\n        <Typography variant={\"h5\"} className={styles.semiBold}>Cleaner details</Typography>\n        <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick} variant={\"outlined\"}\n                color={\"primary\"}>\n          Actions\n        </Button>\n        <Menu\n          id=\"simple-menu\"\n          anchorEl={anchorEl}\n          keepMounted\n          open={Boolean(anchorEl)}\n          onClose={handleClose}\n        >\n          <MenuItem onClick={() => {\n            handleClose();\n            setEditing(true);\n          }}>\n            <ListItemIcon>\n              <Edit fontSize=\"small\" style={{color: '#808080'}}/>\n            </ListItemIcon>\n            <ListItemText primary=\"Edit cleaner\"/>\n          </MenuItem>\n          <MenuItem onClick={() => {\n            setOpen(true);\n            handleClose()\n          }}>\n            <ListItemIcon>\n              <DeleteForever color={\"error\"} fontSize=\"small\"/>\n            </ListItemIcon>\n            <ListItemText primary=\"Delete cleaner\"/>\n          </MenuItem>\n        </Menu>\n      </div>\n      {cleanerLoaded ? (\n        <>\n          <div className={[styles.row, styles.content].join(' ')}>\n            <AccountCircleRounded className={styles.avatar}/>\n            <div>\n              <Typography variant={\"h6\"} className={styles.semiBold}>Cleaner name: {cleaner.name}</Typography>\n              <Typography variant={\"body1\"} color={\"textSecondary\"}>\n                Shift: {cleaner['shift_start']} - {cleaner['shift_end']}\n              </Typography>\n            </div>\n          </div>\n          <div className={styles.row} style={{justifyContent: 'space-between'}}>\n            <Typography variant={\"h5\"} className={styles.semiBold}>Assigned Rooms</Typography>\n            <Tooltip title={\"Add assignments\"}>\n              <IconButton onClick={() => {\n                setShowRoomSelector(true);\n              }}>\n                <AddCircleOutline/>\n              </IconButton>\n            </Tooltip>\n          </div>\n          <AssignmentsTable cleaner={cleaner} setSnackOpen={setSnackOpen} setSnackText={setSnackText}/>\n          <CleaningReportsTable reports={reports} type={\"cleaner\"}/>\n        </>\n      ) : <CircularProgress color=\"secondary\" style={{margin: '16px auto'}}/>}\n      <Dialog\n        open={open}\n        onClose={handleConfirmClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{\"Delete cleaner\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            Are you sure you want to delete the cleaner?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleConfirmClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={() => {\n            handleConfirmClose();\n            deleteCleaner();\n          }} color=\"primary\" autoFocus>\n            Delete\n          </Button>\n        </DialogActions>\n      </Dialog>\n      {cleanerLoaded &&\n      <EditCleanerDialog cleaner={cleaner} open={editing} setOpen={setEditing} onSave={saved}/>}\n      <RoomSelector setSnackText={setSnackText} open={showRoomSelector} setSnackOpen={setSnackOpen}\n                    setOpen={setShowRoomSelector} onClose={() => {\n        getData(true);\n      }} cleaner={cleaner}/>\n      <Snackbar open={snackOpen} autoHideDuration={6000} onClose={handleSnackClose}\n                anchorOrigin={{vertical: \"top\", horizontal: \"center\"}}>\n        <Alert variant={\"filled\"} severity=\"success\" onClose={handleSnackClose}>\n          {snackText}\n        </Alert>\n      </Snackbar>\n    </PageContainer>\n  );\n}\n\nconst AssignmentsTable = ({cleaner, setSnackOpen, setSnackText}) => {\n  const [assignments, setAssignments] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    getAssignedRooms(cleaner['_id'])\n      .then((assignments) => {\n        console.log(assignments);\n        setAssignments(assignments);\n        setLoading(false);\n      }, (error) => {\n        console.log(error);\n      })\n  }, [cleaner]);\n\n  const removeAssignment = async (room) => {\n    const response = await unAssignRoom(room['_id'], cleaner['_id']);\n    console.log(response);\n    const newAssignments = [...assignments];\n    newAssignments.splice(assignments.indexOf(room), 1);\n    setAssignments(newAssignments);\n    setSnackText('Assignment removed');\n    setSnackOpen(true);\n  }\n\n  const getRoom = (room) => {\n    return (<Link component={RouterLink} color=\"secondary\"\n                  to={{\n                    pathname: `/rooms/${room['_id']}`,\n                    state: {id: room['_id']}\n                  }}>\n      {room.name}\n    </Link>);\n  }\n\n  const getCleaningStatus = (room) => {\n    if (room['is_cleaning']) {\n      return 'Cleaning in progress';\n    }\n    if (room['contamination_index'] > 60) {\n      return 'Needs cleaning';\n    }\n    return 'Clean';\n  }\n\n  return (\n    <div style={{margin: '16px 0'}}>\n      {loading ? <CircularProgress color=\"secondary\"/> :\n        (\n          assignments.length > 0 ?\n            <TableContainer component={Paper}>\n              <Table size={\"small\"}>\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Room</TableCell>\n                    <TableCell align=\"right\">Status</TableCell>\n                    <TableCell align=\"right\">Contamination Index</TableCell>\n                    <TableCell align=\"right\">Room type</TableCell>\n                    <TableCell align=\"right\">Cleaning Status</TableCell>\n                    <TableCell>Action</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {assignments.map((row) => (\n                    <TableRow key={row['_id']}>\n                      <TableCell component=\"th\" scope=\"row\">{getRoom(row)}</TableCell>\n                      <TableCell align=\"right\">{getStatus(row['contamination_index'])}</TableCell>\n                      <TableCell align=\"right\">{Math.min(row['contamination_index'].toFixed(2), 150)} %</TableCell>\n                      <TableCell align=\"right\">{getRoomTypeProp(row, 'displayName')}</TableCell>\n                      <TableCell\n                        align=\"right\">{getCleaningStatus(row)}</TableCell>\n                      <TableCell>\n                        <Tooltip title={\"Remove assignment\"}>\n                          <IconButton size={\"small\"} onClick={() => {\n                            removeAssignment(row);\n                          }}>\n                            <Clear color={\"error\"}/>\n                          </IconButton>\n                        </Tooltip>\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </TableContainer> : <Typography variant={\"h6\"}>No assigned rooms</Typography>\n        )}\n    </div>\n  );\n}\n\nexport default CleanerDetailsPage;","import CleanerDetailsPage from './CleanerDetailsPage';\nexport default CleanerDetailsPage;","import ReportPage from './ReportPage';\nexport default ReportPage;\n","import React, {useEffect, useState} from 'react';\nimport {Link as RouterLink, useParams} from \"react-router-dom\";\nimport {getFloorplan, getHeatmap, getReport} from \"../../utils/api\";\nimport PageContainer from \"../../containers/PageContainer\";\nimport {Typography, Select, Grid} from \"@material-ui/core\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport styles from './ReportPage.module.scss';\nimport {Check, CloseRounded} from \"@material-ui/icons\";\nimport {getVariant, update_img} from \"../../utils/utils\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport moment from \"moment\";\nimport Link from \"@material-ui/core/Link\";\nimport heatmap from \"../../assets/heatmap2.png\";\nimport ActivityGraph from \"../../components/Charts/ActivityGraph\";\n\nconst ReportPage = () => {\n  const {id} = useParams();\n  const [report, setReport] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [type, setType] = useState('');\n  const [error, setError] = useState(false);\n  const [errorMsg, setErrorMsg] = useState('');\n  const [showContImg, setShowContImg] = useState(false);\n  const [showCleanImg, setShowCleanImg] = useState(false);\n  const [image, setImage] = useState('');\n  const [showMap, setShowMap] = useState(false);\n\n  useEffect(() => {\n    getReport(id)\n      .then((report) => {\n        setReport(report);\n        setLoading(false);\n        getFloorplan(report['room_id']).then((img) => {\n          setImage(URL.createObjectURL(img));\n        });\n      })\n  }, [id]);\n\n  const mapSelected = async (event) => {\n    setType(event.target.value);\n    if (report['is_simulated']) {\n      setShowContImg(false);\n      setShowCleanImg(false);\n      if (event.target.value === 'contamination') {\n        setShowContImg(true);\n      } else {\n        setShowCleanImg(true);\n      }\n    } else {\n      if (event.target.value === 'combined') {\n        Promise.all([getHeatmap(id, 'clean'), getHeatmap(id, 'contamination')])\n          .then((res) => {\n            const aux = document.getElementById('aux');\n            const canvas = document.getElementById('main');\n            console.log(res)\n            update_img(res[1], aux, canvas, 1n, false, false);\n            const combined = document.getElementById('combined');\n            update_img(res[0], aux, combined, 1n, true, true);\n            canvas.style.height = canvas.offsetWidth / (72/56) + 'px';\n            combined.style.height = combined.offsetWidth / (72/56) + 'px';\n            setShowMap(true);\n          });\n      } else {\n        await getHeatmap(id, event.target.value)\n          .then((res) => {\n            const aux = document.getElementById('aux');\n            const canvas = document.getElementById('main');\n            console.log(res)\n            update_img(res, aux, canvas, 1n, event.target.value === 'clean');\n            canvas.style.height = canvas.offsetWidth / (72/56) + 'px';\n            setShowMap(true);\n          }).catch((err) => {\n            console.error(err)\n            setErrorMsg('Could not load map');\n            setError(true);\n          });\n      }\n    }\n  }\n  const handleSnackClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setError(false);\n  };\n\n  const getIcon = (successful) => {\n    return successful ? (<Check className={styles.good} fontSize={\"large\"}/>) : (\n      <CloseRounded color={\"error\"} fontSize={\"large\"}/>);\n  }\n\n  const getRoom = (report) => {\n    return (<Link component={RouterLink} color=\"secondary\"\n                  to={{\n                    pathname: `/rooms/${report['room_id']}`,\n                    state: {id: report['room_id']}\n                  }}>\n      {report['room_name']}\n    </Link>);\n  }\n\n  const getOverview = (report) => {\n    if (report.overview === '<empty>') {\n      return '-';\n    } else {\n      return report.overview;\n    }\n  }\n\n  return (\n    <PageContainer style={{textAlign: 'start'}}>\n      <Typography variant={\"h4\"} className={styles.semiBold}>Cleaning report details</Typography>\n      <Grid container spacing={2}>\n        <Grid item xs={6}>\n          <div className={styles.row} style={{justifyContent: 'space-between'}}>\n            <Typography variant={\"h5\"}>Room map</Typography>\n            <FormControl variant={'outlined'} style={{minWidth: '320px', marginBottom: 8}}>\n              <InputLabel id=\"demo-simple-select-outlined-label\">Contamination map type</InputLabel>\n              <Select label=\"Contamination map type\" onChange={mapSelected} value={type}>\n                <MenuItem value=\"clean\">Cleaning</MenuItem>\n                <MenuItem value=\"contamination\">Before cleaning</MenuItem>\n                <MenuItem value=\"combined\"><em>Combined</em></MenuItem>\n              </Select>\n            </FormControl>\n          </div>\n          <div style={{display: 'flex', flexDirection: 'column'}}>\n            {showContImg &&\n            <img src={heatmap} alt=\"contamination map\" className={styles.map}/>\n            }\n            {showCleanImg &&\n            <img src={heatmap} alt=\"clean map\" className={styles.map}/>\n            }\n            <div className={styles.container}>\n              {!showCleanImg && !showContImg &&\n              <>\n                <canvas id=\"aux\" style={{display: 'none'}}/>\n                <canvas id=\"aux2\" style={{display: 'none'}}/>\n                {type === 'combined' && <canvas id=\"combined\" width={72} height={56} className={[styles.overlay, styles.map].join(' ')}/>}\n                <canvas id=\"main\" width={72} height={56} className={styles.map}/>\n                {showMap && <img src={image} alt={\"\"} className={styles.overlay}/>}\n              </>\n              }\n            </div>\n          </div>\n          <Typography variant={\"h5\"}>Cleaner comments:</Typography>\n          <div className={styles.comments}>\n            <Typography variant={\"body1\"} className={styles.comment}>{report.comments}</Typography>\n          </div>\n        </Grid>\n        {!loading &&\n        <Grid item xs={6}>\n          <div className={styles.row}>\n            <Typography variant={\"h5\"} className={styles.reportInfo}>Cleaner:</Typography>\n            <Link component={RouterLink} color=\"secondary\"\n                  to={{\n                    pathname: `/cleaners/${report['cleaner_id']}`,\n                    state: {id: report['cleaner_id']}\n                  }}>\n              <Typography style={{marginLeft: '4px'}} variant={\"h5\"}>{report['cleaner_name']}</Typography>\n            </Link>\n          </div>\n          <div className={styles.row}>\n            <Typography variant={\"h5\"} className={styles.reportInfo}>Room:</Typography>\n            <Typography style={{marginLeft: '4px'}} variant={\"h5\"}>{getRoom(report)}</Typography>\n          </div>\n          <div className={styles.row}>\n            <Typography variant={\"h5\"} className={styles.reportInfo}>Cleaning time:</Typography>\n            <Typography style={{marginLeft: '4px'}}\n                        variant={\"h5\"}>{moment(report['cleaning_time']).format('YYYY-MM-DD HH:mm:ss')}</Typography>\n          </div>\n          <div className={styles.row}>\n            <Typography variant={\"h5\"} className={styles.reportInfo}>Cleaning successful:</Typography>\n            <div style={{marginLeft: 4, height: 35}}>{getIcon(report['cleaning_succesful'])}</div>\n          </div>\n          <div className={styles.row}>\n            <Typography variant={\"h5\"} className={styles.reportInfo}>Overview:</Typography>\n            <Typography style={{marginLeft: '4px'}} variant={\"h5\"}>{getOverview(report)}</Typography>\n          </div>\n          <div className={styles.row}>\n            <Typography variant={\"h5\"} className={styles.reportInfo}>Contamination index:</Typography>\n            <Typography style={{marginLeft: '4px'}} variant={\"h5\"}\n                        className={styles[getVariant(report['contamination_index'])]}>{report['contamination_index'].toFixed(2)} %</Typography>\n          </div>\n          <div className={styles.row}>\n            <Typography variant={\"h5\"} className={styles.reportInfo}>Cleaning duration:</Typography>\n            <Typography style={{marginLeft: '4px'}}\n                        variant={\"h5\"}>{moment.utc((report['cleaning_duration_seconds'] * 1000)).format('m [minutes] s [seconds]')}</Typography>\n          </div>\n          <ActivityGraph activity={report['between_cleaning_plot']} loading={loading}\n                         lastCleaned={report['cleaning_time']} title={\"Room activity before cleaning\"} type=\"report\"/>\n        </Grid>}\n      </Grid>\n      <Snackbar open={error} autoHideDuration={6000} onClose={handleSnackClose}>\n        <Alert onClose={() => setError(false)} severity=\"error\">{errorMsg}</Alert>\n      </Snackbar>\n    </PageContainer>\n  )\n}\n\nexport default ReportPage;","import CircularProgressWithLabel from \"./CircularProgressWithLabel\";\nexport default CircularProgressWithLabel;","import Box from \"@material-ui/core/Box\";\nimport React from \"react\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Typography from \"@material-ui/core/Typography\";\nimport PropTypes from \"prop-types\";\n\nconst CircularProgressWithLabel = (props) => {\n  return (\n    <Box position=\"relative\" display=\"inline-flex\">\n      <CircularProgress variant=\"static\" {...props} />\n      <Box\n        top={0}\n        left={0}\n        bottom={0}\n        right={0}\n        position=\"absolute\"\n        display=\"flex\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n      >\n        <Typography variant=\"caption\" component=\"div\" color=\"textSecondary\">{`${Math.round(\n          props.value,\n        )}%`}</Typography>\n      </Box>\n    </Box>\n  );\n}\n\nCircularProgressWithLabel.propTypes = {\n  /**\n   * The value of the progress indicator for the determinate and static variants.\n   * Value between 0 and 100.\n   */\n  value: PropTypes.number.isRequired,\n};\n\nexport default CircularProgressWithLabel;","import AdminPage from './AdminPage';\nexport default AdminPage;\n","import React, {useEffect, useState} from 'react';\nimport PageContainer from \"../../containers/PageContainer\";\nimport {Button, Divider, InputAdornment, Typography} from \"@material-ui/core\";\nimport styles from \"./AdminPage.module.scss\";\nimport Slider from \"@material-ui/core/Slider\";\nimport {getSimulatorSettings, resetSimulation, setSimulation} from \"../../utils/api\";\nimport Input from \"@material-ui/core/Input\";\nimport Grid from \"@material-ui/core/Grid\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Card from \"@material-ui/core/Card\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport CircularProgressWithLabel from \"../../components/CircularProgressWithLabel\";\n//import {ROOM_TYPES} from \"../../utils/constants\";\n\nconst AdminPage = () => {\n  const [simSpeed, setSimSpeed] = useState(10);\n  const [loading, setLoading] = useState(true);\n  const [snackOpen, setSnackOpen] = useState(false);\n  const [open, setOpen] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [generating, setGenerating] = useState(false);\n  const [snackText, setSnackText] = useState('Simulation speed updated');\n\n  const handleSnackClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setSnackOpen(false);\n  };\n  useEffect(() => {\n    getSimulatorSettings()\n      .then((settings) => {\n        setSimSpeed(settings['simulator_speed']);\n        setLoading(false);\n      })\n  }, [])\n  const valuetext = (value) => {\n    return `${value}x`;\n  }\n\n  const generateMarks = () => {\n    const mark = [];\n    for (let i = 5; i <= 100; i += 5) {\n      mark.push({\n        value: i,\n        label: i\n      });\n    }\n    mark.unshift({\n      value: 0.1,\n      label: '0.1'\n    }, {\n      value: 0.5,\n    }, {\n      value: 1,\n    });\n\n    return mark;\n  }\n\n  const updateSimSpeed = () => {\n    setSimulation(simSpeed)\n      .then(() => {\n        setSnackText('Simulation speed updated');\n        setSnackOpen(true);\n      }).catch(() => setSnackOpen(true));\n  }\n  const handleChange = (event, newValue) => {\n    setSimSpeed(newValue);\n  };\n\n  const handleInputChange = (event) => {\n    setSimSpeed(event.target.value === '' ? '' : Number(event.target.value));\n  };\n\n  const handleBlur = () => {\n    if (simSpeed < 0.1) {\n      setSimSpeed(0);\n    } else if (simSpeed > 1000) {\n      setSimSpeed(1000);\n    }\n  };\n\n  const handleConfirmClose = () => {\n    setSnackText('Simulation reset');\n    setOpen(false);\n  };\n\n  const generate = async () => {\n    setGenerating(true);\n    //const hospitalId = \"5fb5226d3d8e1d45045cfc3f\";\n    //const roomType = ROOM_TYPES.WAITING_ROOM.key;\n    //const roomName = 'B20';\n    //const building = 1;\n    //const floor = 1;\n    let start = 0;\n    const end = 0;\n    for (start;start <= end; start++) {\n      //const name = roomName + start;\n      //await createRoom(hospitalId, name, roomType, building, floor);\n      await new Promise(r => setTimeout(r, 1000));\n      setProgress(start);\n    }\n    setGenerating(false);\n  }\n\n  return (\n    <PageContainer style={{textAlign: 'start'}}>\n      <Typography variant={\"h5\"}>Simulator</Typography>\n      {loading ? <CircularProgress style={{margin: \"auto\"}}/> :\n        <Grid container>\n          <Grid container className={styles.slider}>\n            <Grid item xs>\n              <div className={styles.row}>\n                <Typography id=\"discrete-slider\" gutterBottom>\n                  Simulation speed multiplier\n                </Typography>\n                <Button variant={\"text\"} color={\"primary\"} onClick={updateSimSpeed}>\n                  Set\n                </Button>\n              </div>\n            </Grid>\n            <Grid container spacing={2} direction={\"row\"}>\n              <Grid item style={{flex: 1}}>\n                <Slider\n                  getAriaValueText={valuetext}\n                  aria-labelledby=\"discrete-slider\"\n                  valueLabelDisplay=\"auto\"\n                  step={null}\n                  min={0.1}\n                  marks={generateMarks()}\n                  onChange={handleChange}\n                  value={simSpeed}\n                />\n              </Grid>\n              <Grid item>\n                <Input\n                  style={{width: 65}}\n                  value={simSpeed}\n                  margin=\"dense\"\n                  onChange={handleInputChange}\n                  onBlur={handleBlur}\n                  endAdornment={<InputAdornment position=\"end\">X</InputAdornment>}\n                  inputProps={{\n                    step: 5,\n                    min: 0,\n                    max: 1000,\n                    type: 'number',\n                    'aria-labelledby': 'input-slider',\n                  }}\n                />\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item style={{display: \"flex\", marginLeft: 32}} xs>\n            <Card className={styles.card}>\n              <div className={styles.cardContent}>\n                <Typography variant={\"h6\"} className={styles.semiBold}>Simulator actions</Typography>\n                <Divider className={styles.divider} light={true}/>\n                <Button onClick={() => {\n                  setOpen(true);\n                }} variant={\"contained\"} color={\"secondary\"}>Reset simulated rooms</Button>\n                <Button disabled={generating} onClick={() => {\n                  generate();\n                }} variant={\"contained\"} color={\"primary\"} style={{float: \"right\"}}>Generate rooms</Button>\n              </div>\n            </Card>\n          </Grid>\n        </Grid>\n      }\n      <Snackbar open={snackOpen} autoHideDuration={6000} onClose={handleSnackClose}\n                anchorOrigin={{vertical: \"top\", horizontal: \"center\"}}>\n        <Alert variant={\"filled\"} severity=\"success\" onClose={handleSnackClose}>\n          {snackText}\n        </Alert>\n      </Snackbar>\n      {generating && <CircularProgressWithLabel value={progress} style={{margin: \"auto\"}}/>}\n      <Dialog\n        open={open}\n        onClose={handleConfirmClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">Reset simulated rooms</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            Are you sure you want to reset the rooms?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleConfirmClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={async () => {\n            handleConfirmClose();\n            resetSimulation().then(() => setSnackOpen(true)).catch(() => setSnackOpen(true));\n          }} color=\"primary\" autoFocus>\n            Reset\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </PageContainer>\n  )\n}\n\nexport default AdminPage;","import React from 'react';\nimport './App.scss';\nimport {Route, Switch, Redirect} from \"react-router-dom\";\nimport {authenticated as auth, getUser} from '../utils/api';\nimport DashboardPage from \"../pages/DashboardPage\";\nimport LoginPage from \"../pages/LoginPage\";\nimport CleanersPage from \"../pages/CleanersPage\";\nimport Toolbar from \"../components/Toolbar\";\nimport {useLocation} from 'react-router-dom';\nimport AnalysisPage from \"../pages/AnalysisPage\";\nimport RoomsPage from \"../pages/RoomsPage\";\nimport AssignmentsPage from \"../pages/AssignmentsPage\";\nimport RoomDetailsPage from \"../pages/RoomDetailsPage\";\nimport CleanerDetailsPage from \"../pages/CleanerDetailsPage\";\nimport ReportPage from \"../pages/ReportPage\";\nimport AdminPage from \"../pages/AdminPage\";\n\nfunction App() {\n  const location = useLocation();\n  const user = getUser();\n  const login = () => (auth() ? <Redirect to=\"/dashboard\"/> : <LoginPage/>);\n  const dash = () => (!auth() ? <Redirect to=\"/\"/> : <DashboardPage/>);\n  const cleaner = () => (!auth() ? <Redirect to=\"/\"/> : <CleanerDetailsPage/>);\n  const cleaners = () => (!auth() ? <Redirect to=\"/\"/> : <CleanersPage/>);\n  const assignments = () => (!auth() ? <Redirect to=\"/\"/> : <AssignmentsPage/>);\n  const rooms = () => (!auth() ? <Redirect to=\"/\"/> : <RoomsPage/>);\n  const room = () => (!auth() ? <Redirect to=\"/\"/> : <RoomDetailsPage/>);\n  const analysis = () => (!auth() ? <Redirect to=\"/\"/> : <AnalysisPage/>);\n  const report = () => (!auth() ? <Redirect to=\"/\"/> : <ReportPage/>);\n  const admin = () => (!auth() || !user.superAdmin ? <Redirect to=\"/\"/> : <AdminPage/>);\n\n  return (\n    <div className=\"App\">\n      {location.pathname !== '/' && <Toolbar/>}\n      <Switch location={location}>\n        <Route path={\"/dashboard\"} render={dash}/>\n        <Route path={\"/cleaners/:id\"} render={cleaner}/>\n        <Route path={\"/cleaners\"} render={cleaners}/>\n        <Route path={\"/assignments\"} render={assignments}/>\n        <Route path={\"/rooms/reports/:id\"} render={report}/>\n        <Route path={\"/rooms/:id\"} render={room}/>\n        <Route path={\"/rooms\"} render={rooms}/>\n        <Route path={\"/analysis\"} render={analysis}/>\n        <Route path={\"/simulator\"} render={admin}/>\n        <Route path={\"/\"} render={login}/>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './app/App';\nimport * as serviceWorker from './serviceWorker';\nimport {BrowserRouter} from \"react-router-dom\";\nimport {unstable_createMuiStrictModeTheme as createMuiTheme, StylesProvider, ThemeProvider} from '@material-ui/core/styles';\nimport {blueGrey, lightBlue} from \"@material-ui/core/colors\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: blueGrey[900],\n    },\n    secondary: lightBlue\n  },\n  typography: {\n    fontFamily: ['Raleway', 'sans-serif']\n  }\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename={'/spotless'}>\n      <ThemeProvider theme={theme}>\n        <StylesProvider injectFirst>\n          <App/>\n        </StylesProvider>\n      </ThemeProvider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"CleanerDetailsPage_content__3PEfI\",\"avatar\":\"CleanerDetailsPage_avatar__3KDG8\",\"row\":\"CleanerDetailsPage_row__G0VOc\",\"menu\":\"CleanerDetailsPage_menu__2gyF8\",\"column\":\"CleanerDetailsPage_column__3374X\",\"semiBold\":\"CleanerDetailsPage_semiBold__1F3iu\"};"],"sourceRoot":""}