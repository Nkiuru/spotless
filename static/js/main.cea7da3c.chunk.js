(this.webpackJsonpspotless=this.webpackJsonpspotless||[]).push([[0],{106:function(e,a,t){e.exports={slider:"AdminPage_slider__15E9C",row:"AdminPage_row__2qRHf",divider:"AdminPage_divider__3uIH_",semiBold:"AdminPage_semiBold__EaJqb",medium:"AdminPage_medium__2aq8Q",card:"AdminPage_card__3NaLL",cardContent:"AdminPage_cardContent__1_5WT"}},141:function(e,a,t){e.exports={dot:"StatusDot_dot__1rSYH",good:"StatusDot_good__1GIEp",medium:"StatusDot_medium__3zBB3",critical:"StatusDot_critical__23vOC",neutral:"StatusDot_neutral__1H6OR",tiny:"StatusDot_tiny__33nQ5",small:"StatusDot_small__1yc1L",large:"StatusDot_large__jMuJN"}},142:function(e,a,t){e.exports={title:"AssignmentsPage_title__3UMlB",critical:"AssignmentsPage_critical__3ZemZ",row:"AssignmentsPage_row__2lJV1"}},158:function(e,a,t){e.exports={chart:"ReportsPerDay_chart__1nn7U",title:"ReportsPerDay_title__aLd0m",container:"ReportsPerDay_container__3-OV0"}},159:function(e,a,t){e.exports={title:"RoomSelector_title__363JP",critical:"RoomSelector_critical__a-ztV",row:"RoomSelector_row__n9QC3"}},18:function(e,a,t){e.exports={titleRow:"RoomDetailsPage_titleRow__JoTlm",content:"RoomDetailsPage_content__2CxAu",card:"RoomDetailsPage_card__2J4HU",cardContent:"RoomDetailsPage_cardContent__1soEX",detailsRow:"RoomDetailsPage_detailsRow__3fj0E",row:"RoomDetailsPage_row__PCQ4C",divider:"RoomDetailsPage_divider__hWVez",semiBold:"RoomDetailsPage_semiBold__24ERR",medium:"RoomDetailsPage_medium__3Rnxk",good:"RoomDetailsPage_good__2jSxq",med:"RoomDetailsPage_med__T6SFg",critical:"RoomDetailsPage_critical__2gPiW",neutral:"RoomDetailsPage_neutral__2SrpQ",btn:"RoomDetailsPage_btn__3tYWx",map:"RoomDetailsPage_map__2yhwI",comments:"RoomDetailsPage_comments__1nTSD",comment:"RoomDetailsPage_comment__1rwNF",author:"RoomDetailsPage_author__tbk-d"}},198:function(e,a,t){e.exports={menu:"ShiftPicker_menu__1os-v",row:"ShiftPicker_row__rUGBG"}},199:function(e,a,t){e.exports={headerRow:"RoomsPage_headerRow__3ck7N",bold:"RoomsPage_bold__39rfR",map:"RoomsPage_map__19OrU"}},233:function(e,a,t){e.exports={pageContainer:"PageContainer_pageContainer__iX86t",pageContent:"PageContainer_pageContent__1wPf8"}},239:function(e,a,t){e.exports={form:"LoginPage_form__38hI6",btn:"LoginPage_btn__Q93UE"}},240:function(e,a,t){e.exports={headerRow:"CleanersPage_headerRow__20bGG",bold:"CleanersPage_bold__qIG9F",menu:"CleanersPage_menu__1x8Ct",row:"CleanersPage_row__2H2UE"}},242:function(e,a,t){e.exports={good:"CleaningReportTable_good__2fi-5",semiBold:"CleaningReportTable_semiBold__3M_nh"}},314:function(e,a,t){e.exports=t.p+"static/media/hospital.ea9e1e90.png"},315:function(e,a,t){e.exports={autocomplete:"CleanerSelect_autocomplete__2dss4"}},34:function(e,a,t){e.exports={row:"ReportPage_row__1XU8D",semiBold:"ReportPage_semiBold__20bHc",reportInfo:"ReportPage_reportInfo__KuWwG",column:"ReportPage_column__1fkvo",good:"ReportPage_good__IEB1u",medium:"ReportPage_medium__1jIMT",critical:"ReportPage_critical___2FfG",map:"ReportPage_map__1ruE5",comments:"ReportPage_comments__vvAhd",comment:"ReportPage_comment__38N5l"}},368:function(e,a,t){e.exports=t(560)},373:function(e,a,t){},374:function(e,a,t){},46:function(e,a,t){e.exports={semiBold:"DashboardPage_semiBold__1wP56",stat:"DashboardPage_stat__1HNGL",keyStat:"DashboardPage_keyStat__3TqkO",subtitle:"DashboardPage_subtitle__SKIyw",grid:"DashboardPage_grid__3i4Zn",alerts:"DashboardPage_alerts__1Vbju",alert:"DashboardPage_alert__3qisR"}},54:function(e,a,t){e.exports={toolbar:"Toolbar_toolbar__1Bm9j",name:"Toolbar_name__3EvOQ",svg:"Toolbar_svg__3XlL9",tab:"Toolbar_tab__3uwiV"}},560:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(20),l=t.n(c),o=(t(373),t(374),t(29)),i=t(7),s=t.n(i),m=t(12),u="zL43mXgXk5xa7YFRBVZscbLnGFaqVh24q5G6fhGjmAv532FAVBRtnuCJpwXWXnhw",d="https://cleaner-app-api.azurewebsites.net/api/",p=Object.freeze({OFFICE:{frequency:1,cleaningTime:5,displayName:"Office",key:"OFFICE"},TOILET:{frequency:5,cleaningTime:5,displayName:"Toilet",key:"TOILET"},WARD_ROOM:{frequency:5,cleaningTime:8,displayName:"Ward room",key:"WARD_ROOM"},EXAMINATION_ROOM:{frequency:5,cleaningTime:6,displayName:"Examination room",key:"EXAMINATION_ROOM"},CORRIDOR:{frequency:3,cleaningTime:9,displayName:"Corridor",key:"CORRIDOR"},WAITING_ROOM:{frequency:5,cleaningTime:10,displayName:"Waiting room",key:"WAITING_ROOM"}}),f=t(6),g=t(141),E=t.n(g),h=t(609),b=function(e){var a=e.variant,t=e.size,n=e.tooltip,c=[E.a.dot];return c.push(a?E.a[a]:E.a.neutral),c.push(t?E.a[t]:E.a.small),r.a.createElement(h.a,{title:n},r.a.createElement("div",{className:c.join(" ")}))},v=function(e,a){return"<empty>"!==e.room_type?p[e.room_type][a]:""},_=function(e){var a="neutral";return e>=60?a="critical":e>=30?a="medium":e<30&&(a="good"),r.a.createElement(b,{variant:a,size:"tiny",tooltip:e})},y=function(e){var a="neutral";return e>=60?a="critical":e>=30?a="medium":e<30&&(a="good"),a},O=function(e){return e.map((function(e){e.status=e.contamination_index;var a=e.assigned_cleaners,t=a.length>0&&a[0];return t?(e.cleaner=t,e.cleaner_name=t.name):e.cleaner_name="-",e}))};function j(e,a,t,n){var r=null;try{r=new BigUint64Array(e)}catch(v){throw v}var c=function(e,a){for(var t,n,r,c,l=BigInt(Number.MAX_SAFE_INTEGER),o=BigInt(0),i=0;i<e.length;i++)(r=e[i])<l&&(l=r),r>o&&(o=r);var s=[];(n=BigInt(o)/a)<=(t=BigInt(l))&&(n=t+1n);for(var m=0;m<e.length;m++)(c=255n*(e[m]-t)/(n-t))>255n&&(c=255),c<0n&&(c=0n),s.push(Number(c));return new Uint8Array(s)}(r,n),l=function(){for(var e,a,t,n,r,c=[],l=[],o=[],i=0;i<=255;i++)n=.01236846501*i,r=Math.cos(n-1),e=Math.round(200*Math.pow(2,Math.sin(n-1.6))),a=Math.round(Math.atan(n)*r*155+100),t=Math.round(255*r),e=Math.min(255,e),a=Math.min(255,a),t=Math.min(255,t),e=Math.max(0,e),a=Math.max(0,a),t=Math.max(0,t),c.push(e),l.push(a),o.push(t);return[new Uint8ClampedArray(c),new Uint8ClampedArray(l),new Uint8ClampedArray(o)]}(),o=Object(f.a)(l,3),i=o[0],s=o[1],m=o[2],u=null,d=null,p=Math.round(c.length/72);if(c){d=(u=new ImageData(72,p)).data;for(var g=0,E=0;E<d.length;E+=4){var h=c[g];d[E]=i[h],d[E+1]=s[h],d[E+2]=m[h],d[E+3]=255,g++}}console.log(u);var b=t.getContext("2d");a.getContext("2d").putImageData(u,0,0),b.drawImage(a,0,0),t.style="transform: scale(1, 1); flex: 0"}var w=localStorage.getItem("hospital")||!1,S=localStorage.getItem("hospital_name")||!1,x=function(){return null!==localStorage.getItem("user")},C=function(){return!!x()&&JSON.parse(localStorage.getItem("user"))},k=function(e,a,t){var n=a;return a.length>0&&t?n+="&".concat(e,"=").concat(t):t&&(n+="?".concat(e,"=").concat(t)),n},N=function(){var e=Object(m.a)(s.a.mark((function e(a,t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"rooms",r=k("hospital_id","",a=a||w),r=k("floor",r,t),r=k("assigned_cleaners",r,n=n?1:0),e.abrupt("return",Q("rooms",r));case 7:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q("hospitals"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q("cleaners/rooms?cleaner_id=".concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q("cleaners/rooms?room_id=".concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),A=function(){var e=Object(m.a)(s.a.mark((function e(a,t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(a.map((function(e){return I(e._id,t)}))));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),B=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(a.map((function(e){return T(e._id,e.assigned_cleaners[0]._id)}))));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(s.a.mark((function e(a,t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K("cleaners/rooms",JSON.stringify({cleaner_id:t,room_id:a})));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),T=function(){var e=Object(m.a)(s.a.mark((function e(a,t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z("cleaners/rooms",JSON.stringify({cleaner_id:t,room_id:a})));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),M=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q("room?_id=".concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),H=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q("cleaners/"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q("cleaner?_id=".concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),z=function(){var e=Object(m.a)(s.a.mark((function e(a,t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K("cleaner/",JSON.stringify({name:a,shift_start:t,shift_end:n})));case 1:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(m.a)(s.a.mark((function e(a,t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=n||S,r=k("room_id","",a),r=k("cleaner_id",r,t),r=k("hospital_name",r,n),e.abrupt("return",Q("reports",r));case 5:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),W=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z("cleaner",JSON.stringify({_id:a})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q("report?_id=".concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Y=function(){var e=Object(m.a)(s.a.mark((function e(a,t){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+"report/heatmap?_id=".concat(a,"&type=").concat(t),e.next=3,fetch(n,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:u,charset:"utf-8"}});case 3:if(!(r=e.sent).ok){e.next=8;break}return e.abrupt("return",r.arrayBuffer());case 8:return e.next=10,r.json();case 10:throw c=e.sent,console.log(c),new Error(c.error);case 13:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),G=function(){var e=Object(m.a)(s.a.mark((function e(a,t){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+"room/heatmap?_id=".concat(a,"&type=").concat(t),e.next=3,fetch(n,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:u,charset:"utf-8"}});case 3:if(!(r=e.sent).ok){e.next=8;break}return e.abrupt("return",r.arrayBuffer());case 8:return e.next=10,r.json();case 10:throw c=e.sent,new Error(c.error);case 12:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$("cleaner/",JSON.stringify({_id:a._id,name:a.name,shift_start:a.shift_start,shift_end:a.shift_end})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),J=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q("simulator/settings"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.abrupt("return",$("simulator/settings",JSON.stringify({simulator_speed:a})));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),X=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q("simulator/clear"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(m.a)(s.a.mark((function e(a,t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+a+(t||""),console.log(n),e.next=4,fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:u,charset:"utf-8"}});case 4:if(!(r=e.sent).ok){e.next=9;break}return e.abrupt("return",r.json());case 9:return e.t0=Error,e.next=12,r.json().message;case 12:throw e.t1=e.sent,new e.t0(e.t1);case 14:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),K=function(){var e=Object(m.a)(s.a.mark((function e(a,t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+a,console.log(n),e.next=4,fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:u,charset:"utf-8"},body:t});case 4:if(!(r=e.sent).ok){e.next=9;break}return e.abrupt("return",r.json());case 9:return e.t0=Error,e.next=12,r.json().message;case 12:throw e.t1=e.sent,new e.t0(e.t1);case 14:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(m.a)(s.a.mark((function e(a,t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+a,e.next=3,fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:u,charset:"utf-8"},body:t});case 3:if(!(r=e.sent).ok){e.next=8;break}return e.abrupt("return",r.json());case 8:return e.t0=Error,e.next=11,r.json().message;case 11:throw e.t1=e.sent,new e.t0(e.t1);case 13:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),$=function(){var e=Object(m.a)(s.a.mark((function e(a,t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+a,console.log(n),e.next=4,fetch(n,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:u,charset:"utf-8"},body:t});case 4:if(r=e.sent,console.log(r),!r.ok){e.next=10;break}return e.abrupt("return",r.json());case 10:return e.t0=Error,e.next=13,r.json().message;case 13:throw e.t1=e.sent,new e.t0(e.t1);case 15:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),ee=t(94),ae=t(233),te=t.n(ae),ne=function(e){var a=e.children,t=e.style,n=e.noToolbar?0:"48px";return r.a.createElement("div",{className:te.a.pageContainer,style:{top:n}},r.a.createElement("div",{className:te.a.pageContent,style:t},a))},re=t(46),ce=t.n(re),le=t(613),oe=function(e){var a=e.value,t=e.subtitle,n=e.color;return r.a.createElement("div",{className:ce.a.stat},r.a.createElement("div",{className:ce.a.keyStat},r.a.createElement(ee.a,{variant:"h3",style:{color:n}},a)),r.a.createElement(ee.a,{variant:"body2",className:ce.a.subtitle},t))},ie=t(612),se=t(24),me=t.n(se),ue=t(74),de=t(158),pe=t.n(de),fe=t(319),ge=function(e){var a=e.reports,t=e.loading,n=a.map((function(e){return me()(e.cleaning_time).format("DD.MM.YYYY")})),c={};n.forEach((function(e){c[e]=(c[e]||0)+1}));var l=[];return Object.keys(c).forEach((function(e){l.push({date:e,amount:c[e]})})),r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(fe.a,{className:pe.a.container},r.a.createElement(ee.a,{variant:"h6",className:pe.a.title},"Cleaning events per day"),r.a.createElement(r.a.Fragment,null,t?r.a.createElement(ie.a,{color:"secondary",style:{margin:"auto"}}):r.a.createElement(ue.e,{width:"100%",height:400,className:pe.a.chart},0===l.length?r.a.createElement(ee.a,{variant:"h6",className:pe.a.title,style:{textAlign:"center"}},"No cleaning events"):r.a.createElement(ue.d,{data:l},r.a.createElement(ue.g,{dataKey:"date"}),r.a.createElement(ue.h,null),r.a.createElement(ue.a,{strokeDasharray:"3 3"}),r.a.createElement(ue.f,null),r.a.createElement(ue.b,null),r.a.createElement(ue.c,{type:"monotone",dataKey:"amount",name:"Cleaning events",stroke:"#8884d8",strokeWidth:2}))))))},Ee=t(565),he=t(571),be=t(570),ve=t(669),_e=t(614),ye=function(e){var a=e.reports,t=e.loading,n=Object(o.g)(),c=a.filter((function(e){return"Patialy cleaned"===e.overview}));return r.a.createElement("div",{className:ce.a.alerts},t?r.a.createElement(ie.a,{size:20,style:{margin:"auto"}}):r.a.createElement(r.a.Fragment,null,c.map((function(e){return r.a.createElement("div",{key:e._id,className:ce.a.alert,onClick:function(){var a;a=e._id,n.push({pathname:"/rooms/reports/".concat(a),state:{id:a}})}},r.a.createElement(le.a,{container:!0,direction:"row",alignItems:"center",justify:"space-between"},r.a.createElement(le.a,{item:!0},r.a.createElement(ee.a,{variant:"h6",className:ce.a.semiBold},e.room_name,", Floor ",e.floor),r.a.createElement(ee.a,{variant:"body2",className:ce.a.semiBold,style:{lineHeight:"24px"},color:"textSecondary"},e.cleaner_name,": ",e.comments)),r.a.createElement(le.a,{item:!0},r.a.createElement(_e.a,{color:"action",style:{fontSize:"1.75rem"}}))))})),0===c.length&&r.a.createElement(ee.a,{variant:"h6",style:{marginTop:16},className:ce.a.semiBold},"No recent alerts")))},Oe=t(564),je=t(615),we=function(){var e=Object(n.useState)(""),a=Object(f.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)([]),o=Object(f.a)(l,2),i=o[0],s=o[1],m=Object(n.useState)([]),u=Object(f.a)(m,2),d=u[0],p=u[1],g=Object(n.useState)(!0),E=Object(f.a)(g,2),b=E[0],v=E[1],_=Object(n.useState)([]),O=Object(f.a)(_,2),j=O[0],x=O[1],k=Object(n.useState)(w),R=Object(f.a)(k,2),D=R[0],A=R[1],B=Object(n.useState)(!1),I=Object(f.a)(B,2),T=I[0],M=I[1],H=Object(n.useState)(!1),F=Object(f.a)(H,2),z=F[0],W=F[1];Object(n.useEffect)((function(){var e=C();c(e),v(!0),Promise.all([N(),L()]).then((function(e){s(e[0]),p(e[1]),v(!1)})),T||P().then((function(e){x(e)}))}),[T,D,z]);var q=function(){var e=[];return i.forEach((function(a){var t=a.contamination_index;t>150?e.push(150):t<0?e.push(0):e.push(t)})),Math.round(e.reduce((function(e,a){return e+a}))/e.length)};return r.a.createElement(ne,{style:{textAlign:"start"}},r.a.createElement(le.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(le.a,{item:!0,style:{display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement(ee.a,{variant:"h4"},"Hello ",t&&t.username,"!"),r.a.createElement(h.a,{title:"Refresh"},r.a.createElement(Oe.a,{onClick:function(){W(!z)}},r.a.createElement(je.a,null)))),r.a.createElement(le.a,{item:!0},r.a.createElement(Ee.a,{variant:"outlined",style:{minWidth:"320px",margin:"8px"}},r.a.createElement(he.a,{id:"demo-simple-select-outlined-label"},"Select hospital"),r.a.createElement(be.a,{label:"Select Hospital",onChange:function(e){A(e.target.value),function(e){e?localStorage.setItem("hospital",e):localStorage.removeItem("hospital"),w=e}(e.target.value);var a=j.find((function(a){return a._id===e.target.value}));!function(e){e?localStorage.setItem("hospital_name",e):localStorage.removeItem("hospital_name"),S=e}(!!a&&a.name),M(!T)},value:D},r.a.createElement(ve.a,{value:!1},r.a.createElement("em",null,"All")),j.map((function(e){return r.a.createElement(ve.a,{value:e._id,key:e._id},e.name)})))))),r.a.createElement(le.a,{container:!0,spacing:6},r.a.createElement(le.a,{item:!0,xs:5},r.a.createElement(ee.a,{variant:"h5",className:ce.a.semiBold},"Alerts"),r.a.createElement(ye,{reports:d,loading:b})),r.a.createElement(le.a,{item:!0,xs:!0,className:ce.a.grid,style:{marginTop:48}},r.a.createElement(le.a,{container:!0,spacing:4,justify:"space-between"},r.a.createElement(le.a,{item:!0},r.a.createElement(oe,{subtitle:"Rooms cleaned today",value:b?r.a.createElement(ie.a,{color:"secondary"}):function(){var e=me()();return i.filter((function(a){return!!a.last_cleaned&&me()(a.last_cleaned).isSame(e,"date")})).length}(),color:"#F2C94C"})),r.a.createElement(le.a,{item:!0},r.a.createElement(oe,{subtitle:"Average contamination index",value:b?r.a.createElement(ie.a,{color:"secondary"}):q()+"%",color:!b&&function(e){var a="#CFD3DA";return e>=60?a="#EB5757":e>=30?a="#F2C94C":e<30&&(a="#27AE60"),a}(q())})),r.a.createElement(le.a,{item:!0},r.a.createElement(oe,{subtitle:"Green rooms",value:b?r.a.createElement(ie.a,{color:"secondary"}):i.filter((function(e){return"good"===y(e.contamination_index)})).length,color:"#27AE60"})),r.a.createElement(le.a,{item:!0},r.a.createElement(oe,{subtitle:"Red rooms",value:b?r.a.createElement(ie.a,{color:"secondary"}):i.filter((function(e){return"critical"===y(e.contamination_index)})).length,color:"#EB5757"}))))),r.a.createElement(ge,{loading:b,reports:d}))},Se=t(45),xe=t(26),Ce=t(618),ke=t(58),Ne=t(239),Pe=t.n(Ne),Re=ke.a({username:ke.b().required("Username is required"),password:ke.b().required("Password is required")}),De=function(){var e=Object(o.g)();return r.a.createElement(ne,{noToolbar:!0},r.a.createElement(fe.a,{variant:"elevation",className:Pe.a.form},r.a.createElement(xe.c,{initialValues:{username:"",password:""},onSubmit:function(a,t){t.setSubmitting;console.log(a),function(e,a){var t=!1;"superadmin"===e&&"admin"===a&&(t=!0),localStorage.setItem("user",JSON.stringify({username:e,superAdmin:t}))}(a.username,a.password),e.push("/dashboard")},validationSchema:Re},(function(e){e.isSubmitting,e.resetForm,e.values;return r.a.createElement(xe.b,null,r.a.createElement(le.a,{container:!0,spacing:2},r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement(ee.a,{variant:"h4"},"Login to spotless")),r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement(xe.a,{component:Se.b,autoFocus:!0,variant:"outlined",margin:"dense",id:"name",label:"Username",type:"text",name:"username",fullWidth:!0})),r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement(xe.a,{component:Se.b,variant:"outlined",margin:"dense",id:"name",label:"Password",type:"password",name:"password",fullWidth:!0}))),r.a.createElement(Ce.a,{type:"submit",color:"primary",variant:"contained",className:Pe.a.btn},"Sign in"))}))))},Ae=t(668),Be=t(623),Ie=t(624),Te=t(625),Me=t(627),He=t(628),Fe=t(620),ze=t(672),Le=t(621),We=t(629),qe=t(622),Ye=t(630),Ge=t(240),Ue=t.n(Ge),Je=t(667),Ve=t(664),Xe=t(91),Qe=t(198),Ke=t.n(Qe),Ze=function(){return r.a.createElement(le.a,{item:!0,xs:!0,className:Ke.a.row},r.a.createElement("div",null,r.a.createElement(ee.a,{variant:"body1"},"Shift start"),r.a.createElement("div",{className:Ke.a.row},r.a.createElement(xe.a,{component:Se.a,name:"startHour"},Object(Xe.a)(Array(24).keys()).map((function(e){var a=e.toString().padStart(2,"0");return r.a.createElement(ve.a,{key:e,value:a},a)}))),r.a.createElement(ee.a,{variant:"h6"},":"),r.a.createElement(xe.a,{component:Se.a,name:"startMinutes"},["00",15,30,45].map((function(e){return r.a.createElement(ve.a,{key:e,value:e.toString()},e)}))))),r.a.createElement(ee.a,{variant:"h4",style:{margin:"0 16px"}},"-"),r.a.createElement("div",null,r.a.createElement(ee.a,{variant:"body1"},"Shift end"),r.a.createElement("div",{className:Ke.a.row},r.a.createElement(xe.a,{component:Se.a,name:"endHour"},Object(Xe.a)(Array(23).keys()).map((function(e){return r.a.createElement(ve.a,{key:e,value:e.toString()},e)}))),r.a.createElement(ee.a,{variant:"body1"},":"),r.a.createElement(xe.a,{component:Se.a,name:"endMinutes"},["00",15,30,45].map((function(e){return r.a.createElement(ve.a,{key:e,value:e.toString()},e)}))))))},$e=t(619),ea=t(666),aa=t(671);var ta=function(e){var a=e.classes,t=e.onSelectAllClick,n=e.order,c=e.orderBy,l=e.numSelected,o=e.rowCount,i=e.onRequestSort,s=e.headCells,m=e.type;return r.a.createElement($e.a,null,r.a.createElement(Fe.a,null,m&&"noSelection"!==m&&r.a.createElement(Le.a,{padding:"checkbox"},r.a.createElement(ea.a,{indeterminate:l>0&&l<o,checked:o>0&&l===o,onChange:t,inputProps:{"aria-label":"select all desserts"}})),s.map((function(e){return r.a.createElement(Le.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:c===e.id&&n},r.a.createElement(aa.a,{active:c===e.id,direction:c===e.id?n:"asc",onClick:(t=e.id,function(e){i(e,t)})},e.label,c===e.id?r.a.createElement("span",{className:a.visuallyHidden},"desc"===n?"sorted descending":"sorted ascending"):null));var t}))))},na=t(626);function ra(e,a,t){return"string"===typeof e[t]&&"string"===typeof a[t]?void 0===e[t]?1:a[t].toUpperCase()<e[t].toUpperCase()?-1:a[t].toUpperCase()>e[t].toUpperCase()?1:0:void 0===e[t]?1:a[t]<e[t]?-1:a[t]>e[t]?1:0}function ca(e,a){return"desc"===e?function(e,t){return ra(e,t,a)}:function(e,t){return-ra(e,t,a)}}function la(e,a){var t=e.map((function(e,a){return[e,a]}));return t.sort((function(e,t){var n=a(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),t.map((function(e){return e[0]}))}function oa(e,a,t,n){var r=t.indexOf(a),c=[];-1===r?c=c.concat(t,a):0===r?c=c.concat(t.slice(1)):r===t.length-1?c=c.concat(t.slice(0,-1)):r>0&&(c=c.concat(t.slice(0,r),t.slice(r+1))),n(c)}var ia=ke.a({firstName:ke.b().required("First name is required"),lastName:ke.b().required("Last name is required")}),sa=function(e){var a=e.open,t=e.setOpen,n=e.setIsLoaded,c=e.setSnackOpen,l=function(){t(!1)},o=function(){var e=Object(m.a)(s.a.mark((function e(a,r){var l,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=r.setSubmitting,e.next=3,z("".concat(a.firstName," ").concat(a.lastName),"".concat(a.startHour.padStart(2,"0"),":").concat(a.startMinutes.padStart(2,"0")),"".concat(a.endHour.padStart(2,"0"),":").concat(a.endMinutes.padStart(2,"0")));case 3:o=e.sent,console.log(o),n(!1),l(!1),c(!0),t(!1);case 9:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement(Ae.a,{open:a,onClose:l,"aria-labelledby":"form-dialog-title"},r.a.createElement(Be.a,{id:"form-dialog-title"},"Create a new cleaner"),r.a.createElement(xe.c,{initialValues:{firstName:"",lastName:"",startHour:"08",endHour:"16",startMinutes:"00",endMinutes:"00"},onSubmit:o,validationSchema:ia},(function(e){e.isSubmitting,e.resetForm,e.values;return r.a.createElement(xe.b,null,r.a.createElement(Ie.a,null,r.a.createElement(le.a,{container:!0,spacing:2},r.a.createElement(le.a,{item:!0,xs:6},r.a.createElement(xe.a,{component:Se.b,autoFocus:!0,margin:"dense",id:"name",label:"First name",type:"text",name:"firstName",fullWidth:!0})),r.a.createElement(le.a,{item:!0,xs:6},r.a.createElement(xe.a,{component:Se.b,margin:"dense",id:"name",label:"Last name",type:"text",name:"lastName",fullWidth:!0})),r.a.createElement(Ze,null))),r.a.createElement(Te.a,null,r.a.createElement(Ce.a,{onClick:l,color:"primary"},"Cancel"),r.a.createElement(Ce.a,{type:"submit",color:"primary"},"Create cleaner")))})))},ma=Object(na.a)((function(e){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),ua=function(e){var a=e.cleaners,t=e.rooms,n=Object(o.g)(),c=ma(),l=r.a.useState("asc"),i=Object(f.a)(l,2),s=i[0],m=i[1],u=r.a.useState("name"),d=Object(f.a)(u,2),p=d[0],g=d[1],E=r.a.useState(0),b=Object(f.a)(E,2),v=b[0],_=b[1],y=r.a.useState(15),O=Object(f.a)(y,2),j=O[0],w=O[1];return r.a.createElement(fe.a,null,r.a.createElement(Me.a,null,r.a.createElement(He.a,{size:"small"},r.a.createElement(ta,{classes:c,onRequestSort:function(e,a){m(p===a&&"asc"===s?"desc":"asc"),g(a)},order:s,orderBy:p,headCells:[{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"shift_start",numeric:!0,disablePadding:!1,label:"Shift start"},{id:"shift_end",numeric:!0,disablePadding:!1,label:"Shift end"},{id:"cleaning_progress",numeric:!0,disablePadding:!1,label:"Cleaning progress"},{id:"current_location",numeric:!0,disablePadding:!1,label:"Current location"},{id:"status",numeric:!0,disablePadding:!1,label:"Status"},{id:"action",numeric:!1,disablePadding:!1,label:"Action"}]}),r.a.createElement(We.a,null,la(a,ca(s,p)).slice(v*j,v*j+j).map((function(e,a){var c="enhanced-table-checkbox-".concat(a);return r.a.createElement(Fe.a,{hover:!0,tabIndex:-1,key:c,style:{height:"33px"}},r.a.createElement(Le.a,{component:"th",scope:"row"},e.name),r.a.createElement(Le.a,{align:"right"},e.shift_start),r.a.createElement(Le.a,{align:"right"},e.shift_end),r.a.createElement(Le.a,{align:"right"},function(e){var a=t.filter((function(a){return a.assigned_cleaners.length>0&&a.assigned_cleaners[0]._id===e._id})),n=me()(),c=a.filter((function(e){return!!e.last_cleaned&&me()(e.last_cleaned).isSame(n,"date")})).length;return e.cleaning_progress=Math.round(c/a.length*100)||"0%",r.a.createElement(h.a,{title:"".concat(c,"/").concat(a.length),placement:"right"},r.a.createElement(ee.a,null,e.cleaning_progress))}(e)),r.a.createElement(Le.a,{align:"right"}),r.a.createElement(Le.a,{align:"right"},function(e){var a=me()(e.shift_start,"HH:mm"),t=me()(e.shift_end,"HH:mm"),n=me()().isBetween(a,t);return e.status=n?"":"Unavailable",e.status}(e)),r.a.createElement(Le.a,null,r.a.createElement(Oe.a,{size:"small",color:"secondary",onClick:function(){!function(e){var a=e._id;n.push({pathname:"/cleaners/".concat(a),state:{id:a}})}(e)}},r.a.createElement(Ye.a,null))))}))))),r.a.createElement(ze.a,{rowsPerPageOptions:[5,10,15,25,50],component:"div",count:a.length,rowsPerPage:j,page:v,onChangePage:function(e,a){_(a)},onChangeRowsPerPage:function(e){w(parseInt(e.target.value,10)),_(0)}}))},da=function(){var e=Object(n.useState)([]),a=Object(f.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)([]),o=Object(f.a)(l,2),i=o[0],s=o[1],m=Object(n.useState)(!1),u=Object(f.a)(m,2),d=u[0],p=u[1],g=r.a.useState(!1),E=Object(f.a)(g,2),b=E[0],v=E[1],_=Object(n.useState)(!1),y=Object(f.a)(_,2),O=y[0],j=y[1];Object(n.useEffect)((function(){Promise.all([H(),N(null,null,!0)]).then((function(e){c(e[0]),s(e[1]),p(!0)}),(function(e){console.log(e)}))}),[v,d]);var w=function(e,a){"clickaway"!==a&&j(!1)};return r.a.createElement(ne,{style:{textAlign:"start"}},r.a.createElement("div",{className:Ue.a.headerRow},r.a.createElement(ee.a,{variant:"h5",className:Ue.a.bold},"Cleaners"),r.a.createElement(h.a,{title:"Add cleaner"},r.a.createElement(Oe.a,{onClick:function(){return v(!0)}},r.a.createElement(qe.a,null)))),d?r.a.createElement(ua,{cleaners:t,rooms:i}):r.a.createElement(ie.a,{color:"secondary",style:{margin:"16px auto"}}),r.a.createElement(sa,{open:b,setOpen:v,setIsLoaded:p,setSnackOpen:j}),r.a.createElement(Je.a,{open:O,autoHideDuration:6e3,onClose:w,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Ve.a,{variant:"filled",severity:"success",onClose:w},"Cleaner created")))},pa=t(662),fa=t(632),ga=t(631),Ea=t(634),ha=t(23),ba=t(5),va=t(54),_a=t.n(va),ya=t(633),Oa=t(635),ja=t(636),wa=t(637),Sa=t(638),xa=t(639),Ca=t(641),ka=t(643),Na=t(316),Pa=t(640),Ra=t(642),Da=t(313),Aa=t.n(Da),Ba=Object(ba.a)({root:{width:"100%",flexGrow:1},indicator:{display:"flex",justifyContent:"center",backgroundColor:"transparent",marginBottom:"4px","& > span":{width:"40%",backgroundColor:"#00b0ff",borderTopLeftRadius:4,borderTopRightRadius:4}}})((function(e){return r.a.createElement(pa.a,Object.assign({},e,{TabIndicatorProps:{children:r.a.createElement("span",null)}}))})),Ia=function(){var e=Object(o.h)(),a=Object(o.g)(),t=function(e,a){return function(t){return Object(o.f)(e.pathname,{path:t,exact:!1,strict:!1})?a:-1}}(e,"myTabId"),c=Object(n.useState)(null),l=Object(f.a)(c,2),i=l[0],s=l[1],m=Object(n.useState)(""),u=Object(f.a)(m,2),d=u[0],p=u[1];Object(n.useEffect)((function(){var e=C();p(e)}),[]);var g=function(){s(null)};return r.a.createElement(fa.a,{position:"static"},r.a.createElement(ga.a,{variant:"dense"},r.a.createElement("div",{className:_a.a.toolbar},e.pathname.split("/").length>2?r.a.createElement(h.a,{title:"Go Back"},r.a.createElement(Oe.a,{onClick:function(){a.goBack()}},r.a.createElement(ya.a,{className:_a.a.svg}))):r.a.createElement("div",{style:{width:40}}),r.a.createElement(ee.a,{variant:"h6",className:_a.a.name},"Spotless")),r.a.createElement(Ba,{variant:"fullWidth",value:"myTabId"},r.a.createElement(Ea.a,{label:r.a.createElement("div",{className:_a.a.tab},r.a.createElement(Oa.a,{fontSize:"small"})," Dashboard"),value:t("/dashboard"),component:ha.b,to:"/dashboard",disableRipple:!0}),r.a.createElement(Ea.a,{label:r.a.createElement("div",{className:_a.a.tab},r.a.createElement(ja.a,{fontSize:"small"})," Assignments"),value:t("/assignments"),component:ha.b,to:"/assignments",disableRipple:!0,className:_a.a.tab}),r.a.createElement(Ea.a,{label:r.a.createElement("div",{className:_a.a.tab},r.a.createElement(wa.a,{fontSize:"small"})," Cleaners"),value:t("/cleaners"),component:ha.b,to:"/cleaners",disableRipple:!0,className:_a.a.tab}),r.a.createElement(Ea.a,{label:r.a.createElement("div",{className:_a.a.tab},r.a.createElement(Sa.a,{fontSize:"small"})," Rooms"),value:t("/rooms"),component:ha.b,to:"/rooms",disableRipple:!0}),r.a.createElement(Ea.a,{label:r.a.createElement("div",{className:_a.a.tab},r.a.createElement(xa.a,{fontSize:"small"})," Analysis"),value:t("/analysis"),component:ha.b,to:"/analysis",disableRipple:!0,className:_a.a.tab})),r.a.createElement(h.a,{title:"Open menu"},r.a.createElement(Oe.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){s(e.currentTarget)}},r.a.createElement(Aa.a,{color:"secondary"}))),r.a.createElement(Na.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:g},d.superAdmin&&r.a.createElement(ve.a,{onClick:function(){g(),a.push("/simulator")}},r.a.createElement(Pa.a,null,r.a.createElement(Ca.a,{fontSize:"small",style:{color:"#808080"}})),r.a.createElement(Ra.a,{primary:"Simulator"})),r.a.createElement(ve.a,{onClick:function(){g(),localStorage.removeItem("user"),a.push("/")}},r.a.createElement(Pa.a,null,r.a.createElement(ka.a,{color:"secondary",fontSize:"small"})),r.a.createElement(Ra.a,{primary:"Sign out"})))))},Ta=function(){return r.a.createElement(ne,{style:{textAlign:"start"}},r.a.createElement(ee.a,{variant:"h5"},"Analysis"))},Ma=t(199),Ha=t.n(Ma),Fa=t(314),za=t.n(Fa),La=function(e){var a=e.rooms,t=Object(o.g)();return r.a.createElement(Me.a,{component:fe.a},r.a.createElement(He.a,{size:"small"},r.a.createElement($e.a,null,r.a.createElement(Fe.a,null,r.a.createElement(Le.a,null,"Name"),r.a.createElement(Le.a,{align:"right"},"Building"),r.a.createElement(Le.a,{align:"right"},"Floor"),r.a.createElement(Le.a,{align:"right"},"Contamination index"),r.a.createElement(Le.a,{align:"right"},"Has Patient"),r.a.createElement(Le.a,{align:"right"},"Room type"),r.a.createElement(Le.a,{align:"right"},"Last cleaned"),r.a.createElement(Le.a,null,"Action"))),r.a.createElement(We.a,null,a.map((function(e){return r.a.createElement(Fe.a,{key:e._id},r.a.createElement(Le.a,{component:"th",scope:"row"},e.name),r.a.createElement(Le.a,{align:"right"},e.building),r.a.createElement(Le.a,{align:"right"},e.floor),r.a.createElement(Le.a,{align:"right"},e.contamination_index),r.a.createElement(Le.a,{align:"right"},"<empty>"===e.patient?"No":"Yes"),r.a.createElement(Le.a,{align:"right"},v(e,"displayName")),r.a.createElement(Le.a,{align:"right"},(a=e.last_cleaned)?me()(a).format("YYYY-MM-DD HH:mm:ss"):"Never"),r.a.createElement(Le.a,null,r.a.createElement(Oe.a,{size:"small",color:"secondary",onClick:function(){!function(e){var a=e._id;t.push({pathname:"/rooms/".concat(a),state:{id:a}})}(e)}},r.a.createElement(Ye.a,null))));var a})))))},Wa=function(){var e=Object(n.useState)(null),a=Object(f.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(!1),o=Object(f.a)(l,2),i=o[0],s=o[1],m=Object(n.useState)([]),u=Object(f.a)(m,2),d=u[0],p=u[1],g=Object(n.useState)([]),E=Object(f.a)(g,2),h=E[0],b=E[1],v=Object(n.useState)(""),_=Object(f.a)(v,2),y=_[0],O=_[1];Object(n.useEffect)((function(){P().then((function(e){console.log(e),s(!0),b(e)}),(function(e){c(!0),s(!0),console.log(e)}))}),[]);return r.a.createElement(ne,null,r.a.createElement("div",{className:Ha.a.headerRow},r.a.createElement(ee.a,{variant:"h5",className:Ha.a.bold},"Rooms"),i?r.a.createElement(Ee.a,{variant:"outlined",style:{minWidth:"320px",margin:"8px"}},r.a.createElement(he.a,{id:"demo-simple-select-outlined-label"},"Select hospital"),r.a.createElement(be.a,{label:"Select Hospital",onChange:function(e){O(e.target.value),N(e.target.value._id).then((function(e){console.log(e),p(e)}),(function(e){c(!0),s(!0),console.log(e)}))},value:y,style:{textAlign:"start"}},r.a.createElement(ve.a,{value:{}},r.a.createElement("em",null,"None")),h.map((function(e){return r.a.createElement(ve.a,{value:e,key:e._id},e.name)})))):r.a.createElement(ie.a,{color:"secondary"})),r.a.createElement("img",{src:za.a,alt:"hospital",className:Ha.a.map}),d.length>0&&r.a.createElement(La,{rooms:d}),t&&r.a.createElement("p",null,"ERROR"))},qa=t(89),Ya=t(3),Ga=t(10),Ua=t(644),Ja=t(645),Va=t(142),Xa=t.n(Va),Qa=t(241),Ka=t(663),Za=t(616),$a=t(315),et=t.n($a),at=function(e){var a=e.onChange,t=e.style,c=Object(n.useState)([]),l=Object(f.a)(c,2),o=l[0],i=l[1],u=Object(n.useState)(!1),d=Object(f.a)(u,2),p=d[0],g=d[1],E=Object(n.useState)(null),h=Object(f.a)(E,2),b=h[0],v=h[1],_=p&&0===o.length;Object(n.useEffect)((function(){var e=!0;if(_)return Object(m.a)(s.a.mark((function a(){var t;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,H();case 2:t=a.sent,e&&i(t);case 4:case"end":return a.stop()}}),a)})))(),function(){e=!1}}),[_]);return r.a.createElement(Ka.a,{open:p,onOpen:function(){g(!0)},onClose:function(){g(!1)},className:et.a.autocomplete,style:t,getOptionLabel:function(e){return e.name||""},options:o,loading:_,value:b,onChange:function(e,t){v(t),a(e,t)},renderInput:function(e){return r.a.createElement(Za.a,Object.assign({},e,{label:"Cleaner",variant:"outlined",InputProps:Object(Qa.a)(Object(Qa.a)({},e.InputProps),{},{endAdornment:r.a.createElement(r.a.Fragment,null,_?r.a.createElement(ie.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})},tt=function(e){var a=e.open,t=e.setOpen,c=e.selected,l=e.setSnackOpen,o=e.onClose,i=e.setSnackText,u=Object(n.useState)(null),d=Object(f.a)(u,2),p=d[0],g=d[1],E=function(){o(),t(!1)},h=function(){var e=Object(m.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=c.filter((function(e){return e.assigned_cleaners.length>0}))).length>0)){e.next=4;break}return e.next=4,B(a);case 4:return e.next=6,A(c,p._id);case 6:i("Cleaner assigned"),l(!0),E();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ae.a,{open:a,onClose:E,"aria-labelledby":"form-dialog-title",disableBackdropClick:!0},r.a.createElement(Be.a,{id:"form-dialog-title"},"Select a cleaner"),r.a.createElement(Ie.a,null,r.a.createElement(at,{onChange:function(e,a){g(a)}})),r.a.createElement(Te.a,null,r.a.createElement(Ce.a,{onClick:E,color:"primary"},"Cancel"),r.a.createElement(Ce.a,{color:"primary",onClick:h,disabled:""===p},"Assign")))},nt=t(646),rt=t(617),ct=function(e){var a=e.rooms,t=e.setRooms,n=r.a.useState(""),c=Object(f.a)(n,2),l=c[0],o=c[1],i=r.a.useState(""),s=Object(f.a)(i,2),m=s[0],u=s[1],d=r.a.useState(""),g=Object(f.a)(d,2),E=g[0],h=g[1],b=r.a.useState(!0),v=Object(f.a)(b,2),_=v[0],y=v[1],O=function(e,n,r,c){var l=a;l=l.filter((function(a){var t=!0;return e&&(t=a.building===e),r&&(t=a.floor===r&&t),n&&(t=a.room_type===n.key&&t),c||(t=0===a.assigned_cleaners.length&&t),t})),t(l)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{variant:"outlined",style:{minWidth:"240px",marginBottom:8}},r.a.createElement(he.a,{id:"building"},"Building"),r.a.createElement(be.a,{label:"Building",onChange:function(e){o(e.target.value),O(e.target.value,E,m,_)},value:l},r.a.createElement(ve.a,{value:""},r.a.createElement("em",null,"All")),Object(Xe.a)(new Set(a.map((function(e){return e.building})))).map((function(e){return r.a.createElement(ve.a,{value:e,key:e},e)})))),r.a.createElement(Ee.a,{variant:"outlined",style:{minWidth:"240px",marginBottom:8}},r.a.createElement(he.a,{id:"floor"},"Floor"),r.a.createElement(be.a,{label:"Floor",onChange:function(e){u(e.target.value),O(l,E,e.target.value,_)},value:m},r.a.createElement(ve.a,{value:""},r.a.createElement("em",null,"All")),Object(Xe.a)(new Set(a.map((function(e){return e.floor})))).map((function(e){return r.a.createElement(ve.a,{value:e,key:e},e)})))),r.a.createElement(Ee.a,{variant:"outlined",style:{minWidth:"240px",marginBottom:8}},r.a.createElement(he.a,{id:"room-type"},"Room type"),r.a.createElement(be.a,{label:"Room type",onChange:function(e){h(e.target.value),O(l,e.target.value,m,_)},value:E},r.a.createElement(ve.a,{value:""},r.a.createElement("em",null,"All")),Object.keys(p).map((function(e){return r.a.createElement(ve.a,{value:p[e],key:p[e].displayName},p[e].displayName)})))),r.a.createElement(rt.a,{control:r.a.createElement(ea.a,{checked:_,onChange:function(e,a){y(a),O(l,E,m,a)}}),label:"Show assigned"}))},lt=[{id:"name",numeric:!1,disablePadding:!0,label:"Name"},{id:"building",numeric:!0,disablePadding:!1,label:"Building"},{id:"floor",numeric:!0,disablePadding:!1,label:"Floor"},{id:"cleaner_name",numeric:!1,disablePadding:!1,label:"Assigned Cleaner"},{id:"status",numeric:!1,disablePadding:!1,label:"Status"},{id:"contamination_index",numeric:!0,disablePadding:!1,label:"Contamination index"},{id:"room_type",numeric:!1,disablePadding:!1,label:"Room type"},{id:"last_cleaned",numeric:!0,disablePadding:!1,label:"Last cleaned"},{id:"action",numeric:!0,disablePadding:!1,label:"Action"}],ot=Object(na.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1),textAlign:"left",flexDirection:"column"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Ga.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},filters:{minHeight:96}}})),it=function(e){var a,t=ot(),n=e.numSelected,c=e.selected,l=e.setSelected,o=e.setSnackOpen,i=e.setSnackText,u=e.getData,d=e.rooms,p=e.setRooms,g=r.a.useState(!1),E=Object(f.a)(g,2),b=E[0],v=E[1],_=r.a.useState(!1),y=Object(f.a)(_,2),O=y[0],j=y[1],w=c.filter((function(e){return e.assigned_cleaners.length>0})),S=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(w);case 2:i("Cleaner unassigned"),o(!0),l([]),u(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(ga.a,{className:Object(Ya.a)(t.root,(a={},Object(qa.a)(a,t.highlight,n>0),Object(qa.a)(a,t.filters,O&&0===n),a))},r.a.createElement("div",{className:Xa.a.row},n>0?r.a.createElement(ee.a,{className:Xa.a.title,color:"inherit",variant:"subtitle1",component:"div",style:{fontWeight:600}},n," selected"):r.a.createElement(ee.a,{className:Xa.a.title,variant:"h5",id:"tableTitle",component:"div",style:{fontWeight:"600"}},"Select rows to assign to cleaner"),n>0?r.a.createElement(r.a.Fragment,null,w.length>0&&r.a.createElement(h.a,{title:"Remove room assignments"},r.a.createElement(Ce.a,{variant:"contained",startIcon:r.a.createElement(Ua.a,null),className:Xa.a.critical,style:{flexBasis:"300px",marginRight:32},onClick:S},"Remove assignments")),r.a.createElement(h.a,{title:"Assign to cleaner"},r.a.createElement(Ce.a,{variant:"contained",color:"secondary",style:{flexBasis:"180px"},onClick:function(){v(!0)}},"Assign rooms"))):r.a.createElement(h.a,{title:"Filter list"},r.a.createElement(Oe.a,{"aria-label":"filter list",onClick:function(){j(!O)}},r.a.createElement(Ja.a,{color:O?"secondary":"inherit"})))),O&&0===n&&r.a.createElement("div",{className:Xa.a.row},r.a.createElement(ct,{rooms:d,setRooms:p})),r.a.createElement(tt,{open:b,setOpen:v,selected:c,onClose:function(){l([]),u(!0)},setSnackOpen:o,setSnackText:i}))},st=Object(na.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));var mt=function(){var e=st(),a=r.a.useState("asc"),t=Object(f.a)(a,2),c=t[0],l=t[1],i=r.a.useState("name"),s=Object(f.a)(i,2),m=s[0],u=s[1],d=r.a.useState([]),p=Object(f.a)(d,2),g=p[0],E=p[1],h=r.a.useState(0),b=Object(f.a)(h,2),y=b[0],j=b[1],w=r.a.useState(25),S=Object(f.a)(w,2),x=S[0],C=S[1],k=Object(n.useState)(!1),P=Object(f.a)(k,2),R=P[0],D=P[1],A=Object(n.useState)([]),B=Object(f.a)(A,2),I=B[0],T=B[1],M=Object(n.useState)([]),H=Object(f.a)(M,2),F=H[0],z=H[1],L=Object(n.useState)(!1),W=Object(f.a)(L,2),q=W[0],Y=W[1],G=Object(n.useState)(""),U=Object(f.a)(G,2),J=U[0],V=U[1],X=r.a.useState(!0),Q=Object(f.a)(X,2),K=Q[0],Z=Q[1],$=Object(o.g)();Object(n.useEffect)((function(){K&&N(null,null,!0).then((function(e){e=O(e),T(e),z(e),D(!0),Z(!1)}),(function(e){D(!0),console.log(e)}))}),[K]);var ee=function(e,a){"clickaway"!==a&&Y(!1)};return r.a.createElement(ne,{className:e.root},R?r.a.createElement(fe.a,{className:e.paper},r.a.createElement(it,{numSelected:g.length,selected:g,setSnackOpen:Y,setSelected:E,setSnackText:V,getData:Z,rooms:F,setRooms:T}),r.a.createElement(Me.a,null,r.a.createElement(He.a,{className:e.table,"aria-labelledby":"tableTitle","aria-label":"enhanced table",size:"small"},r.a.createElement(ta,{classes:e,numSelected:g.length,order:c,orderBy:m,onSelectAllClick:function(e){if(e.target.checked){var a=I.map((function(e){return e}));E(a)}else E([])},onRequestSort:function(e,a){l(m===a&&"asc"===c?"desc":"asc"),u(a)},rowCount:I.length,headCells:lt,type:"selection"}),r.a.createElement(We.a,null,la(I,ca(c,m)).slice(y*x,y*x+x).map((function(e,a){var t,n,c=(t=e,-1!==g.indexOf(t)),l="enhanced-table-checkbox-".concat(a);return r.a.createElement(Fe.a,{hover:!0,onClick:function(a){return oa(0,e,g,E)},role:"checkbox","aria-checked":c,tabIndex:-1,key:e.name,selected:c,style:{height:"33px"}},r.a.createElement(Le.a,{padding:"checkbox"},r.a.createElement(ea.a,{checked:c,inputProps:{"aria-labelledby":l}})),r.a.createElement(Le.a,{component:"th",id:l,scope:"row",padding:"none"},e.name),r.a.createElement(Le.a,{align:"right"},e.building),r.a.createElement(Le.a,{align:"right"},e.floor),r.a.createElement(Le.a,null,function(e){if(!e.cleaner)return e.cleaner_name;var a=e.cleaner;return r.a.createElement(nt.a,{component:ha.b,color:"secondary",to:{pathname:"/cleaners/".concat(a._id),state:{id:a._id}}},a.name)}(e)),r.a.createElement(Le.a,null,_(e.contamination_index)),r.a.createElement(Le.a,{align:"right"},e.contamination_index.toFixed(2)),r.a.createElement(Le.a,null,v(e,"displayName")),r.a.createElement(Le.a,{align:"right"},(n=e.last_cleaned)?me()(n).format("YYYY-MM-DD HH:mm:ss"):"Never"),r.a.createElement(Le.a,{align:"right"},r.a.createElement(Oe.a,{color:"secondary",size:"small",onClick:function(){!function(e){var a=e._id;$.push({pathname:"/rooms/".concat(a),state:{id:a}})}(e)}},r.a.createElement(Ye.a,null))))}))))),r.a.createElement(ze.a,{rowsPerPageOptions:[5,10,25,50],component:"div",count:I.length,rowsPerPage:x,page:y,onChangePage:function(e,a){j(a)},onChangeRowsPerPage:function(e){C(parseInt(e.target.value,10)),j(0)}})):r.a.createElement(ie.a,{color:"secondary",style:{margin:"16px auto"}}),r.a.createElement(Je.a,{open:q,autoHideDuration:6e3,onClose:ee,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Ve.a,{variant:"filled",severity:"success",onClose:ee},J)))},ut=t(18),dt=t.n(ut),pt=t(647),ft=t(648),gt=function(e){var a=e.room;return r.a.createElement(pt.a,{className:dt.a.card},r.a.createElement("div",{className:dt.a.cardContent},r.a.createElement(ee.a,{variant:"h6",className:dt.a.semiBold},"Room details"),r.a.createElement(ft.a,{light:!0,className:dt.a.divider}),r.a.createElement(ee.a,{variant:"body1",className:dt.a.semiBold},"Building ",a.building),r.a.createElement(ee.a,{variant:"body2",className:dt.a.medium,color:"textSecondary"},"Floor ",a.floor),r.a.createElement(ft.a,{light:!0,className:dt.a.divider}),r.a.createElement("div",{className:dt.a.row},r.a.createElement(ee.a,{variant:"body1",className:dt.a.semiBold},v(a,"displayName")),r.a.createElement(ee.a,{variant:"body2",className:dt.a.semiBold},"Cleaning time: ",v(a,"cleaningTime")," min")),r.a.createElement(ee.a,{variant:"body2",className:dt.a.medium,color:"textSecondary"},"Cleaning ",v(a,"frequency")," times / week"),r.a.createElement(ft.a,{light:!0,className:dt.a.divider}),r.a.createElement("div",{className:dt.a.row},r.a.createElement(ee.a,{variant:"body1",className:dt.a.semiBold},"Contamination index"),r.a.createElement(ee.a,{variant:"body1",className:[dt.a[function(e){var a="neutral";return e>=60?a="critical":e>=30?a="med":e<30&&(a="good"),a}(a.contamination_index)],dt.a.medium].join(" ")},a.contamination_index))))},Et=t(649),ht=function(e){var a=e.room,t=e.cleaner,c=e.setCleaner,l=Object(n.useState)({}),o=Object(f.a)(l,2),i=o[0],u=o[1],d=Object(n.useState)(!1),p=Object(f.a)(d,2),g=p[0],E=p[1],v=Object(n.useState)(""),_=Object(f.a)(v,2),y=_[0],O=_[1],j=0!==Object.keys(t).length,w=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(a._id,t._id);case 2:c({}),O("Cleaner unassigned"),E(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(a._id,i._id);case 2:c(i),u({}),O("Cleaner assigned"),E(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(e,a){"clickaway"!==a&&E(!1)};return r.a.createElement(pt.a,{className:dt.a.card,style:{height:"min-content"}},r.a.createElement("div",{className:dt.a.cardContent},r.a.createElement("div",{className:dt.a.row},r.a.createElement(b,{variant:function(){if(!j)return"neutral";var e=me()(t.shift_start,"HH:mm"),a=me()(t.shift_end,"HH:mm");return me()().isBetween(e,a)?"good":"critical"}(),size:"tiny",tooltip:"Cleaner name"}),j?r.a.createElement(r.a.Fragment,null,r.a.createElement(nt.a,{component:ha.b,style:{marginLeft:16},color:"secondary",to:{pathname:"/cleaners/".concat(t._id),state:{id:t._id}}},r.a.createElement(ee.a,{variant:"h6",className:dt.a.semiBold},t.name)),r.a.createElement(h.a,{title:"Remove assignment"},r.a.createElement(Oe.a,{style:{marginLeft:"auto"},size:"small",onClick:w},r.a.createElement(Et.a,null)))):r.a.createElement(at,{onChange:function(e,a){return u(a)},style:{marginLeft:16}})),i&&0!==Object.keys(i).length&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{className:dt.a.divider}),r.a.createElement("div",{className:dt.a.row},r.a.createElement(Ce.a,{onClick:S,variant:"contained",color:"secondary",className:dt.a.btn},"Assign")))),r.a.createElement(Je.a,{open:g,autoHideDuration:6e3,onClose:x,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Ve.a,{variant:"filled",severity:"success",onClose:x},y)))},bt=Object(na.a)({root:{lineHeight:"200%"}}),vt=function(e){var a=e.reports,t=bt();return r.a.createElement(pt.a,{className:dt.a.comments},r.a.createElement("div",{className:dt.a.cardContent},r.a.createElement(ee.a,{variant:"h6",className:dt.a.semiBold,style:{marginBottom:16}},"Cleaner comments:"),a.length>0?a.reduce((function(e,a){if(""!==a.comments){var n=me()(a.cleaning_time);e.push(r.a.createElement("div",{key:a._id,className:dt.a.comment},r.a.createElement(ft.a,null),r.a.createElement(ee.a,{variant:"h6",className:t.root},n.format("D MMM, YYYY")),r.a.createElement(ee.a,{variant:"h6",className:[dt.a.semiBold,dt.a.author,t.root].join(" ")},a.cleaner_name),r.a.createElement(ee.a,{variant:"body1",className:t.root},a.comments)))}return e}),[]):r.a.createElement(ee.a,{variant:"body1",className:dt.a.semiBold},"No comments")))},_t=t(650),yt=t(651),Ot=t(242),jt=t.n(Ot);function wt(e){var a=e.classes,t=e.order,n=e.orderBy,c=e.onRequestSort,l=[{id:"cleaning_time",numeric:!0,disablePadding:!1,label:"Cleaning time"},{id:"cleaning_successful",numeric:!1,disablePadding:!1,label:"Cleaning successful"},{id:"action",numeric:!0,disablePadding:!1,label:"Action"}];return"room"===e.type?l.unshift({id:"cleaner",numeric:!1,disablePadding:!1,label:"Cleaner"}):l.unshift({id:"room",numeric:!1,disablePadding:!1,label:"Room"}),r.a.createElement(ta,{classes:a,order:t,orderBy:n,onRequestSort:c,headCells:l})}var St=Object(na.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),xt=function(e){var a=e.reports,t=e.type,n=Object(o.g)(),c=St(),l=r.a.useState("asc"),i=Object(f.a)(l,2),s=i[0],m=i[1],u=r.a.useState("name"),d=Object(f.a)(u,2),p=d[0],g=d[1],E=r.a.useState(0),h=Object(f.a)(E,2),b=h[0],v=h[1],_=r.a.useState(10),y=Object(f.a)(_,2),O=y[0],j=y[1];return r.a.createElement("div",null,r.a.createElement(ee.a,{variant:"h5",style:{margin:"16px 0"},className:jt.a.semiBold},"Past cleaning reports"),a.length>0?r.a.createElement(fe.a,{className:c.paper},r.a.createElement(Me.a,null,r.a.createElement(He.a,{className:c.table,"aria-labelledby":"tableTitle","aria-label":"enhanced table",size:"small"},r.a.createElement(wt,{classes:c,order:s,orderBy:p,onRequestSort:function(e,a){m(p===a&&"asc"===s?"desc":"asc"),g(a)},type:t}),r.a.createElement(We.a,null,la(a,ca(s,p)).slice(b*O,b*O+O).map((function(e,a){var c,l="enhanced-table-checkbox-".concat(a);return r.a.createElement(Fe.a,{hover:!0,tabIndex:-1,key:l,style:{height:"33px"}},r.a.createElement(Le.a,{component:"th",id:l,scope:"row"},"room"===t?(c=e,r.a.createElement(nt.a,{component:ha.b,color:"secondary",to:{pathname:"/cleaners/".concat(c.cleaner_id),state:{id:c.cleaner_id}}},c.cleaner_name)):function(e){return r.a.createElement(nt.a,{component:ha.b,color:"secondary",to:{pathname:"/rooms/".concat(e.room_id),state:{id:e.room_id}}},e.room_name)}(e)),r.a.createElement(Le.a,{align:"right"},me()(e.cleaning_time).format("DD.MM.YYYY HH:mm")),r.a.createElement(Le.a,null,e.cleaning_succesful?r.a.createElement(_t.a,{className:jt.a.good}):r.a.createElement(yt.a,{color:"error"})),r.a.createElement(Le.a,{align:"right"},r.a.createElement(Oe.a,{color:"secondary",size:"small",onClick:function(){!function(e){var a=e._id;n.push({pathname:"/rooms/reports/".concat(a),state:{id:a}})}(e)}},r.a.createElement(Ye.a,null))))}))))),r.a.createElement(ze.a,{rowsPerPageOptions:[5,10,25,50],component:"div",count:a.length,rowsPerPage:O,page:b,onChangePage:function(e,a){v(a)},onChangeRowsPerPage:function(e){j(parseInt(e.target.value,10)),v(0)}})):r.a.createElement(ee.a,{variant:"h6"},"No cleaning Reports"))},Ct=function(){var e=Object(o.h)(),a=Object(o.g)(),t=e.state,c=Object(n.useState)(!1),l=Object(f.a)(c,2),i=l[0],s=l[1],m=Object(n.useState)({}),u=Object(f.a)(m,2),d=u[0],p=u[1],g=Object(n.useState)([]),E=Object(f.a)(g,2),h=E[0],b=E[1],v=Object(n.useState)({}),_=Object(f.a)(v,2),y=_[0],O=_[1],w=Object(n.useState)(!1),S=Object(f.a)(w,2),x=S[0],C=S[1],k=Object(n.useState)(!1),N=Object(f.a)(k,2),P=N[0],R=N[1],A=Object(n.useState)(""),B=Object(f.a)(A,2),I=B[0],T=B[1];Object(n.useEffect)((function(){M(t.id).then((function(e){p(e),s(!0)}),(function(e){return console.log(e)})),D(t.id).then((function(e){e.length>=1&&O(e[0])}),(function(e){return console.log(e)})),L(t.id).then((function(e){b(e.sort((function(e,a){return new Date(a.cleaning_time)-new Date(e.cleaning_time)})))}))}),[t.id]),Object(n.useEffect)((function(){x&&G(t.id,"contamination").then((function(e){var a=document.getElementById("aux"),t=document.getElementById("main"),n=1n;d.is_simulated&&(n=d.contamination_index>=60?20n:d.contamination_index>=30?10n:5n),j(e,a,t,n)})).catch((function(e){console.log(e.message),T(e.message),R(!0)}))}),[t.id,x]);return r.a.createElement(ne,{style:{width:"65%"}},i?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:dt.a.titleRow},r.a.createElement(ee.a,{variant:"h4"},"Room: ",d.name),r.a.createElement(Ce.a,{variant:"text",onClick:function(){a.push({pathname:"/rooms",state:{id:t.id,action:"show"}})},size:"small"},"Show on map")),r.a.createElement("div",{className:dt.a.content},r.a.createElement("div",{className:dt.a.detailsRow},r.a.createElement(gt,{room:d}),r.a.createElement(ht,{room:d,cleaner:y,setCleaner:O})),r.a.createElement(vt,{reports:h}),r.a.createElement("div",{className:dt.a.row},r.a.createElement(ee.a,{variant:"h5"},"Room map"),r.a.createElement(Ce.a,{variant:"outlined",color:"primary",onClick:function(){return C(!x)}},x?"Hide map":"Show Map")),x&&r.a.createElement(r.a.Fragment,null,r.a.createElement("canvas",{id:"aux",style:{display:"none"}}),r.a.createElement("canvas",{id:"main",width:72,height:56,className:dt.a.map})),r.a.createElement(xt,{reports:h,type:"room"}))):r.a.createElement(ie.a,{color:"secondary",style:{margin:"16px auto"}}),r.a.createElement(Je.a,{open:P,autoHideDuration:6e3,onClose:function(e,a){"clickaway"!==a&&(R(!1),C(!1))}},r.a.createElement(Ve.a,{onClose:function(){return R(!1)},severity:"error"},I)))},kt=t(652),Nt=t(653),Pt=t(654),Rt=t(656),Dt=xt,At=t(73),Bt=t.n(At),It=t(655),Tt=ke.a({name:ke.b().required()}),Mt=function(e){var a=e.cleaner,t=e.open,n=e.setOpen,c=e.onSave,l=function(){n(!1)},o=a.shift_start.split(":"),i=a.shift_end.split(":"),u={name:a.name,startHour:o.length>0?o[0]:"",endHour:i.length>0?i[0]:"",startMinutes:o.length>0?o[1]:"",endMinutes:i.length>0?i[1]:""},d=function(){var e=Object(m.a)(s.a.mark((function e(t,r){var l,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=r.setSubmitting,(o=t)._id=a._id,o.shift_start="".concat(t.startHour.padStart(2,"0"),":").concat(t.startMinutes.padStart(2,"0")),o.shift_end="".concat(t.endHour.padStart(2,"0"),":").concat(t.endMinutes.padStart(2,"0")),e.next=7,U(o);case 7:i=e.sent,console.log(i),l(!1),n(!1),c();case 12:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement(Ae.a,{open:t,onClose:l,"aria-labelledby":"form-dialog-title"},r.a.createElement(Be.a,{id:"form-dialog-title"},"Edit cleaner"),r.a.createElement(xe.c,{initialValues:u,onSubmit:d,validationSchema:Tt},(function(e){e.isSubmitting,e.resetForm,e.values;return r.a.createElement(xe.b,null,r.a.createElement(Ie.a,null,r.a.createElement(le.a,{container:!0,spacing:2},r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement(xe.a,{component:Se.b,margin:"dense",id:"name",label:"Name",type:"text",name:"name",fullWidth:!0})),r.a.createElement(Ze,null))),r.a.createElement(Te.a,null,r.a.createElement(Ce.a,{onClick:l,color:"primary"},"Cancel"),r.a.createElement(Ce.a,{type:"submit",color:"primary"},"Save")))})))},Ht=t(159),Ft=t.n(Ht),zt=[{id:"name",numeric:!1,disablePadding:!0,label:"Name"},{id:"building",numeric:!0,disablePadding:!1,label:"Building"},{id:"floor",numeric:!0,disablePadding:!1,label:"Floor"},{id:"cleaner_name",numeric:!1,disablePadding:!1,label:"Assigned Cleaner"},{id:"status",numeric:!1,disablePadding:!1,label:"Status"},{id:"contamination_index",numeric:!0,disablePadding:!1,label:"Contamination index"},{id:"room_type",numeric:!1,disablePadding:!1,label:"Room type"},{id:"last_cleaned",numeric:!0,disablePadding:!1,label:"Last cleaned"},{id:"action",numeric:!0,disablePadding:!1,label:"Action"}],Lt=Object(na.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1),textAlign:"left",flexDirection:"column"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Ga.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},filters:{minHeight:96}}})),Wt=function(e){var a,t=Lt(),n=e.numSelected,c=e.rooms,l=e.setRooms,o=r.a.useState(!1),i=Object(f.a)(o,2),s=i[0],m=i[1];return r.a.createElement(ga.a,{className:Object(Ya.a)(t.root,(a={},Object(qa.a)(a,t.highlight,n>0),Object(qa.a)(a,t.filters,s),a))},r.a.createElement("div",{className:Ft.a.row},n>0?r.a.createElement(ee.a,{className:Ft.a.title,color:"inherit",variant:"subtitle1",component:"div",style:{fontWeight:600}},n," selected"):r.a.createElement(ee.a,{className:Ft.a.title,variant:"h5",id:"tableTitle",component:"div",style:{fontWeight:"600"}},"Assign rooms to cleaner"),r.a.createElement(h.a,{title:"Filter list"},r.a.createElement(Oe.a,{"aria-label":"filter list",onClick:function(){m(!s)}},r.a.createElement(Ja.a,{color:s?"secondary":"inherit"})))),s&&r.a.createElement("div",{className:Ft.a.row},r.a.createElement(ct,{rooms:c,setRooms:l})))},qt=Object(na.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),Yt=function(e){var a=e.cleaner,t=e.onClose,c=e.open,l=e.setOpen,i=e.setSnackOpen,u=e.setSnackText,d=qt(),p=r.a.useState("asc"),g=Object(f.a)(p,2),E=g[0],h=g[1],b=r.a.useState("name"),y=Object(f.a)(b,2),j=y[0],w=y[1],S=r.a.useState([]),x=Object(f.a)(S,2),C=x[0],k=x[1],P=r.a.useState(0),R=Object(f.a)(P,2),D=R[0],I=R[1],T=r.a.useState(10),M=Object(f.a)(T,2),H=M[0],F=M[1],z=Object(n.useState)(!1),L=Object(f.a)(z,2),W=L[0],q=L[1],Y=Object(n.useState)([]),G=Object(f.a)(Y,2),U=G[0],J=G[1],V=Object(n.useState)([]),X=Object(f.a)(V,2),Q=X[0],K=X[1],Z=Object(o.g)();Object(n.useEffect)((function(){N(null,null,!0).then((function(e){e=O(e),console.log(e),J(e),K(e),q(!0)}),(function(e){q(!0),console.log(e)}))}),[]);var $=function(){t(),l(!1)},ee=function(){var e=Object(m.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=C.filter((function(e){return e.assigned_cleaners.length>0}))).length>0)){e.next=4;break}return e.next=4,B(n);case 4:return e.next=6,A(C,a._id);case 6:u("Rooms assigned"),i(!0),t(),l(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae.a,{open:c,onClose:$,"aria-labelledby":"form-dialog-title",disableBackdropClick:!0,maxWidth:"lg"},r.a.createElement(Ie.a,null,W?r.a.createElement(fe.a,{className:d.paper},r.a.createElement(Wt,{numSelected:C.length,rooms:Q,setRooms:J}),r.a.createElement(Me.a,null,r.a.createElement(He.a,{className:d.table,"aria-labelledby":"tableTitle","aria-label":"enhanced table",size:"small"},r.a.createElement(ta,{classes:d,numSelected:C.length,order:E,orderBy:j,onSelectAllClick:function(e){if(e.target.checked){var a=U.map((function(e){return e}));k(a)}else k([])},onRequestSort:function(e,a){h(j===a&&"asc"===E?"desc":"asc"),w(a)},rowCount:U.length,headCells:zt,type:"selection"}),r.a.createElement(We.a,null,la(U,ca(E,j)).slice(D*H,D*H+H).map((function(e,a){var t,n,c=(t=e,-1!==C.indexOf(t)),l="enhanced-table-checkbox-".concat(a);return r.a.createElement(Fe.a,{hover:!0,onClick:function(a){return oa(0,e,C,k)},role:"checkbox","aria-checked":c,tabIndex:-1,key:e.name,selected:c,style:{height:"33px"}},r.a.createElement(Le.a,{padding:"checkbox"},r.a.createElement(ea.a,{checked:c,inputProps:{"aria-labelledby":l}})),r.a.createElement(Le.a,{component:"th",id:l,scope:"row",padding:"none"},e.name),r.a.createElement(Le.a,{align:"right"},e.building),r.a.createElement(Le.a,{align:"right"},e.floor),r.a.createElement(Le.a,null,function(e){var a=e.assigned_cleaners,t=a.length>0&&a[0];return t?t.name:"-"}(e)),r.a.createElement(Le.a,null,_(e.contamination_index)),r.a.createElement(Le.a,{align:"right"},e.contamination_index.toFixed(2)),r.a.createElement(Le.a,null,v(e,"displayName")),r.a.createElement(Le.a,{align:"right"},(n=e.last_cleaned)?me()(n).format("YYYY-MM-DD HH:mm:ss"):"Never"),r.a.createElement(Le.a,{align:"right"},r.a.createElement(Oe.a,{color:"secondary",size:"small",onClick:function(){!function(e){var a=e._id;Z.push({pathname:"/rooms/".concat(a),state:{id:a}})}(e)}},r.a.createElement(Ye.a,null))))}))))),r.a.createElement(ze.a,{rowsPerPageOptions:[5,10,25,50],component:"div",count:U.length,rowsPerPage:H,page:D,onChangePage:function(e,a){I(a)},onChangeRowsPerPage:function(e){F(parseInt(e.target.value,10)),I(0)}})):r.a.createElement(ie.a,{color:"secondary",style:{margin:"16px auto"}})),r.a.createElement(Te.a,null,r.a.createElement(Ce.a,{onClick:$,color:"primary"},"Cancel"),r.a.createElement(Ce.a,{color:"primary",onClick:ee,disabled:0===C.length,variant:"contained"},"Assign"))))},Gt=function(e){var a=e.cleaner,t=e.setSnackOpen,c=e.setSnackText,l=Object(n.useState)([]),o=Object(f.a)(l,2),i=o[0],u=o[1],d=Object(n.useState)(!0),p=Object(f.a)(d,2),g=p[0],E=p[1];Object(n.useEffect)((function(){R(a._id).then((function(e){console.log(e),u(e),E(!1)}),(function(e){console.log(e)}))}),[a]);var b=function(){var e=Object(m.a)(s.a.mark((function e(n){var r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(n._id,a._id);case 2:r=e.sent,console.log(r),(l=Object(Xe.a)(i)).splice(i.indexOf(n),1),u(l),c("Assignment removed"),t(!0);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{margin:"16px 0"}},g?r.a.createElement(ie.a,{color:"secondary"}):i.length>0?r.a.createElement(Me.a,{component:fe.a},r.a.createElement(He.a,{size:"small"},r.a.createElement($e.a,null,r.a.createElement(Fe.a,null,r.a.createElement(Le.a,null,"Room"),r.a.createElement(Le.a,{align:"right"},"Status"),r.a.createElement(Le.a,{align:"right"},"Contamination Index"),r.a.createElement(Le.a,{align:"right"},"Room type"),r.a.createElement(Le.a,{align:"right"},"Cleaning Status"),r.a.createElement(Le.a,null,"Action"))),r.a.createElement(We.a,null,i.map((function(e){return r.a.createElement(Fe.a,{key:e._id},r.a.createElement(Le.a,{component:"th",scope:"row"},e.name),r.a.createElement(Le.a,{align:"right"},_(e.contamination_index)),r.a.createElement(Le.a,{align:"right"},e.contamination_index),r.a.createElement(Le.a,{align:"right"},v(e,"displayName")),r.a.createElement(Le.a,{align:"right"},e.is_cleaning?"Cleaning in progress":"Needs cleaning"),r.a.createElement(Le.a,null,r.a.createElement(h.a,{title:"Remove assignment"},r.a.createElement(Oe.a,{size:"small",onClick:function(){b(e)}},r.a.createElement(Rt.a,{color:"error"})))))}))))):r.a.createElement(ee.a,{variant:"h6"},"No assigned rooms"))},Ut=function(){var e=Object(o.h)(),a=Object(o.g)(),t=e.state,c=Object(n.useState)(!1),l=Object(f.a)(c,2),i=l[0],u=l[1],d=Object(n.useState)(!1),p=Object(f.a)(d,2),g=p[0],E=p[1],b=Object(n.useState)({}),v=Object(f.a)(b,2),_=v[0],y=v[1],O=Object(n.useState)([]),j=Object(f.a)(O,2),w=j[0],S=j[1],x=r.a.useState(null),C=Object(f.a)(x,2),k=C[0],N=C[1],P=r.a.useState(!1),R=Object(f.a)(P,2),D=R[0],A=R[1],B=r.a.useState(!1),I=Object(f.a)(B,2),T=I[0],M=I[1],H=Object(n.useState)(!1),z=Object(f.a)(H,2),q=z[0],Y=z[1],G=Object(n.useState)("Cleaned deleted"),U=Object(f.a)(G,2),J=U[0],V=U[1],X=Object(n.useState)(!1),Q=Object(f.a)(X,2),K=Q[0],Z=Q[1],$=function(){A(!1)},ae=function(){N(null)},te=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(_._id);case 2:V("Cleaner Deleted"),Y(!0),a.goBack();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(e,a){"clickaway"!==a&&Y(!1)};return Object(n.useEffect)((function(){F(t.id).then((function(e){console.log(e),y(e),u(!0)}),(function(e){console.log(e)})),L(null,t.id).then((function(e){S(e.sort((function(e,a){return new Date(a.cleaning_time)-new Date(e.cleaning_time)})))}))}),[t.id,T]),r.a.createElement(ne,{style:{textAlign:"start"}},r.a.createElement("div",{className:Bt.a.row,style:{justifyContent:"space-between"}},r.a.createElement(ee.a,{variant:"h5",className:Bt.a.semiBold},"Cleaner details"),r.a.createElement(Ce.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){N(e.currentTarget)},variant:"outlined",color:"primary"},"Actions"),r.a.createElement(Na.a,{id:"simple-menu",anchorEl:k,keepMounted:!0,open:Boolean(k),onClose:ae},r.a.createElement(ve.a,{onClick:function(){ae(),E(!0)}},r.a.createElement(Pa.a,null,r.a.createElement(kt.a,{fontSize:"small",style:{color:"#808080"}})),r.a.createElement(Ra.a,{primary:"Edit cleaner"})),r.a.createElement(ve.a,{onClick:function(){A(!0),ae()}},r.a.createElement(Pa.a,null,r.a.createElement(Nt.a,{color:"error",fontSize:"small"})),r.a.createElement(Ra.a,{primary:"Delete cleaner"})))),i?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:[Bt.a.row,Bt.a.content].join(" ")},r.a.createElement(Pt.a,{className:Bt.a.avatar}),r.a.createElement("div",null,r.a.createElement(ee.a,{variant:"h6",className:Bt.a.semiBold},"Cleaner name: ",_.name),r.a.createElement(ee.a,{variant:"body1",color:"textSecondary"},"Shift: ",_.shift_start," - ",_.shift_end))),r.a.createElement("div",{className:Bt.a.row,style:{justifyContent:"space-between"}},r.a.createElement(ee.a,{variant:"h5",className:Bt.a.semiBold},"Assigned Rooms"),r.a.createElement(h.a,{title:"Add assignments"},r.a.createElement(Oe.a,{onClick:function(){Z(!0)}},r.a.createElement(qe.a,null)))),r.a.createElement(Gt,{cleaner:_,setSnackOpen:Y,setSnackText:V}),r.a.createElement(Dt,{reports:w,type:"cleaner"})):r.a.createElement(ie.a,{color:"secondary",style:{margin:"16px auto"}}),r.a.createElement(Ae.a,{open:D,onClose:$,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Be.a,{id:"alert-dialog-title"},"Delete cleaner"),r.a.createElement(Ie.a,null,r.a.createElement(It.a,{id:"alert-dialog-description"},"Are you sure you want to delete the cleaner?")),r.a.createElement(Te.a,null,r.a.createElement(Ce.a,{onClick:$,color:"primary"},"Cancel"),r.a.createElement(Ce.a,{onClick:function(){$(),te()},color:"primary",autoFocus:!0},"Delete"))),i&&r.a.createElement(Mt,{cleaner:_,open:g,setOpen:E,onSave:function(){V("Saved"),Y(!0),M(!0)}}),r.a.createElement(Yt,{setSnackText:V,open:K,setSnackOpen:Y,setOpen:Z,onClose:function(){M(!0)},cleaner:_}),r.a.createElement(Je.a,{open:q,autoHideDuration:6e3,onClose:re,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Ve.a,{variant:"filled",severity:"success",onClose:re},J)))},Jt=t(34),Vt=t.n(Jt),Xt=function(){var e=Object(o.h)().state.id,a=Object(n.useState)({}),t=Object(f.a)(a,2),c=t[0],l=t[1],i=Object(n.useState)(""),u=Object(f.a)(i,2),d=u[0],p=u[1],g=Object(n.useState)(!1),E=Object(f.a)(g,2),h=E[0],b=E[1],v=Object(n.useState)(""),_=Object(f.a)(v,2),O=_[0],w=_[1];Object(n.useEffect)((function(){q(e).then((function(e){l(e)}))}),[e]);var S=function(){var a=Object(m.a)(s.a.mark((function a(t){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return p(t.target.value),a.next=3,Y(e,t.target.value).then((function(e){var a=document.getElementById("aux"),t=document.getElementById("main");console.log(e),j(e,a,t,1n)})).catch((function(e){console.error(e),w("Could not load map"),b(!0)}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(ne,{style:{textAlign:"start"}},r.a.createElement(ee.a,{variant:"h4",className:Vt.a.semiBold},"Cleaning report details"),r.a.createElement(le.a,{container:!0,spacing:2},r.a.createElement(le.a,{item:!0,xs:6},r.a.createElement("div",{className:Vt.a.row,style:{justifyContent:"space-between"}},r.a.createElement(ee.a,{variant:"h5"},"Room map"),r.a.createElement(Ee.a,{variant:"outlined",style:{minWidth:"320px",marginBottom:8}},r.a.createElement(he.a,{id:"demo-simple-select-outlined-label"},"Contamination map type"),r.a.createElement(be.a,{label:"Contamination map type",onChange:S,value:d},r.a.createElement(ve.a,{value:"clean"},"After cleaning"),r.a.createElement(ve.a,{value:"contamination"},"Before cleaning")))),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("canvas",{id:"aux",style:{display:"none"}}),r.a.createElement("canvas",{id:"main",width:72,height:56,className:Vt.a.map})),r.a.createElement(ee.a,{variant:"h5"},"Cleaner comments:"),r.a.createElement("div",{className:Vt.a.comments},r.a.createElement(ee.a,{variant:"body1",className:Vt.a.comment},c.comments))),r.a.createElement(le.a,{item:!0,xs:6},r.a.createElement("div",{className:Vt.a.row},r.a.createElement(ee.a,{variant:"h5",className:Vt.a.reportInfo},"Cleaner:"),r.a.createElement(nt.a,{component:ha.b,color:"secondary",to:{pathname:"/cleaners/".concat(c.cleaner_id),state:{id:c.cleaner_id}}},r.a.createElement(ee.a,{style:{marginLeft:"4px"},variant:"h5"},c.cleaner_name))),r.a.createElement("div",{className:Vt.a.row},r.a.createElement(ee.a,{variant:"h5",className:Vt.a.reportInfo},"Room:"),r.a.createElement(ee.a,{style:{marginLeft:"4px"},variant:"h5"},c.room_name)),r.a.createElement("div",{className:Vt.a.row},r.a.createElement(ee.a,{variant:"h5",className:Vt.a.reportInfo},"Cleaning time:"),r.a.createElement(ee.a,{style:{marginLeft:"4px"},variant:"h5"},me()(c.cleaning_time).format("YYYY-MM-DD HH:mm:ss"))),r.a.createElement("div",{className:Vt.a.row},r.a.createElement(ee.a,{variant:"h5",className:Vt.a.reportInfo},"Cleaning successful:"),r.a.createElement("div",{style:{marginLeft:4,height:35}},c.cleaning_succesful?r.a.createElement(_t.a,{className:Vt.a.good,fontSize:"large"}):r.a.createElement(yt.a,{color:"error",fontSize:"large"}))),r.a.createElement("div",{className:Vt.a.row},r.a.createElement(ee.a,{variant:"h5",className:Vt.a.reportInfo},"Overview:"),r.a.createElement(ee.a,{style:{marginLeft:"4px"},variant:"h5"},c.overview)),r.a.createElement("div",{className:Vt.a.row},r.a.createElement(ee.a,{variant:"h5",className:Vt.a.reportInfo},"Contamination index:"),r.a.createElement(ee.a,{style:{marginLeft:"4px"},variant:"h5",className:Vt.a[y(c.contamination_index)]},c.contamination_index)))),r.a.createElement(Je.a,{open:h,autoHideDuration:6e3,onClose:function(e,a){"clickaway"!==a&&b(!1)}},r.a.createElement(Ve.a,{onClose:function(){return b(!1)},severity:"error"},O)))},Qt=t(106),Kt=t.n(Qt),Zt=t(670),$t=t(566),en=function(){var e=Object(n.useState)(10),a=Object(f.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(!0),o=Object(f.a)(l,2),i=o[0],u=o[1],d=Object(n.useState)(!1),p=Object(f.a)(d,2),g=p[0],E=p[1],h=Object(n.useState)(!1),b=Object(f.a)(h,2),v=b[0],_=b[1],y=Object(n.useState)("Simulation speed updated"),O=Object(f.a)(y,2),j=O[0],w=O[1],S=function(e,a){"clickaway"!==a&&E(!1)};Object(n.useEffect)((function(){J().then((function(e){c(e.simulator_speed),u(!1)}))}),[]);var x=function(){w("Simulation reset"),_(!1)};return r.a.createElement(ne,{style:{textAlign:"start"}},r.a.createElement(ee.a,{variant:"h5"},"Simulator"),i?r.a.createElement(ie.a,{style:{margin:"auto"}}):r.a.createElement(le.a,{container:!0},r.a.createElement(le.a,{container:!0,className:Kt.a.slider},r.a.createElement(le.a,{item:!0,xs:!0},r.a.createElement("div",{className:Kt.a.row},r.a.createElement(ee.a,{id:"discrete-slider",gutterBottom:!0},"Simulation speed"),r.a.createElement(Ce.a,{variant:"text",color:"primary",onClick:function(){V(t).then((function(){w("Simulation speed updated"),E(!0)})).catch((function(){return E(!0)}))}},"Set"))),r.a.createElement(le.a,{container:!0,spacing:2,direction:"row"},r.a.createElement(le.a,{item:!0,style:{flex:1}},r.a.createElement(Zt.a,{getAriaValueText:function(e){return"".concat(e,"x")},"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:null,min:.1,marks:function(){for(var e=[],a=5;a<=100;a+=5)e.push({value:a,label:a});return e.unshift({value:.1,label:"0.1"},{value:.5},{value:1}),e}(),onChange:function(e,a){c(a)},value:t})),r.a.createElement(le.a,{item:!0},r.a.createElement($t.a,{style:{width:42},value:t,margin:"dense",onChange:function(e){c(""===e.target.value?"":Number(e.target.value))},onBlur:function(){t<.1?c(0):t>1e3&&c(1e3)},inputProps:{step:5,min:0,max:1e3,type:"number","aria-labelledby":"input-slider"}})))),r.a.createElement(le.a,{item:!0,style:{display:"flex",marginLeft:32},xs:!0},r.a.createElement(pt.a,{className:Kt.a.card},r.a.createElement("div",{className:Kt.a.cardContent},r.a.createElement(ee.a,{variant:"h6",className:Kt.a.semiBold},"Simulator actions"),r.a.createElement(ft.a,{className:Kt.a.divider,light:!0}),r.a.createElement(Ce.a,{onClick:function(){_(!0)},variant:"contained",color:"secondary"},"Reset simulated rooms"))))),r.a.createElement(Je.a,{open:g,autoHideDuration:6e3,onClose:S,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Ve.a,{variant:"filled",severity:"success",onClose:S},j)),r.a.createElement(Ae.a,{open:v,onClose:x,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Be.a,{id:"alert-dialog-title"},"Reset simulated rooms"),r.a.createElement(Ie.a,null,r.a.createElement(It.a,{id:"alert-dialog-description"},"Are you sure you want to reset the rooms?")),r.a.createElement(Te.a,null,r.a.createElement(Ce.a,{onClick:x,color:"primary"},"Cancel"),r.a.createElement(Ce.a,{onClick:Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(),X().then((function(){return E(!0)})).catch((function(){return E(!0)}));case 2:case"end":return e.stop()}}),e)}))),color:"primary",autoFocus:!0},"Reset"))))};var an=function(){var e=Object(o.h)(),a=C();return r.a.createElement("div",{className:"App"},"/"!==e.pathname&&r.a.createElement(Ia,null),r.a.createElement(o.d,{location:e},r.a.createElement(o.b,{path:"/dashboard",render:function(){return x()?r.a.createElement(we,null):r.a.createElement(o.a,{to:"/"})}}),r.a.createElement(o.b,{path:"/cleaners/:id",render:function(){return x()?r.a.createElement(Ut,null):r.a.createElement(o.a,{to:"/"})}}),r.a.createElement(o.b,{path:"/cleaners",render:function(){return x()?r.a.createElement(da,null):r.a.createElement(o.a,{to:"/"})}}),r.a.createElement(o.b,{path:"/assignments",render:function(){return x()?r.a.createElement(mt,null):r.a.createElement(o.a,{to:"/"})}}),r.a.createElement(o.b,{path:"/rooms/reports/:id",render:function(){return x()?r.a.createElement(Xt,null):r.a.createElement(o.a,{to:"/"})}}),r.a.createElement(o.b,{path:"/rooms/:id",render:function(){return x()?r.a.createElement(Ct,null):r.a.createElement(o.a,{to:"/"})}}),r.a.createElement(o.b,{path:"/rooms",render:function(){return x()?r.a.createElement(Wa,null):r.a.createElement(o.a,{to:"/"})}}),r.a.createElement(o.b,{path:"/analysis",render:function(){return x()?r.a.createElement(Ta,null):r.a.createElement(o.a,{to:"/"})}}),r.a.createElement(o.b,{path:"/simulator",render:function(){return x()&&a.superAdmin?r.a.createElement(en,null):r.a.createElement(o.a,{to:"/"})}}),r.a.createElement(o.b,{path:"/",render:function(){return x()?r.a.createElement(o.a,{to:"/dashboard"}):r.a.createElement(De,null)}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var tn=t(657),nn=t(660),rn=t(661),cn=t(658),ln=t(659),on=Object(tn.a)({palette:{primary:{main:cn.a[900]},secondary:ln.a},typography:{fontFamily:["Raleway","sans-serif"]}});l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ha.a,{basename:"/spotless"},r.a.createElement(nn.a,{theme:on},r.a.createElement(rn.b,{injectFirst:!0},r.a.createElement(an,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},73:function(e,a,t){e.exports={content:"CleanerDetailsPage_content__3PEfI",avatar:"CleanerDetailsPage_avatar__3KDG8",row:"CleanerDetailsPage_row__G0VOc",menu:"CleanerDetailsPage_menu__2gyF8",column:"CleanerDetailsPage_column__3374X",semiBold:"CleanerDetailsPage_semiBold__1F3iu"}}},[[368,1,2]]]);
//# sourceMappingURL=main.cea7da3c.chunk.js.map