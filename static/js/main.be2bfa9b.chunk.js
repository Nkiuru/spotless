(this.webpackJsonpspotless=this.webpackJsonpspotless||[]).push([[0],{101:function(e,a,t){e.exports={headerRow:"RoomsPage_headerRow__3ck7N",bold:"RoomsPage_bold__39rfR",map:"RoomsPage_map__19OrU",area:"RoomsPage_area__2kJln",roomInfo:"RoomsPage_roomInfo__2IEIj",filters:"RoomsPage_filters__BmR-T"}},110:function(e,a,t){e.exports={slider:"AdminPage_slider__15E9C",row:"AdminPage_row__2qRHf",divider:"AdminPage_divider__3uIH_",semiBold:"AdminPage_semiBold__EaJqb",medium:"AdminPage_medium__2aq8Q",card:"AdminPage_card__3NaLL",cardContent:"AdminPage_cardContent__1_5WT"}},142:function(e,a,t){e.exports={dot:"StatusDot_dot__1rSYH",good:"StatusDot_good__1GIEp",medium:"StatusDot_medium__3zBB3",critical:"StatusDot_critical__23vOC",neutral:"StatusDot_neutral__1H6OR",tiny:"StatusDot_tiny__33nQ5",small:"StatusDot_small__1yc1L",large:"StatusDot_large__jMuJN"}},143:function(e,a,t){e.exports={title:"AssignmentsPage_title__3UMlB",critical:"AssignmentsPage_critical__3ZemZ",row:"AssignmentsPage_row__2lJV1"}},158:function(e,a,t){e.exports={chart:"ReportsPerDay_chart__1nn7U",title:"ReportsPerDay_title__aLd0m",container:"ReportsPerDay_container__3-OV0"}},159:function(e,a,t){e.exports={form:"LoginPage_form__38hI6",btn:"LoginPage_btn__Q93UE",content:"LoginPage_content__3F07h",img:"LoginPage_img__HnDXO"}},160:function(e,a,t){e.exports={chart:"CleaningsByCleaner_chart__3aloT",title:"CleaningsByCleaner_title__2Z5X5",container:"CleaningsByCleaner_container__2ovud"}},161:function(e,a,t){e.exports={chart:"ContaminationIndexOverTime_chart__-hDF2",title:"ContaminationIndexOverTime_title__2xIiR",container:"ContaminationIndexOverTime_container__vcMdl"}},162:function(e,a,t){e.exports={chart:"CleaningDuration_chart__3_7JM",title:"CleaningDuration_title__XmVrf",container:"CleaningDuration_container__2fTKe"}},163:function(e,a,t){e.exports={chart:"ActivityGraph_chart__1OtGx",title:"ActivityGraph_title__2ww9S",container:"ActivityGraph_container__14QgA"}},164:function(e,a,t){e.exports={title:"RoomSelector_title__363JP",critical:"RoomSelector_critical__a-ztV",row:"RoomSelector_row__n9QC3"}},19:function(e,a,t){e.exports={titleRow:"RoomDetailsPage_titleRow__JoTlm",content:"RoomDetailsPage_content__2CxAu",card:"RoomDetailsPage_card__2J4HU",cardContent:"RoomDetailsPage_cardContent__1soEX",detailsRow:"RoomDetailsPage_detailsRow__3fj0E",row:"RoomDetailsPage_row__PCQ4C",divider:"RoomDetailsPage_divider__hWVez",semiBold:"RoomDetailsPage_semiBold__24ERR",medium:"RoomDetailsPage_medium__3Rnxk",good:"RoomDetailsPage_good__2jSxq",med:"RoomDetailsPage_med__T6SFg",critical:"RoomDetailsPage_critical__2gPiW",neutral:"RoomDetailsPage_neutral__2SrpQ",btn:"RoomDetailsPage_btn__3tYWx",comments:"RoomDetailsPage_comments__1nTSD",comment:"RoomDetailsPage_comment__1rwNF",author:"RoomDetailsPage_author__tbk-d",container:"RoomDetailsPage_container__2fZtP",map:"RoomDetailsPage_map__2yhwI",overlay:"RoomDetailsPage_overlay__1x7-D"}},206:function(e,a,t){e.exports={menu:"ShiftPicker_menu__1os-v",row:"ShiftPicker_row__rUGBG"}},239:function(e,a,t){e.exports={pageContainer:"PageContainer_pageContainer__iX86t",pageContent:"PageContainer_pageContent__1wPf8"}},245:function(e,a,t){e.exports={headerRow:"CleanersPage_headerRow__20bGG",bold:"CleanersPage_bold__qIG9F",menu:"CleanersPage_menu__1x8Ct",row:"CleanersPage_row__2H2UE"}},247:function(e,a,t){e.exports={good:"CleaningReportTable_good__2fi-5",semiBold:"CleaningReportTable_semiBold__3M_nh"}},248:function(e,a,t){e.exports=t.p+"static/media/heatmap2.dbb6a747.png"},26:function(e,a,t){e.exports={row:"ReportPage_row__1XU8D",semiBold:"ReportPage_semiBold__20bHc",reportInfo:"ReportPage_reportInfo__KuWwG",column:"ReportPage_column__1fkvo",good:"ReportPage_good__IEB1u",medium:"ReportPage_medium__1jIMT",critical:"ReportPage_critical___2FfG",container:"ReportPage_container__rVF_Z",map:"ReportPage_map__1ruE5",overlay:"ReportPage_overlay__3SQk1",comments:"ReportPage_comments__vvAhd",comment:"ReportPage_comment__38N5l"}},327:function(e,a,t){e.exports=t.p+"static/media/web_logo.11335064.png"},328:function(e,a,t){e.exports=t.p+"static/media/logo.75e400ae.png"},330:function(e,a,t){e.exports=t.p+"static/media/hospital.ea9e1e90.png"},332:function(e,a,t){e.exports={autocomplete:"CleanerSelect_autocomplete__2dss4"}},385:function(e,a,t){e.exports=t(582)},390:function(e,a,t){},391:function(e,a,t){},48:function(e,a,t){e.exports={semiBold:"DashboardPage_semiBold__1wP56",stat:"DashboardPage_stat__1HNGL",keyStat:"DashboardPage_keyStat__3TqkO",subtitle:"DashboardPage_subtitle__SKIyw",grid:"DashboardPage_grid__3i4Zn",alerts:"DashboardPage_alerts__1Vbju",alert:"DashboardPage_alert__3qisR"}},50:function(e,a,t){e.exports={toolbar:"Toolbar_toolbar__1Bm9j",name:"Toolbar_name__3EvOQ",svg:"Toolbar_svg__3XlL9",tab:"Toolbar_tab__3uwiV",logo:"Toolbar_logo__2iJuv"}},582:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(22),o=t.n(c),l=(t(390),t(391),t(31)),i=t(7),s=t.n(i),m=t(12),u="zL43mXgXk5xa7YFRBVZscbLnGFaqVh24q5G6fhGjmAv532FAVBRtnuCJpwXWXnhw",d="https://cleaner-app-api.azurewebsites.net/api/",p=Object.freeze({OFFICE:{frequency:1,cleaningTime:5,displayName:"Office",key:"OFFICE"},TOILET:{frequency:5,cleaningTime:5,displayName:"Toilet",key:"TOILET"},WARD_ROOM:{frequency:5,cleaningTime:8,displayName:"Ward room",key:"WARD_ROOM"},EXAMINATION_ROOM:{frequency:5,cleaningTime:6,displayName:"Examination room",key:"EXAMINATION_ROOM"},CORRIDOR:{frequency:3,cleaningTime:9,displayName:"Corridor",key:"CORRIDOR"},WAITING_ROOM:{frequency:5,cleaningTime:10,displayName:"Waiting room",key:"WAITING_ROOM"}}),f=Object.freeze({name:"hospital map",areas:[{shape:"rect",coords:[132,25,193,144]},{shape:"rect",coords:[62,27,126,144]},{shape:"rect",coords:[9,48,57,160]},{shape:"rect",coords:[9,165,79,254]},{shape:"poly",coords:[368,27,368,113,316,113,316,27,369,27]},{shape:"poly",coords:[310,112,288,112,287,160,253,160,253,74,201,74,200,26,311,26,312,112,310,111]},{shape:"rect",coords:[291,116,369,160]},{shape:"rect",coords:[374,27,429,144]},{shape:"rect",coords:[433,27,488,145]},{shape:"rect",coords:[494,27,548,145]},{shape:"rect",coords:[554,26,608,145]},{shape:"rect",coords:[373,149,641,211]},{shape:"rect",coords:[596,216,639,307]},{shape:"rect",coords:[522,216,558,307]},{shape:"rect",coords:[476,215,517,306]},{shape:"rect",coords:[418,215,472,306]},{shape:"rect",coords:[365,215,414,307]},{shape:"rect",coords:[293,216,360,307]},{shape:"rect",coords:[259,214,289,307]},{shape:"rect",coords:[174,258,255,305]},{shape:"rect",coords:[175,215,255,255]},{shape:"rect",coords:[85,215,172,256]},{shape:"rect",coords:[85,259,171,307]},{shape:"poly",coords:[368,164,368,211,85,210,84,149,184,148,184,164,368,164,368,163]},{shape:"poly",coords:[84,370,193,371,194,356,258,357,257,310,83,310,83,370]},{shape:"rect",coords:[9,262,79,358]},{shape:"rect",coords:[262,311,369,358]},{shape:"rect",coords:[373,310,608,372]},{shape:"rect",coords:[551,378,610,494]},{shape:"rect",coords:[492,377,550,494]},{shape:"rect",coords:[432,377,487,494]},{shape:"rect",coords:[374,376,428,494]},{shape:"rect",coords:[290,362,369,405]},{shape:"rect",coords:[13,363,57,474]},{shape:"rect",coords:[61,376,129,492]},{shape:"poly",coords:[368,494,368,409,285,409,286,362,261,362,262,494,368,494]},{shape:"poly",coords:[133,376,133,494,194,494,194,441,247,442,249,397,195,396,195,376,133,377]}]}),g=localStorage.getItem("hospital")||!1,h=localStorage.getItem("hospital_name")||!1,E=function(){return null!==localStorage.getItem("user")},b=function(){return!!E()&&JSON.parse(localStorage.getItem("user"))},v=function(e,a,t){var n=a;return a.length>0&&t?n+="&".concat(e,"=").concat(t):t&&(n+="?".concat(e,"=").concat(t)),n},_=function(){var e=Object(m.a)(s.a.mark((function e(a,t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"rooms",r=v("hospital_id","",a=a||g),r=v("floor",r,t),r=v("assigned_cleaners",r,n=n?1:0),e.abrupt("return",W("rooms",r));case 7:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W("hospitals"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W("cleaners/rooms?cleaner_id=".concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),j=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W("cleaners/rooms?room_id=".concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(s.a.mark((function e(a,t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(a.map((function(e){return S(e._id,t)}))));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),w=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(a.map((function(e){return C(e._id,e.assigned_cleaners[0]._id)}))));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),S=function(){var e=Object(m.a)(s.a.mark((function e(a,t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y("cleaners/rooms",JSON.stringify({cleaner_id:t,room_id:a})));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),C=function(){var e=Object(m.a)(s.a.mark((function e(a,t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q("cleaners/rooms",JSON.stringify({cleaner_id:t,room_id:a})));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),k=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W("room?_id=".concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W("cleaners/"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W("cleaner?_id=".concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),R=function(){var e=Object(m.a)(s.a.mark((function e(a,t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y("cleaner/",JSON.stringify({name:a,shift_start:t,shift_end:n})));case 1:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(s.a.mark((function e(a,t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=n||h,r=v("room_id","",a),r=v("cleaner_id",r,t),r=v("hospital_name",r,n),e.abrupt("return",W("reports",r));case 5:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q("cleaner",JSON.stringify({_id:a})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),B=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W("report?_id=".concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(s.a.mark((function e(a,t){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+"report/heatmap?_id=".concat(a,"&type=").concat(t),e.next=3,fetch(n,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:u,charset:"utf-8"}});case 3:if(!(r=e.sent).ok){e.next=8;break}return e.abrupt("return",r.arrayBuffer());case 8:return e.next=10,r.json();case 10:throw c=e.sent,console.log(c),new Error(c.error);case 13:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),T=function(){var e=Object(m.a)(s.a.mark((function e(a,t){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+"room/heatmap?_id=".concat(a,"&type=").concat(t),e.next=3,fetch(n,{method:"GET",headers:{"Content-Type":"application/octet-stream",Authorization:u,charset:"utf-8"}});case 3:if(!(r=e.sent).ok){e.next=8;break}return e.abrupt("return",r.arrayBuffer());case 8:return e.next=10,r.json();case 10:throw c=e.sent,new Error(c.error);case 12:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),M=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G("cleaner/",JSON.stringify({_id:a._id,name:a.name,shift_start:a.shift_start,shift_end:a.shift_end})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),F=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W("simulator/settings"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.abrupt("return",G("simulator/settings",JSON.stringify({simulator_speed:a})));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),z=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W("simulator/clear"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(m.a)(s.a.mark((function e(a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(d,"room/floorplan?_id=").concat(a),{method:"GET",headers:{"Content-Type":"image/png",Authorization:u,charset:"utf-8"}});case 2:if(!(t=e.sent).ok){e.next=7;break}return e.abrupt("return",t.blob());case 7:throw new Error(t.statusText);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),W=function(){var e=Object(m.a)(s.a.mark((function e(a,t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+a+(t||""),e.next=3,fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:u,charset:"utf-8"}});case 3:if(!(r=e.sent).ok){e.next=8;break}return e.abrupt("return",r.json());case 8:return e.t0=Error,e.next=11,r.json().message;case 11:throw e.t1=e.sent,new e.t0(e.t1);case 13:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(m.a)(s.a.mark((function e(a,t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+a,e.next=3,fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:u,charset:"utf-8"},body:t});case 3:if(!(r=e.sent).ok){e.next=8;break}return e.abrupt("return",r.json());case 8:return e.t0=Error,e.next=11,r.json().message;case 11:throw e.t1=e.sent,new e.t0(e.t1);case 13:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(s.a.mark((function e(a,t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+a,e.next=3,fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:u,charset:"utf-8"},body:t});case 3:if(!(r=e.sent).ok){e.next=8;break}return e.abrupt("return",r.json());case 8:return e.t0=Error,e.next=11,r.json().message;case 11:throw e.t1=e.sent,new e.t0(e.t1);case 13:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),G=function(){var e=Object(m.a)(s.a.mark((function e(a,t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d+a,e.next=3,fetch(n,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:u,charset:"utf-8"},body:t});case 3:if(!(r=e.sent).ok){e.next=8;break}return e.abrupt("return",r.json());case 8:return e.t0=Error,e.next=11,r.json().message;case 11:throw e.t1=e.sent,new e.t0(e.t1);case 13:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),U=t(6),J=t(79),V=t(239),X=t.n(V),K=function(e){var a=e.children,t=e.style,n=e.noToolbar?0:"48px";return r.a.createElement("div",{className:X.a.pageContainer,style:{top:n}},r.a.createElement("div",{className:X.a.pageContent,style:t},a))},Z=t(48),Q=t.n(Z),$=t(632),ee=function(e){var a=e.value,t=e.subtitle,n=e.color;return r.a.createElement("div",{className:Q.a.stat},r.a.createElement("div",{className:Q.a.keyStat},r.a.createElement(J.a,{variant:"h3",style:{color:n}},a)),r.a.createElement(J.a,{variant:"body2",className:Q.a.subtitle},t))},ae=t(631),te=t(21),ne=t.n(te),re=t(142),ce=t.n(re),oe=t(630),le=function(e){var a=e.variant,t=e.size,n=e.tooltip,c=[ce.a.dot];return c.push(a?ce.a[a]:ce.a.neutral),c.push(t?ce.a[t]:ce.a.small),r.a.createElement(oe.a,{title:n},r.a.createElement("div",{className:c.join(" ")}))},ie=function(e,a){return"<empty>"!==e.room_type?p[e.room_type][a]:""},se=function(e){var a="neutral";return e>=60?a="critical":e>=30?a="medium":e<30&&(a="good"),r.a.createElement(le,{variant:a,size:"tiny",tooltip:e})},me=function(e){var a="neutral";return e>=60?a="critical":e>=30?a="medium":e<30&&(a="good"),a},ue=function(e){var a="#CFD3DA";return e>=60?a="#EB5757":e>=30?a="#F2C94C":e<30&&(a="#27AE60"),a},de=function(e){return e.map((function(e){e.status=e.contamination_index;var a=e.assigned_cleaners,t=a.length>0&&a[0];return t?(e.cleaner=t,e.cleaner_name=t.name):e.cleaner_name="-",e}))};function pe(e,a,t,n,r,c){var o=null;try{o=new BigUint64Array(e)}catch(_){throw _}var l=function(e,a){for(var t,n,r,c,o=BigInt(Number.MAX_SAFE_INTEGER),l=BigInt(0),i=0;i<e.length;i++)(r=e[i])<o&&(o=r),r>l&&(l=r);var s=[];(n=BigInt(l)/a)<=(t=BigInt(o))&&(n=t+1n);for(var m=0;m<e.length;m++)(c=255n*(e[m]-t)/(n-t))>255n&&(c=255),c<0n&&(c=0n),s.push(Number(c));return new Uint8Array(s)}(o,n),i=function(){for(var e,a,t,n,r,c=[],o=[],l=[],i=0;i<=255;i++)n=.01236846501*i,r=Math.cos(n-1),e=Math.round(200*Math.pow(2,Math.sin(n-1.6))),a=Math.round(Math.atan(n)*r*155+100),t=Math.round(255*r),e=Math.min(255,e),a=Math.min(255,a),t=Math.min(255,t),e=Math.max(0,e),a=Math.max(0,a),t=Math.max(0,t),c.push(e),o.push(a),l.push(t);return[new Uint8ClampedArray(c),new Uint8ClampedArray(o),new Uint8ClampedArray(l)]}(),s=Object(U.a)(i,3),m=s[0],u=s[1],d=s[2],p=null,f=null,g=Math.round(l.length/72);if(l){f=(p=new ImageData(72,g)).data;for(var h=0,E=0;E<f.length;E+=4){var b=l[h];f[E]=m[b],f[E+1]=u[b],f[E+2]=d[b],f[E+3]=c?0:255,f[E]!==m[0]&&f[E+1]!==u[0]&&f[E+2]!==d[0]&&r&&(f[E]=0,f[E+1]=u[b],f[E+2]=0,f[E+3]=255),h++}}var v=t.getContext("2d");a.getContext("2d").putImageData(p,0,0),v.drawImage(a,0,0),t.style="transform: scale(1, 1); flex: 1"}var fe=t(16),ge=t(158),he=t.n(ge),Ee=t(340),be=function(e){var a=e.reports,t=e.loading,n=a.map((function(e){return ne()(e.cleaning_time).format("DD.MM.YYYY")})),c={};n.forEach((function(e){c[e]=(c[e]||0)+1}));var o=[];return Object.keys(c).forEach((function(e){o.push({date:e,amount:c[e]})})),r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(Ee.a,{className:he.a.container},r.a.createElement(J.a,{variant:"h6",className:he.a.title},"Cleaning events per day"),r.a.createElement(r.a.Fragment,null,t?r.a.createElement(ae.a,{color:"secondary",style:{margin:"auto"}}):r.a.createElement(fe.g,{width:"100%",height:400,className:he.a.chart},0===o.length?r.a.createElement(J.a,{variant:"h6",className:he.a.title,style:{textAlign:"center"}},"No cleaning events"):r.a.createElement(fe.f,{data:o},r.a.createElement(fe.i,{dataKey:"date"}),r.a.createElement(fe.j,null),r.a.createElement(fe.c,{strokeDasharray:"3 3"}),r.a.createElement(fe.h,null),r.a.createElement(fe.d,null),r.a.createElement(fe.e,{type:"monotone",dataKey:"amount",name:"Cleaning events",stroke:"#8884d8",strokeWidth:2}))))))},ve=t(587),_e=t(593),ye=t(592),Oe=t(693),je=t(633),xe=function(e){var a=e.reports,t=e.loading,n=Object(l.g)(),c=ne()(),o=a.filter((function(e){return"Uncleaned due to some reason"===e.overview&&c.isSame(e.cleaning_time,"date")}));return r.a.createElement("div",{className:Q.a.alerts},t?r.a.createElement(ae.a,{size:20,style:{margin:"auto"}}):r.a.createElement(r.a.Fragment,null,o.map((function(e){return r.a.createElement("div",{key:e._id,className:Q.a.alert,onClick:function(){var a;a=e._id,n.push({pathname:"/rooms/reports/".concat(a),state:{id:a}})}},r.a.createElement($.a,{container:!0,direction:"row",alignItems:"center",justify:"space-between"},r.a.createElement($.a,{item:!0},r.a.createElement(J.a,{variant:"h6",className:Q.a.semiBold},e.room_name,", Floor ",e.floor),r.a.createElement(J.a,{variant:"body2",className:Q.a.semiBold,style:{lineHeight:"24px"},color:"textSecondary"},e.cleaner_name,": ",e.comments)),r.a.createElement($.a,{item:!0},r.a.createElement(je.a,{color:"action",style:{fontSize:"1.75rem"}}))))})),0===o.length&&r.a.createElement(J.a,{variant:"h6",style:{marginTop:16},className:Q.a.semiBold},"No recent alerts")))},we=t(586),Se=t(634),Ce=function(){var e=Object(n.useState)(""),a=Object(U.a)(e,2),t=a[0],c=a[1],o=Object(n.useState)([]),l=Object(U.a)(o,2),i=l[0],s=l[1],m=Object(n.useState)([]),u=Object(U.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)(!0),E=Object(U.a)(f,2),v=E[0],O=E[1],j=Object(n.useState)([]),x=Object(U.a)(j,2),w=x[0],S=x[1],C=Object(n.useState)(g),k=Object(U.a)(C,2),N=k[0],P=k[1],R=Object(n.useState)(!1),A=Object(U.a)(R,2),B=A[0],I=A[1],T=Object(n.useState)(!1),M=Object(U.a)(T,2),F=M[0],H=M[1];Object(n.useEffect)((function(){var e=b();c(e),O(!0),Promise.all([_(),D()]).then((function(e){s(e[0]),p(e[1]),O(!1)})),B||y().then((function(e){S(e)}))}),[B,N,F]);var z=function(){var e=[];return i.forEach((function(a){var t=a.contamination_index;t>150?e.push(150):t<0?e.push(0):e.push(t)})),Math.round(e.reduce((function(e,a){return e+a}))/e.length)};return r.a.createElement(K,{style:{textAlign:"start"}},r.a.createElement($.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement($.a,{item:!0,style:{display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement(J.a,{variant:"h4"},"Hello ",t&&t.username,"!"),r.a.createElement(oe.a,{title:"Refresh"},r.a.createElement(we.a,{onClick:function(){H(!F)}},r.a.createElement(Se.a,null)))),r.a.createElement($.a,{item:!0},r.a.createElement(ve.a,{variant:"outlined",style:{minWidth:"320px",margin:"8px"}},r.a.createElement(_e.a,{id:"demo-simple-select-outlined-label"},"Select hospital"),r.a.createElement(ye.a,{label:"Select Hospital",onChange:function(e){P(e.target.value),function(e){e?localStorage.setItem("hospital",e):localStorage.removeItem("hospital"),g=e}(e.target.value);var a=w.find((function(a){return a._id===e.target.value}));!function(e){e?localStorage.setItem("hospital_name",e):localStorage.removeItem("hospital_name"),h=e}(!!a&&a.name),I(!B)},value:N},r.a.createElement(Oe.a,{value:!1},r.a.createElement("em",null,"All")),w.map((function(e){return r.a.createElement(Oe.a,{value:e._id,key:e._id},e.name)})))))),r.a.createElement($.a,{container:!0,spacing:6},r.a.createElement($.a,{item:!0,xs:5},r.a.createElement(J.a,{variant:"h5",className:Q.a.semiBold},"Alerts"),r.a.createElement(xe,{reports:d,loading:v})),r.a.createElement($.a,{item:!0,xs:!0,className:Q.a.grid,style:{marginTop:48}},r.a.createElement($.a,{container:!0,spacing:4,justify:"space-between"},r.a.createElement($.a,{item:!0},r.a.createElement(ee,{subtitle:"Rooms cleaned today",value:v?r.a.createElement(ae.a,{color:"secondary"}):function(){var e=ne()();return i.filter((function(a){return!!a.last_cleaned&&ne()(a.last_cleaned).isSame(e,"date")})).length}(),color:"#F2C94C"})),r.a.createElement($.a,{item:!0},r.a.createElement(ee,{subtitle:"Average contamination index",value:v?r.a.createElement(ae.a,{color:"secondary"}):z()+"%",color:!v&&ue(z())})),r.a.createElement($.a,{item:!0},r.a.createElement(ee,{subtitle:"Green rooms",value:v?r.a.createElement(ae.a,{color:"secondary"}):i.filter((function(e){return"good"===me(e.contamination_index)})).length,color:"#27AE60"})),r.a.createElement($.a,{item:!0},r.a.createElement(ee,{subtitle:"Red rooms",value:v?r.a.createElement(ae.a,{color:"secondary"}):i.filter((function(e){return"critical"===me(e.contamination_index)})).length,color:"#EB5757"}))))),r.a.createElement(be,{loading:v,reports:d}))},ke=t(47),Ne=t(29),Pe=t(637),Re=t(62),De=t(159),Ae=t.n(De),Be=t(327),Ie=t.n(Be),Te=Re.a({username:Re.b().required("Username is required"),password:Re.b().required("Password is required")}),Me=function(){var e=Object(l.g)();return r.a.createElement(K,{noToolbar:!0},r.a.createElement($.a,{container:!0,direction:"row",spacing:2,className:Ae.a.content},r.a.createElement($.a,{item:!0,xs:12},r.a.createElement("img",{src:Ie.a,alt:"LeviTeZer",className:Ae.a.img})),r.a.createElement($.a,{item:!0,xs:12},r.a.createElement(Ee.a,{variant:"elevation",className:Ae.a.form},r.a.createElement(Ne.c,{initialValues:{username:"",password:""},onSubmit:function(a,t){t.setSubmitting;console.log(a),function(e,a){var t=!1;"superadmin"===e&&"admin"===a&&(t=!0),localStorage.setItem("user",JSON.stringify({username:e,superAdmin:t}))}(a.username,a.password),e.push("/dashboard")},validationSchema:Te},(function(e){e.isSubmitting,e.resetForm,e.values;return r.a.createElement(Ne.b,null,r.a.createElement($.a,{container:!0,spacing:2},r.a.createElement($.a,{item:!0,xs:12},r.a.createElement(J.a,{variant:"h4"},"Login to Spotless")),r.a.createElement($.a,{item:!0,xs:12},r.a.createElement(Ne.a,{component:ke.b,autoFocus:!0,variant:"outlined",margin:"dense",id:"name",label:"Username",type:"text",name:"username",fullWidth:!0})),r.a.createElement($.a,{item:!0,xs:12},r.a.createElement(Ne.a,{component:ke.b,variant:"outlined",margin:"dense",id:"name",label:"Password",type:"password",name:"password",fullWidth:!0}))),r.a.createElement(Pe.a,{type:"submit",color:"primary",variant:"contained",className:Ae.a.btn},"Sign in"))}))))))},Fe=t(691),He=t(642),ze=t(643),Le=t(644),We=t(646),Ye=t(647),qe=t(639),Ge=t(696),Ue=t(640),Je=t(648),Ve=t(641),Xe=t(649),Ke=t(245),Ze=t.n(Ke),Qe=t(690),$e=t(687),ea=t(98),aa=t(206),ta=t.n(aa),na=function(){return r.a.createElement($.a,{item:!0,xs:!0,className:ta.a.row},r.a.createElement("div",null,r.a.createElement(J.a,{variant:"body1"},"Shift start"),r.a.createElement("div",{className:ta.a.row},r.a.createElement(Ne.a,{component:ke.a,name:"startHour"},Object(ea.a)(Array(24).keys()).map((function(e){var a=e.toString().padStart(2,"0");return r.a.createElement(Oe.a,{key:e,value:a},a)}))),r.a.createElement(J.a,{variant:"h6"},":"),r.a.createElement(Ne.a,{component:ke.a,name:"startMinutes"},["00",15,30,45].map((function(e){return r.a.createElement(Oe.a,{key:e,value:e.toString()},e)}))))),r.a.createElement(J.a,{variant:"h4",style:{margin:"0 16px"}},"-"),r.a.createElement("div",null,r.a.createElement(J.a,{variant:"body1"},"Shift end"),r.a.createElement("div",{className:ta.a.row},r.a.createElement(Ne.a,{component:ke.a,name:"endHour"},Object(ea.a)(Array(23).keys()).map((function(e){return r.a.createElement(Oe.a,{key:e,value:e.toString()},e)}))),r.a.createElement(J.a,{variant:"body1"},":"),r.a.createElement(Ne.a,{component:ke.a,name:"endMinutes"},["00",15,30,45].map((function(e){return r.a.createElement(Oe.a,{key:e,value:e.toString()},e)}))))))},ra=t(638),ca=t(689),oa=t(695);var la=function(e){var a=e.classes,t=e.onSelectAllClick,n=e.order,c=e.orderBy,o=e.numSelected,l=e.rowCount,i=e.onRequestSort,s=e.headCells,m=e.type;return r.a.createElement(ra.a,null,r.a.createElement(qe.a,null,m&&"noSelection"!==m&&r.a.createElement(Ue.a,{padding:"checkbox"},r.a.createElement(ca.a,{indeterminate:o>0&&o<l,checked:l>0&&o===l,onChange:t,inputProps:{"aria-label":"select all desserts"}})),s.map((function(e){return r.a.createElement(Ue.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:c===e.id&&n},r.a.createElement(oa.a,{active:c===e.id,direction:c===e.id?n:"asc",onClick:(t=e.id,function(e){i(e,t)})},e.label,c===e.id?r.a.createElement("span",{className:a.visuallyHidden},"desc"===n?"sorted descending":"sorted ascending"):null));var t}))))},ia=t(645);function sa(e,a,t){return"string"===typeof e[t]&&"string"===typeof a[t]?void 0===e[t]?1:a[t].toUpperCase()<e[t].toUpperCase()?-1:a[t].toUpperCase()>e[t].toUpperCase()?1:0:void 0===e[t]?1:a[t]<e[t]?-1:a[t]>e[t]?1:0}function ma(e,a){return"desc"===e?function(e,t){return sa(e,t,a)}:function(e,t){return-sa(e,t,a)}}function ua(e,a){var t=e.map((function(e,a){return[e,a]}));return t.sort((function(e,t){var n=a(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),t.map((function(e){return e[0]}))}function da(e,a,t,n){var r=t.indexOf(a),c=[];-1===r?c=c.concat(t,a):0===r?c=c.concat(t.slice(1)):r===t.length-1?c=c.concat(t.slice(0,-1)):r>0&&(c=c.concat(t.slice(0,r),t.slice(r+1))),n(c)}var pa=Re.a({firstName:Re.b().required("First name is required"),lastName:Re.b().required("Last name is required")}),fa=function(e){var a=e.open,t=e.setOpen,n=e.setIsLoaded,c=e.setSnackOpen,o=function(){t(!1)},l=function(){var e=Object(m.a)(s.a.mark((function e(a,r){var o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.setSubmitting,e.next=3,R("".concat(a.firstName," ").concat(a.lastName),"".concat(a.startHour.padStart(2,"0"),":").concat(a.startMinutes.padStart(2,"0")),"".concat(a.endHour.padStart(2,"0"),":").concat(a.endMinutes.padStart(2,"0")));case 3:l=e.sent,console.log(l),n(!1),o(!1),c(!0),t(!1);case 9:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement(Fe.a,{open:a,onClose:o,"aria-labelledby":"form-dialog-title"},r.a.createElement(He.a,{id:"form-dialog-title"},"Create a new cleaner"),r.a.createElement(Ne.c,{initialValues:{firstName:"",lastName:"",startHour:"08",endHour:"16",startMinutes:"00",endMinutes:"00"},onSubmit:l,validationSchema:pa},(function(e){e.isSubmitting,e.resetForm,e.values;return r.a.createElement(Ne.b,null,r.a.createElement(ze.a,null,r.a.createElement($.a,{container:!0,spacing:2},r.a.createElement($.a,{item:!0,xs:6},r.a.createElement(Ne.a,{component:ke.b,autoFocus:!0,margin:"dense",id:"name",label:"First name",type:"text",name:"firstName",fullWidth:!0})),r.a.createElement($.a,{item:!0,xs:6},r.a.createElement(Ne.a,{component:ke.b,margin:"dense",id:"name",label:"Last name",type:"text",name:"lastName",fullWidth:!0})),r.a.createElement(na,null))),r.a.createElement(Le.a,null,r.a.createElement(Pe.a,{onClick:o,color:"primary"},"Cancel"),r.a.createElement(Pe.a,{type:"submit",color:"primary"},"Create cleaner")))})))},ga=Object(ia.a)((function(e){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),ha=function(e){var a=e.cleaners,t=e.rooms,n=Object(l.g)(),c=ga(),o=r.a.useState("asc"),i=Object(U.a)(o,2),s=i[0],m=i[1],u=r.a.useState("name"),d=Object(U.a)(u,2),p=d[0],f=d[1],g=r.a.useState(0),h=Object(U.a)(g,2),E=h[0],b=h[1],v=r.a.useState(15),_=Object(U.a)(v,2),y=_[0],O=_[1];return r.a.createElement(Ee.a,null,r.a.createElement(We.a,null,r.a.createElement(Ye.a,{size:"small"},r.a.createElement(la,{classes:c,onRequestSort:function(e,a){m(p===a&&"asc"===s?"desc":"asc"),f(a)},order:s,orderBy:p,headCells:[{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"shift_start",numeric:!0,disablePadding:!1,label:"Shift start"},{id:"shift_end",numeric:!0,disablePadding:!1,label:"Shift end"},{id:"cleaning_progress",numeric:!0,disablePadding:!1,label:"Cleaning progress"},{id:"current_location",numeric:!0,disablePadding:!1,label:"Current location"},{id:"status",numeric:!0,disablePadding:!1,label:"Status"},{id:"action",numeric:!1,disablePadding:!1,label:"Action"}]}),r.a.createElement(Je.a,null,ua(a,ma(s,p)).slice(E*y,E*y+y).map((function(e,a){var c="enhanced-table-checkbox-".concat(a);return r.a.createElement(qe.a,{hover:!0,tabIndex:-1,key:c,style:{height:"33px"}},r.a.createElement(Ue.a,{component:"th",scope:"row"},e.name),r.a.createElement(Ue.a,{align:"right"},e.shift_start),r.a.createElement(Ue.a,{align:"right"},e.shift_end),r.a.createElement(Ue.a,{align:"right"},function(e){var a=t.filter((function(a){return a.assigned_cleaners.length>0&&a.assigned_cleaners[0]._id===e._id})),n=ne()(),c=a.filter((function(e){return!!e.last_cleaned&&ne()(e.last_cleaned).isSame(n,"date")})).length;return e.cleaning_progress=(Math.round(c/a.length*100)||0)+"%",r.a.createElement(oe.a,{title:"".concat(c,"/").concat(a.length),placement:"right"},r.a.createElement(J.a,null,e.cleaning_progress))}(e)),r.a.createElement(Ue.a,{align:"right"}),r.a.createElement(Ue.a,{align:"right"},function(e){var a=ne()(e.shift_start,"HH:mm"),t=ne()(e.shift_end,"HH:mm"),n=ne()().isBetween(a,t);return e.status=n?"":"Unavailable",e.status}(e)),r.a.createElement(Ue.a,null,r.a.createElement(we.a,{size:"small",color:"secondary",onClick:function(){!function(e){var a=e._id;n.push({pathname:"/cleaners/".concat(a),state:{id:a}})}(e)}},r.a.createElement(Xe.a,null))))}))))),r.a.createElement(Ge.a,{rowsPerPageOptions:[5,10,15,25,50],component:"div",count:a.length,rowsPerPage:y,page:E,onChangePage:function(e,a){b(a)},onChangeRowsPerPage:function(e){O(parseInt(e.target.value,10)),b(0)}}))},Ea=function(){var e=Object(n.useState)([]),a=Object(U.a)(e,2),t=a[0],c=a[1],o=Object(n.useState)([]),l=Object(U.a)(o,2),i=l[0],s=l[1],m=Object(n.useState)(!1),u=Object(U.a)(m,2),d=u[0],p=u[1],f=r.a.useState(!1),g=Object(U.a)(f,2),h=g[0],E=g[1],b=Object(n.useState)(!1),v=Object(U.a)(b,2),y=v[0],O=v[1];Object(n.useEffect)((function(){Promise.all([N(),_(null,null,!0)]).then((function(e){c(e[0]),s(e[1]),p(!0)}),(function(e){console.log(e)}))}),[E,d]);var j=function(e,a){"clickaway"!==a&&O(!1)};return r.a.createElement(K,{style:{textAlign:"start"}},r.a.createElement("div",{className:Ze.a.headerRow},r.a.createElement(J.a,{variant:"h5",className:Ze.a.bold},"Cleaners"),r.a.createElement(oe.a,{title:"Add cleaner"},r.a.createElement(we.a,{onClick:function(){return E(!0)}},r.a.createElement(Ve.a,null)))),d?r.a.createElement(ha,{cleaners:t,rooms:i}):r.a.createElement(ae.a,{color:"secondary",style:{margin:"16px auto"}}),r.a.createElement(fa,{open:h,setOpen:E,setIsLoaded:p,setSnackOpen:O}),r.a.createElement(Qe.a,{open:y,autoHideDuration:6e3,onClose:j,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement($e.a,{variant:"filled",severity:"success",onClose:j},"Cleaner created")))},ba=t(685),va=t(651),_a=t(650),ya=t(653),Oa=t(654),ja=t(24),xa=t(5),wa=t(50),Sa=t.n(wa),Ca=t(652),ka=t(655),Na=t(656),Pa=t(657),Ra=t(658),Da=t(659),Aa=t(661),Ba=t(663),Ia=t(664),Ta=t(337),Ma=t(660),Fa=t(662),Ha=t(329),za=t.n(Ha),La=t(328),Wa=t.n(La),Ya=t(665),qa=Object(xa.a)({root:{width:"100%",flexGrow:1},indicator:{display:"flex",justifyContent:"center",backgroundColor:"transparent",marginBottom:"4px","& > span":{width:"40%",backgroundColor:"#00b0ff",borderTopLeftRadius:4,borderTopRightRadius:4}}})((function(e){return r.a.createElement(ba.a,Object.assign({},e,{TabIndicatorProps:{children:r.a.createElement("span",null)}}))})),Ga=function(e){var a=e.open,t=e.setOpen,n=function(){t(!1)};return r.a.createElement(Fe.a,{open:a,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(He.a,{id:"alert-dialog-title"},"About the app"),r.a.createElement(ze.a,null,r.a.createElement(Ya.a,{id:"alert-dialog-description",color:"textPrimary"},r.a.createElement("p",null,"The LeViteZer hospital room cleaning optimization solution aims to reduce hospital infection risk by optimizing the hospital room cleaning. The contamination of the rooms is tracked real time and the cleaning prioritized based on need."),r.a.createElement("p",null,"Realtime data of space usage is visualized in the Cleaner application. On top of a room layout the most used areas are visualized to provide the cleaner with simple and intuitive information on areas that need the most attention. The application also track the cleaning event to make sure all areas has been cleaned and then automatically generate a report with minimal interaction by cleaner. The guiding line on the design has been to keep it simple, provide only useful information and assist on making the cleaning report."),r.a.createElement("p",null,"The Management application supports efficient resource management and planning in case of changes in staffing or reallocation of time and resources. Furthermore, It displays data from the hospital in real time and offers tools to verify & track cleaning efficiency. The application also presents detailed information about rooms and their generated cleaning reports."),r.a.createElement("p",null,"Spotless is working name for the applications. The status of the applications is for demonstration purpose and for this purpose there is also a simple hospital contamination simulator as we currently only have few locations equipped with the sensors. LeViteZer supports the use of the demonstrator. Comments and improvement proposals are most welcome",r.a.createElement("address",null,r.a.createElement("a",{href:"mailto:kim.janson@levitezer.com"},"kim.janson@levitezer.com"))),r.a.createElement("p",null,"The Spotless management and cleaners applications have been developed in Metropolia University of Applied Sciences, innovation project supervised and supported by LeViteZer and in co-operation with Sodexo."))),r.a.createElement(Le.a,null,r.a.createElement(Pe.a,{onClick:function(){n()},color:"primary",autoFocus:!0},"Close")))},Ua=function(){var e=Object(l.h)(),a=Object(l.g)(),t=function(e,a){return function(t){return Object(l.f)(e.pathname,{path:t,exact:!1,strict:!1})?a:-1}}(e,"myTabId"),c=Object(n.useState)(null),o=Object(U.a)(c,2),i=o[0],s=o[1],m=Object(n.useState)(""),u=Object(U.a)(m,2),d=u[0],p=u[1],f=r.a.useState(!1),g=Object(U.a)(f,2),h=g[0],E=g[1];Object(n.useEffect)((function(){var e=b();p(e)}),[]);var v=function(){s(null)};return r.a.createElement(va.a,{position:"static"},r.a.createElement(_a.a,{variant:"dense"},r.a.createElement("div",{className:Sa.a.toolbar},e.pathname.split("/").length>2?r.a.createElement(oe.a,{title:"Go Back"},r.a.createElement(we.a,{onClick:function(){a.goBack()}},r.a.createElement(Ca.a,{className:Sa.a.svg}))):r.a.createElement("div",{style:{width:40}}),r.a.createElement(J.a,{variant:"h6",className:Sa.a.name,style:{display:"flex",flexDirection:"row",width:"100%"}},r.a.createElement(ya.a,{style:{width:36}},r.a.createElement("img",{src:Wa.a,alt:"logo",className:Sa.a.logo})),"Spotless")),r.a.createElement(qa,{variant:"fullWidth",value:"myTabId"},r.a.createElement(Oa.a,{label:r.a.createElement("div",{className:Sa.a.tab},r.a.createElement(ka.a,{fontSize:"small"})," Dashboard"),value:t("/dashboard"),component:ja.b,to:"/dashboard",disableRipple:!0}),r.a.createElement(Oa.a,{label:r.a.createElement("div",{className:Sa.a.tab},r.a.createElement(Na.a,{fontSize:"small"})," Assignments"),value:t("/assignments"),component:ja.b,to:"/assignments",disableRipple:!0,className:Sa.a.tab}),r.a.createElement(Oa.a,{label:r.a.createElement("div",{className:Sa.a.tab},r.a.createElement(Pa.a,{fontSize:"small"})," Cleaners"),value:t("/cleaners"),component:ja.b,to:"/cleaners",disableRipple:!0,className:Sa.a.tab}),r.a.createElement(Oa.a,{label:r.a.createElement("div",{className:Sa.a.tab},r.a.createElement(Ra.a,{fontSize:"small"})," Rooms"),value:t("/rooms"),component:ja.b,to:"/rooms",disableRipple:!0}),r.a.createElement(Oa.a,{label:r.a.createElement("div",{className:Sa.a.tab},r.a.createElement(Da.a,{fontSize:"small"})," Analysis"),value:t("/analysis"),component:ja.b,to:"/analysis",disableRipple:!0,className:Sa.a.tab})),r.a.createElement(oe.a,{title:"Open menu"},r.a.createElement(we.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){s(e.currentTarget)}},r.a.createElement(za.a,{color:"secondary"}))),r.a.createElement(Ta.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:v},d.superAdmin&&r.a.createElement(Oe.a,{onClick:function(){v(),a.push("/simulator")}},r.a.createElement(Ma.a,null,r.a.createElement(Aa.a,{fontSize:"small",style:{color:"#808080"}})),r.a.createElement(Fa.a,{primary:"Simulator"})),r.a.createElement(Oe.a,{onClick:function(){E(!0),v()}},r.a.createElement(Ma.a,null,r.a.createElement(Ba.a,{fontSize:"small"})),r.a.createElement(Fa.a,{primary:"About"})),r.a.createElement(Oe.a,{onClick:function(){v(),localStorage.removeItem("user"),a.push("/")}},r.a.createElement(Ma.a,null,r.a.createElement(Ia.a,{color:"secondary",fontSize:"small"})),r.a.createElement(Fa.a,{primary:"Sign out"}))),r.a.createElement(Ga,{open:h,setOpen:E})))},Ja=t(160),Va=t.n(Ja),Xa=function(e){var a=e.reports,t=e.loading,n=a.map((function(e){return e.cleaner_name})),c={};n.forEach((function(e){c[e]=(c[e]||0)+1}));var o=[];return Object.keys(c).forEach((function(e){o.push({cleaner:e,amount:c[e]})})),r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(Ee.a,{className:Va.a.container},r.a.createElement(J.a,{variant:"h6",className:Va.a.title},"Cleanings per cleaner"),r.a.createElement(r.a.Fragment,null,t?r.a.createElement(ae.a,{color:"secondary",style:{margin:"auto"}}):r.a.createElement(fe.g,{width:"100%",height:400,className:Va.a.chart},0===o.length?r.a.createElement(J.a,{variant:"h6",className:Va.a.title,style:{textAlign:"center"}},"No cleaning events"):r.a.createElement(fe.b,{data:o},r.a.createElement(fe.i,{dataKey:"cleaner"}),r.a.createElement(fe.j,null),r.a.createElement(fe.c,{strokeDasharray:"3 3"}),r.a.createElement(fe.h,null),r.a.createElement(fe.d,null),r.a.createElement(fe.a,{dataKey:"amount",name:"Cleaning events",fill:"#8884d8"}))))))},Ka=t(161),Za=t.n(Ka),Qa=function(e){var a=e.reports,t=e.loading,n=a.map((function(e){return ne()(e.cleaning_time).format("DD.MM.YYYY")})),c={};n.forEach((function(e){var t=ne()(e,"DD.MM.YYYY");c[e]=a.filter((function(e){return ne()(e.cleaning_time).isSame(t,"date")}))}));var o=[];return Object.keys(c).forEach((function(e){o.push({date:e,contamination:Math.round(c[e].reduce((function(e,a){return e+((t=a.contamination_index)>150?150:t<0?0:t);var t}),0)/c[e].length)})})),r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(Ee.a,{className:Za.a.container},r.a.createElement(J.a,{variant:"h6",className:Za.a.title},"Contamination index (before cleaning) over time"),r.a.createElement(r.a.Fragment,null,t?r.a.createElement(ae.a,{color:"secondary",style:{margin:"auto"}}):r.a.createElement(fe.g,{width:"100%",height:400,className:Za.a.chart},0===o.length?r.a.createElement(J.a,{variant:"h6",className:Za.a.title,style:{textAlign:"center"}},"No cleaning events"):r.a.createElement(fe.f,{data:o},r.a.createElement(fe.i,{dataKey:"date"}),r.a.createElement(fe.j,null),r.a.createElement(fe.c,{strokeDasharray:"3 3"}),r.a.createElement(fe.h,null),r.a.createElement(fe.d,null),r.a.createElement(fe.e,{type:"monotone",dataKey:"contamination",name:"Contamination index",stroke:"#8884d8",strokeWidth:2}))))))},$a=t(162),et=t.n($a),at=function(e){var a=e.reports,t=e.loading,n=a.map((function(e){return e.room&&e.room.room_type})),c={};n.forEach((function(e){c[e]=a.filter((function(a){return"undefined"===typeof e?e===a.room:!!a.room&&e===a.room.room_type}))}));var o=[],l=c[void 0];return l&&(o.push({type:"No type",amount:Math.round(l.reduce((function(e,a){return e+a.cleaning_duration_seconds}),0)/l.length),estimated:0}),delete c[void 0]),Object.keys(c).forEach((function(e){o.push({type:p[e].displayName,amount:Math.round(c[e].reduce((function(e,a){return e+a.cleaning_duration_seconds}),0)/c[e].length),estimated:60*p[e].cleaningTime})})),r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(Ee.a,{className:et.a.container},r.a.createElement(J.a,{variant:"h6",className:et.a.title},"Cleaning duration by room type"),r.a.createElement(r.a.Fragment,null,t?r.a.createElement(ae.a,{color:"secondary",style:{margin:"auto"}}):r.a.createElement(fe.g,{width:"100%",height:400,className:et.a.chart},0===o.length?r.a.createElement(J.a,{variant:"h6",className:et.a.title,style:{textAlign:"center"}},"No cleaning events"):r.a.createElement(fe.b,{data:o},r.a.createElement(fe.i,{dataKey:"type"}),r.a.createElement(fe.j,null),r.a.createElement(fe.c,{strokeDasharray:"3 3"}),r.a.createElement(fe.h,null),r.a.createElement(fe.d,null),r.a.createElement(fe.a,{dataKey:"amount",name:"Actual time",fill:"#8884d8",unit:" seconds"}),r.a.createElement(fe.a,{dataKey:"estimated",name:"Estimated time",fill:"#82ca9d",unit:" seconds"}))))))},tt=function(){var e=Object(n.useState)([]),a=Object(U.a)(e,2),t=a[0],c=a[1],o=Object(n.useState)(!0),l=Object(U.a)(o,2),i=l[0],s=l[1],m=Object(n.useState)([]),u=Object(U.a)(m,2),d=(u[0],u[1]);return Object(n.useEffect)((function(){Promise.all([_(),D()]).then((function(e){e[1].forEach((function(a){a.room=e[0].find((function(e){return e._id===a.room_id}))})),d(e[0]),c(e[1]),s(!1)}))}),[]),r.a.createElement(K,{style:{textAlign:"start"}},r.a.createElement(J.a,{variant:"h5",style:{marginBottom:16}},"Analysis"),r.a.createElement($.a,{container:!0,spacing:4,style:{marginBottom:16}},r.a.createElement($.a,{item:!0,xs:12},r.a.createElement(Qa,{reports:t,loading:i})),r.a.createElement($.a,{item:!0,xs:6},r.a.createElement(Xa,{reports:t,loading:i})),r.a.createElement($.a,{item:!0,xs:6},r.a.createElement(at,{reports:t,loading:i}))))},nt=t(101),rt=t.n(nt),ct=t(330),ot=t.n(ct),lt=t(331),it=t.n(lt),st=function(e){var a;return a=JSON.parse(JSON.stringify(f)),e.forEach((function(e,t){var n=a.areas[t];if(n){var r=function(e){var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null}(ue(e.contamination_index));n.preFillColor="rgba(".concat(r.r,", ").concat(r.g,", ").concat(r.b,", 0.5)"),n._id=e._id,n.room=e}})),a},mt=function(e){var a=e.rooms,t=Object(l.g)(),c=Object(n.useState)(!1),o=Object(U.a)(c,2),i=o[0],s=o[1],m=Object(n.useState)({}),u=Object(U.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)({}),g=Object(U.a)(f,2),h=g[0],E=g[1],b=Object(n.useState)({}),v=Object(U.a)(b,2),_=v[0],y=v[1],O=Object(n.useState)(642),j=Object(U.a)(O,2),x=j[0],w=j[1];Object(n.useEffect)((function(){y(st(a)),w((function(e){return 642===e?643:642}))}),[a,y]);var S=window.innerWidth/2.1;return r.a.createElement(r.a.Fragment,null,0!==Object.keys(_).length&&r.a.createElement("div",{className:rt.a.map},r.a.createElement(it.a,{src:ot.a,map:_,fillColor:"rgba(0,0,0, 0.2)",onClick:function(e,a,n){var r=e._id;r&&t.push({pathname:"/rooms/".concat(r),state:{id:r}})},width:S,imgWidth:x,onMouseEnter:function(e,a,t){if(e.room){var n={top:t.pageY,left:t.pageX};s(!0),p(e.room),E(n)}},onMouseLeave:function(){s(!1),p({}),E({})}})),i&&r.a.createElement("div",{id:"info",className:rt.a.roomInfo,style:h},r.a.createElement(J.a,{variant:"h6",className:rt.a.bold},"Room: ",d.name),r.a.createElement(J.a,{variant:"body1"},ie(d,"displayName")),r.a.createElement(J.a,{variant:"body1",color:"textSecondary"},"Contamination Index: ",r.a.createElement("span",{style:{color:ue(d.contamination_index)}},d.contamination_index.toFixed(1)))))},ut=t(636),dt=function(e){var a=e.rooms,t=e.setRooms,c=e.initialBuilding,o=e.initialFloor,l=e.hideAll,i=e.hideAssigned,s=r.a.useState(c||""),m=Object(U.a)(s,2),u=m[0],d=m[1],f=r.a.useState(o||""),g=Object(U.a)(f,2),h=g[0],E=g[1],b=r.a.useState(""),v=Object(U.a)(b,2),_=v[0],y=v[1],O=r.a.useState(!0),j=Object(U.a)(O,2),x=j[0],w=j[1],S=r.a.useState(!0),C=Object(U.a)(S,2),k=C[0],N=C[1];Object(n.useEffect)((function(){if(k){var e=a;e=e.filter((function(e){var a=!0;return u&&(a=e.building===u),h&&(a=e.floor===h&&a),_&&(a=e.room_type===_.key&&a),i||x||(a=0===e.assigned_cleaners.length&&a),a})),t(e),N(!1)}}),[x,u,h,_,k,a,t,i]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve.a,{variant:"outlined",style:{minWidth:"240px",marginBottom:8}},r.a.createElement(_e.a,{id:"building"},"Building"),r.a.createElement(ye.a,{label:"Building",onChange:function(e){d(e.target.value),N(!0)},value:u},!l&&r.a.createElement(Oe.a,{value:""},r.a.createElement("em",null,"All")),Object(ea.a)(new Set(a.map((function(e){return e.building})))).sort().map((function(e){return r.a.createElement(Oe.a,{value:e,key:e},e)})))),r.a.createElement(ve.a,{variant:"outlined",style:{minWidth:"240px",marginBottom:8}},r.a.createElement(_e.a,{id:"floor"},"Floor"),r.a.createElement(ye.a,{label:"Floor",onChange:function(e){E(e.target.value),N(!0)},value:h},!l&&r.a.createElement(Oe.a,{value:""},r.a.createElement("em",null,"All")),Object(ea.a)(new Set(a.map((function(e){return e.floor})))).sort().map((function(e){return r.a.createElement(Oe.a,{value:e,key:e},e)})))),r.a.createElement(ve.a,{variant:"outlined",style:{minWidth:"240px",marginBottom:8}},r.a.createElement(_e.a,{id:"room-type"},"Room type"),r.a.createElement(ye.a,{label:"Room type",onChange:function(e){y(e.target.value),N(!0)},value:_},r.a.createElement(Oe.a,{value:""},r.a.createElement("em",null,"All")),Object.keys(p).map((function(e){return r.a.createElement(Oe.a,{value:p[e],key:p[e].displayName},p[e].displayName)})))),!i&&r.a.createElement(ut.a,{control:r.a.createElement(ca.a,{checked:x,onChange:function(e,a){w(a),N(!0)}}),label:"Show assigned"}))},pt=function(){var e=Object(n.useState)(null),a=Object(U.a)(e,2),t=a[0],c=a[1],o=Object(n.useState)(!1),l=Object(U.a)(o,2),i=l[0],s=l[1],m=Object(n.useState)([]),u=Object(U.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)([]),g=Object(U.a)(f,2),h=g[0],E=g[1];return Object(n.useEffect)((function(){_().then((function(e){p(e),E(e),s(!0)}),(function(e){c(!0),s(!0),console.log(e)}))}),[]),r.a.createElement(K,null,r.a.createElement("div",{className:rt.a.headerRow},r.a.createElement(J.a,{variant:"h5",className:rt.a.bold},"Rooms"),i&&r.a.createElement("div",{className:rt.a.filters},r.a.createElement(dt,{rooms:h,setRooms:p,hideAll:!0,hideAssigned:!0,initialBuilding:d[0]&&d[0].building,initialFloor:d[0]&&d[0].floor}))),i&&r.a.createElement(mt,{rooms:d}),t&&r.a.createElement("p",null,"ERROR"))},ft=t(96),gt=t(3),ht=t(10),Et=t(666),bt=t(667),vt=t(143),_t=t.n(vt),yt=t(246),Ot=t(686),jt=t(635),xt=t(332),wt=t.n(xt),St=function(e){var a=e.onChange,t=e.style,c=Object(n.useState)([]),o=Object(U.a)(c,2),l=o[0],i=o[1],u=Object(n.useState)(!1),d=Object(U.a)(u,2),p=d[0],f=d[1],g=Object(n.useState)(null),h=Object(U.a)(g,2),E=h[0],b=h[1],v=p&&0===l.length;Object(n.useEffect)((function(){var e=!0;if(v)return Object(m.a)(s.a.mark((function a(){var t;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,N();case 2:t=a.sent,e&&i(t);case 4:case"end":return a.stop()}}),a)})))(),function(){e=!1}}),[v]);return r.a.createElement(Ot.a,{open:p,onOpen:function(){f(!0)},onClose:function(){f(!1)},className:wt.a.autocomplete,style:t,getOptionLabel:function(e){return e.name||""},options:l,loading:v,value:E,onChange:function(e,t){b(t),a(e,t)},renderInput:function(e){return r.a.createElement(jt.a,Object.assign({},e,{label:"Cleaner",variant:"outlined",InputProps:Object(yt.a)(Object(yt.a)({},e.InputProps),{},{endAdornment:r.a.createElement(r.a.Fragment,null,v?r.a.createElement(ae.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})},Ct=function(e){var a=e.open,t=e.setOpen,c=e.selected,o=e.setSnackOpen,l=e.onClose,i=e.setSnackText,u=Object(n.useState)(null),d=Object(U.a)(u,2),p=d[0],f=d[1],g=function(){l(),t(!1)},h=function(){var e=Object(m.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=c.filter((function(e){return e.assigned_cleaners.length>0}))).length>0)){e.next=4;break}return e.next=4,w(a);case 4:return e.next=6,x(c,p._id);case 6:i("Cleaner assigned"),o(!0),g();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Fe.a,{open:a,onClose:g,"aria-labelledby":"form-dialog-title",disableBackdropClick:!0},r.a.createElement(He.a,{id:"form-dialog-title"},"Select a cleaner"),r.a.createElement(ze.a,null,r.a.createElement(St,{onChange:function(e,a){f(a)}})),r.a.createElement(Le.a,null,r.a.createElement(Pe.a,{onClick:g,color:"primary"},"Cancel"),r.a.createElement(Pe.a,{color:"primary",onClick:h,disabled:""===p},"Assign")))},kt=t(668),Nt=[{id:"name",numeric:!1,disablePadding:!0,label:"Name"},{id:"building",numeric:!0,disablePadding:!1,label:"Building"},{id:"floor",numeric:!0,disablePadding:!1,label:"Floor"},{id:"cleaner_name",numeric:!1,disablePadding:!1,label:"Assigned Cleaner"},{id:"status",numeric:!1,disablePadding:!1,label:"Status"},{id:"contamination_index",numeric:!0,disablePadding:!1,label:"Contamination index"},{id:"room_type",numeric:!1,disablePadding:!1,label:"Room type"},{id:"last_cleaned",numeric:!0,disablePadding:!1,label:"Last cleaned"},{id:"action",numeric:!0,disablePadding:!1,label:"Action"}],Pt=Object(ia.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1),textAlign:"left",flexDirection:"column"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ht.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},filters:{minHeight:96},button:{minWidth:160}}})),Rt=function(e){var a,t=Pt(),n=e.numSelected,c=e.selected,o=e.setSelected,l=e.setSnackOpen,i=e.setSnackText,u=e.getData,d=e.rooms,p=e.setRooms,f=r.a.useState(!1),g=Object(U.a)(f,2),h=g[0],E=g[1],b=r.a.useState(!1),v=Object(U.a)(b,2),_=v[0],y=v[1],O=c.filter((function(e){return e.assigned_cleaners.length>0})),j=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(O);case 2:i("Cleaner unassigned"),l(!0),o([]),u(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(_a.a,{className:Object(gt.a)(t.root,(a={},Object(ft.a)(a,t.highlight,n>0),Object(ft.a)(a,t.filters,_&&0===n),a))},r.a.createElement("div",{className:_t.a.row,style:{minHeight:64}},n>0?r.a.createElement(J.a,{className:_t.a.title,color:"inherit",variant:"subtitle1",component:"div",style:{fontWeight:600}},n," selected"):r.a.createElement(J.a,{className:_t.a.title,variant:"h5",id:"tableTitle",component:"div",style:{fontWeight:"600"},title:"Click on row to select a room"},"Select rows to assign to cleaner"),n>0?r.a.createElement(r.a.Fragment,null,O.length>0&&r.a.createElement(oe.a,{title:"Remove room assignments"},r.a.createElement(Pe.a,{variant:"contained",startIcon:r.a.createElement(Et.a,null),className:_t.a.critical,style:{flexBasis:"300px",marginRight:32},onClick:j},"Remove assignments")),r.a.createElement(oe.a,{title:"Assign to cleaner"},r.a.createElement(Pe.a,{variant:"contained",color:"secondary",style:{flexBasis:"180px"},onClick:function(){E(!0)}},"Assign rooms"))):r.a.createElement(oe.a,{title:"Filter list"},r.a.createElement(Pe.a,{variant:"contained",className:t.button,startIcon:r.a.createElement(bt.a,{color:_?"secondary":"primary"}),onClick:function(){y(!_)}},_?"Hide filters":"Show filters"))),_&&0===n&&r.a.createElement("div",{className:_t.a.row},r.a.createElement(dt,{rooms:d,setRooms:p})),r.a.createElement(Ct,{open:h,setOpen:E,selected:c,onClose:function(){o([]),u(!0)},setSnackOpen:l,setSnackText:i}))},Dt=Object(ia.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));var At=function(){var e=Dt(),a=r.a.useState("asc"),t=Object(U.a)(a,2),c=t[0],o=t[1],i=r.a.useState("name"),s=Object(U.a)(i,2),m=s[0],u=s[1],d=r.a.useState([]),p=Object(U.a)(d,2),f=p[0],g=p[1],h=r.a.useState(0),E=Object(U.a)(h,2),b=E[0],v=E[1],y=r.a.useState(15),O=Object(U.a)(y,2),j=O[0],x=O[1],w=Object(n.useState)(!1),S=Object(U.a)(w,2),C=S[0],k=S[1],N=Object(n.useState)([]),P=Object(U.a)(N,2),R=P[0],D=P[1],A=Object(n.useState)([]),B=Object(U.a)(A,2),I=B[0],T=B[1],M=Object(n.useState)(!1),F=Object(U.a)(M,2),H=F[0],z=F[1],L=Object(n.useState)(""),W=Object(U.a)(L,2),Y=W[0],q=W[1],G=r.a.useState(!0),J=Object(U.a)(G,2),V=J[0],X=J[1],Z=Object(l.g)();Object(n.useEffect)((function(){V&&_(null,null,!0).then((function(e){e=de(e),D(e),T(e),k(!0),X(!1)}),(function(e){k(!0),console.log(e)}))}),[V]);var Q=function(e,a){"clickaway"!==a&&z(!1)};return r.a.createElement(K,{className:e.root},C?r.a.createElement(Ee.a,{className:e.paper},r.a.createElement(Rt,{numSelected:f.length,selected:f,setSnackOpen:z,setSelected:g,setSnackText:q,getData:X,rooms:I,setRooms:D}),r.a.createElement(We.a,null,r.a.createElement(Ye.a,{className:e.table,"aria-labelledby":"tableTitle","aria-label":"enhanced table",size:"small"},r.a.createElement(la,{classes:e,numSelected:f.length,order:c,orderBy:m,onSelectAllClick:function(e){if(e.target.checked){var a=R.map((function(e){return e}));g(a)}else g([])},onRequestSort:function(e,a){o(m===a&&"asc"===c?"desc":"asc"),u(a)},rowCount:R.length,headCells:Nt,type:"selection"}),r.a.createElement(Je.a,null,ua(R,ma(c,m)).slice(b*j,b*j+j).map((function(e,a){var t,n,c=(t=e,-1!==f.indexOf(t)),o="enhanced-table-checkbox-".concat(a);return r.a.createElement(qe.a,{hover:!0,onClick:function(a){return da(0,e,f,g)},role:"checkbox","aria-checked":c,tabIndex:-1,key:e.name,selected:c,style:{height:"33px"}},r.a.createElement(Ue.a,{padding:"checkbox"},r.a.createElement(ca.a,{checked:c,inputProps:{"aria-labelledby":o}})),r.a.createElement(Ue.a,{component:"th",id:o,scope:"row",padding:"none"},e.name),r.a.createElement(Ue.a,{align:"right"},e.building),r.a.createElement(Ue.a,{align:"right"},e.floor),r.a.createElement(Ue.a,null,function(e){if(!e.cleaner)return e.cleaner_name;var a=e.cleaner;return r.a.createElement(kt.a,{component:ja.b,color:"secondary",to:{pathname:"/cleaners/".concat(a._id),state:{id:a._id}}},a.name)}(e)),r.a.createElement(Ue.a,null,se(e.contamination_index)),r.a.createElement(Ue.a,{align:"right"},Math.min(e.contamination_index.toFixed(2),150)," %"),r.a.createElement(Ue.a,null,ie(e,"displayName")),r.a.createElement(Ue.a,{align:"right"},(n=e.last_cleaned)?ne()(n).format("YYYY-MM-DD HH:mm:ss"):"Never"),r.a.createElement(Ue.a,{align:"right"},r.a.createElement(we.a,{color:"secondary",size:"small",onClick:function(){!function(e){var a=e._id;Z.push({pathname:"/rooms/".concat(a),state:{id:a}})}(e)}},r.a.createElement(Xe.a,null))))}))))),r.a.createElement(Ge.a,{rowsPerPageOptions:[5,10,15,25,50],component:"div",count:R.length,rowsPerPage:j,page:b,onChangePage:function(e,a){v(a)},onChangeRowsPerPage:function(e){x(parseInt(e.target.value,10)),v(0)}})):r.a.createElement(ae.a,{color:"secondary",style:{margin:"16px auto"}}),r.a.createElement(Qe.a,{open:H,autoHideDuration:6e3,onClose:Q,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement($e.a,{variant:"filled",severity:"success",onClose:Q},Y)))},Bt=t(19),It=t.n(Bt),Tt=t(669),Mt=t(670),Ft=function(e){var a,t=e.room;return r.a.createElement(Tt.a,{className:It.a.card},r.a.createElement("div",{className:It.a.cardContent},r.a.createElement(J.a,{variant:"h6",className:It.a.semiBold},"Room details"),r.a.createElement(Mt.a,{light:!0,className:It.a.divider}),r.a.createElement(J.a,{variant:"body1",className:It.a.semiBold},"Building ",t.building),r.a.createElement(J.a,{variant:"body2",className:It.a.medium,color:"textSecondary"},"Floor ",t.floor),r.a.createElement(Mt.a,{light:!0,className:It.a.divider}),r.a.createElement("div",{className:It.a.row},r.a.createElement(J.a,{variant:"body1",className:It.a.semiBold},ie(t,"displayName")),r.a.createElement(J.a,{variant:"body2",className:It.a.semiBold},"Cleaning time: ",ie(t,"cleaningTime")," min")),r.a.createElement(J.a,{variant:"body2",className:It.a.medium,color:"textSecondary"},"Cleaning ",ie(t,"frequency")," times / week"),r.a.createElement(Mt.a,{light:!0,className:It.a.divider}),r.a.createElement("div",{className:It.a.row},r.a.createElement(J.a,{variant:"body1",className:It.a.semiBold},"Contamination index"),r.a.createElement(J.a,{variant:"body1",className:[It.a[function(e){var a="neutral";return e>=60?a="critical":e>=30?a="med":e<30&&(a="good"),a}(t.contamination_index)],It.a.medium].join(" ")},(a=t.contamination_index,Math.min(a,150).toFixed(2)),"%"))))},Ht=t(671),zt=function(e){var a=e.room,t=e.cleaner,c=e.setCleaner,o=Object(n.useState)({}),l=Object(U.a)(o,2),i=l[0],u=l[1],d=Object(n.useState)(!1),p=Object(U.a)(d,2),f=p[0],g=p[1],h=Object(n.useState)(""),E=Object(U.a)(h,2),b=E[0],v=E[1],_=0!==Object.keys(t).length,y=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(a._id,t._id);case 2:c({}),v("Cleaner unassigned"),g(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(a._id,i._id);case 2:c(i),u({}),v("Cleaner assigned"),g(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(e,a){"clickaway"!==a&&g(!1)};return r.a.createElement(Tt.a,{className:It.a.card,style:{height:"min-content"}},r.a.createElement("div",{className:It.a.cardContent},r.a.createElement("div",{className:It.a.row},r.a.createElement(le,{variant:function(){if(!_)return"neutral";var e=ne()(t.shift_start,"HH:mm"),a=ne()(t.shift_end,"HH:mm");return ne()().isBetween(e,a)?"good":"critical"}(),size:"tiny",tooltip:"Cleaner name"}),_?r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{component:ja.b,style:{marginLeft:16},color:"secondary",to:{pathname:"/cleaners/".concat(t._id),state:{id:t._id}}},r.a.createElement(J.a,{variant:"h6",className:It.a.semiBold},t.name)),r.a.createElement(oe.a,{title:"Remove assignment"},r.a.createElement(we.a,{style:{marginLeft:"auto"},size:"small",onClick:y},r.a.createElement(Ht.a,null)))):r.a.createElement(St,{onChange:function(e,a){return u(a)},style:{marginLeft:16}})),i&&0!==Object.keys(i).length&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Mt.a,{className:It.a.divider}),r.a.createElement("div",{className:It.a.row},r.a.createElement(Pe.a,{onClick:O,variant:"contained",color:"secondary",className:It.a.btn},"Assign")))),r.a.createElement(Qe.a,{open:f,autoHideDuration:6e3,onClose:j,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement($e.a,{variant:"filled",severity:"success",onClose:j},b)))},Lt=Object(ia.a)({root:{lineHeight:"200%"}}),Wt=function(e){var a=e.reports,t=Lt();return r.a.createElement(Tt.a,{className:It.a.comments},r.a.createElement("div",{className:It.a.cardContent},r.a.createElement(J.a,{variant:"h6",className:It.a.semiBold,style:{marginBottom:16}},"Cleaner comments:"),a.length>0?a.reduce((function(e,a){if(""!==a.comments){var n=ne()(a.cleaning_time);e.push(r.a.createElement("div",{key:a._id,className:It.a.comment},r.a.createElement(Mt.a,null),r.a.createElement(J.a,{variant:"h6",className:t.root},n.format("D MMM, YYYY")),r.a.createElement(J.a,{variant:"h6",className:[It.a.semiBold,It.a.author,t.root].join(" ")},a.cleaner_name),r.a.createElement(J.a,{variant:"body1",className:t.root},a.comments)))}return e}),[]):r.a.createElement(J.a,{variant:"body1",className:It.a.semiBold},"No comments")))},Yt=t(672),qt=t(673),Gt=t(247),Ut=t.n(Gt);function Jt(e){var a=e.classes,t=e.order,n=e.orderBy,c=e.onRequestSort,o=[{id:"cleaning_time",numeric:!0,disablePadding:!1,label:"Cleaning time"},{id:"cleaning_successful",numeric:!1,disablePadding:!1,label:"Cleaning successful"},{id:"action",numeric:!0,disablePadding:!1,label:"Action"}];return"room"===e.type?o.unshift({id:"cleaner",numeric:!1,disablePadding:!1,label:"Cleaner"}):o.unshift({id:"room",numeric:!1,disablePadding:!1,label:"Room"}),r.a.createElement(la,{classes:a,order:t,orderBy:n,onRequestSort:c,headCells:o})}var Vt=Object(ia.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),Xt=function(e){var a=e.reports,t=e.type,n=Object(l.g)(),c=Vt(),o=r.a.useState("asc"),i=Object(U.a)(o,2),s=i[0],m=i[1],u=r.a.useState("name"),d=Object(U.a)(u,2),p=d[0],f=d[1],g=r.a.useState(0),h=Object(U.a)(g,2),E=h[0],b=h[1],v=r.a.useState(10),_=Object(U.a)(v,2),y=_[0],O=_[1];return r.a.createElement("div",null,r.a.createElement(J.a,{variant:"h5",style:{margin:"16px 0"},className:Ut.a.semiBold},"Past cleaning reports"),a.length>0?r.a.createElement(Ee.a,{className:c.paper},r.a.createElement(We.a,null,r.a.createElement(Ye.a,{className:c.table,"aria-labelledby":"tableTitle","aria-label":"enhanced table",size:"small"},r.a.createElement(Jt,{classes:c,order:s,orderBy:p,onRequestSort:function(e,a){m(p===a&&"asc"===s?"desc":"asc"),f(a)},type:t}),r.a.createElement(Je.a,null,ua(a,ma(s,p)).slice(E*y,E*y+y).map((function(e,a){var c,o="enhanced-table-checkbox-".concat(a);return r.a.createElement(qe.a,{hover:!0,tabIndex:-1,key:o,style:{height:"33px"}},r.a.createElement(Ue.a,{component:"th",id:o,scope:"row"},"room"===t?(c=e,r.a.createElement(kt.a,{component:ja.b,color:"secondary",to:{pathname:"/cleaners/".concat(c.cleaner_id),state:{id:c.cleaner_id}}},c.cleaner_name)):function(e){return r.a.createElement(kt.a,{component:ja.b,color:"secondary",to:{pathname:"/rooms/".concat(e.room_id),state:{id:e.room_id}}},e.room_name)}(e)),r.a.createElement(Ue.a,{align:"right"},ne()(e.cleaning_time).format("DD.MM.YYYY HH:mm")),r.a.createElement(Ue.a,null,e.cleaning_succesful?r.a.createElement(Yt.a,{className:Ut.a.good}):r.a.createElement(qt.a,{color:"error"})),r.a.createElement(Ue.a,{align:"right"},r.a.createElement(we.a,{color:"secondary",size:"small",onClick:function(){!function(e){var a=e._id;n.push({pathname:"/rooms/reports/".concat(a),state:{id:a}})}(e)}},r.a.createElement(Xe.a,null))))}))))),r.a.createElement(Ge.a,{rowsPerPageOptions:[5,10,25,50],component:"div",count:a.length,rowsPerPage:y,page:E,onChangePage:function(e,a){b(a)},onChangeRowsPerPage:function(e){O(parseInt(e.target.value,10)),b(0)}})):r.a.createElement(J.a,{variant:"h6"},"No cleaning Reports"))},Kt=t(333),Zt=t(334),Qt=t(338),$t=t(336),en=t(163),an=t.n(en),tn=t(335);function nn(e){return e<10?"0"+e:e}var rn=function(e){Object(Qt.a)(t,e);var a=Object($t.a)(t);function t(){return Object(Kt.a)(this,t),a.apply(this,arguments)}return Object(Zt.a)(t,[{key:"render",value:function(){var e=this.props,a=e.x,t=e.y,n=e.payload;return r.a.createElement("g",{transform:"translate(".concat(a,",").concat(t,")")},r.a.createElement("text",{x:0,y:0,dy:16,textAnchor:"end",fill:"#666",transform:"rotate(-35)"},n.value))}}]),t}(n.PureComponent),cn=function(e){var a=e.activity,t=e.lastCleaned,n=e.loading,c=e.title,o=e.type;o=o||"room";var l=[];if(a&&t){var i=ne()(t).valueOf();if("room"===o){l.push({y:a[0],x:new Date(i)});for(var s=1;s<a.length;s++)l.push({y:a[s],x:new Date(i+2e4*s)})}else{i-=2e4*a.length;for(var m=0;m<a.length;m++)l.push({y:a[m],x:new Date(i+2e4*m)})}(l=Object(tn.LTTB)(l,400)).forEach((function(e){e.x=nn(e.x.getHours())+":"+nn(e.x.getMinutes())}))}return r.a.createElement("div",{style:{margin:"16px 0 32px"}},r.a.createElement(Ee.a,{className:an.a.container},r.a.createElement(J.a,{variant:"h6",className:an.a.title},c||"Room activity since last cleaning"),r.a.createElement(r.a.Fragment,null,n?r.a.createElement(ae.a,{color:"secondary",style:{margin:"auto"}}):r.a.createElement(fe.g,{width:"100%",height:400,className:an.a.chart},0===l.length?r.a.createElement(J.a,{variant:"h6",className:an.a.title,style:{textAlign:"center"}},"No data"):r.a.createElement(fe.f,{data:l},r.a.createElement(fe.i,{dataKey:"x",label:{value:ne()(t).format("DD.MM.YY"),position:"insideBottomLeft",offset:-20},tick:r.a.createElement(rn,null),height:48}),r.a.createElement(fe.j,null),r.a.createElement(fe.c,{strokeDasharray:"3 3"}),r.a.createElement(fe.h,null),r.a.createElement(fe.d,null),r.a.createElement(fe.e,{type:"monotone",dataKey:"y",name:"Activity",stroke:"#8884d8",strokeWidth:2}))))))},on=function(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(n.useState)(!1),c=Object(U.a)(t,2),o=c[0],i=c[1],s=Object(n.useState)({}),m=Object(U.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)([]),f=Object(U.a)(p,2),g=f[0],h=f[1],E=Object(n.useState)({}),b=Object(U.a)(E,2),v=b[0],_=b[1],y=Object(n.useState)(""),O=Object(U.a)(y,2),x=O[0],w=O[1],S=Object(n.useState)(!1),C=Object(U.a)(S,2),N=C[0],P=C[1],R=Object(n.useState)(!1),A=Object(U.a)(R,2),B=A[0],I=A[1],M=Object(n.useState)(!1),F=Object(U.a)(M,2),H=F[0],z=F[1],W=Object(n.useState)(""),Y=Object(U.a)(W,2),q=Y[0],G=Y[1];Object(n.useEffect)((function(){k(a.id).then((function(e){d(e),i(!0)}),(function(e){return console.log(e)})),j(a.id).then((function(e){e.length>=1&&_(e[0])}),(function(e){return console.log(e)})),D(a.id).then((function(e){h(e.sort((function(e,a){return new Date(a.cleaning_time)-new Date(e.cleaning_time)})))})),L(a.id).then((function(e){w(URL.createObjectURL(e))})).catch((function(e){console.log(e)}))}),[a.id]),Object(n.useEffect)((function(){N&&T(a.id,"contamination").then((function(e){var a=document.getElementById("aux"),t=document.getElementById("main"),n=1n;u.is_simulated&&(n=u.contamination_index>=60?20n:u.contamination_index>=30?10n:5n),pe(e,a,t,n)})).catch((function(e){P(!1),console.log(e.message),G(e.message),z(!0)}))}),[a.id,u,N]);return r.a.createElement(K,{style:{width:"65%"}},o?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:It.a.titleRow},r.a.createElement(J.a,{variant:"h4"},"Room: ",u.name),r.a.createElement(Pe.a,{variant:"text",onClick:function(){e.push({pathname:"/rooms",state:{id:a.id,action:"show"}})},size:"small"},"Show on map")),r.a.createElement("div",{className:It.a.content},r.a.createElement("div",{className:It.a.detailsRow},r.a.createElement(Ft,{room:u}),r.a.createElement(zt,{room:u,cleaner:v,setCleaner:_})),r.a.createElement("div",{className:It.a.row,style:{marginTop:32}},r.a.createElement(J.a,{variant:"h5"},"Room map"),r.a.createElement(Pe.a,{variant:"outlined",color:"primary",onClick:function(){return P(!N)}},N?"Hide map":"Show Map")),N&&r.a.createElement("div",{className:It.a.container},r.a.createElement("canvas",{id:"aux",style:{display:"none"}}),r.a.createElement("canvas",{id:"main",width:72,height:56,className:It.a.map}),r.a.createElement("img",{src:x,alt:"",className:It.a.overlay})),r.a.createElement("div",{className:It.a.row,style:{marginTop:32}},r.a.createElement(J.a,{variant:"h5"},"Room activity"),r.a.createElement(Pe.a,{variant:"outlined",color:"primary",onClick:function(){return I(!B)},disabled:function(e){return!e.between_cleaning_plot||!e.last_cleaned&&!e.cleaning_end_time}(u)},B?"Hide activity graph":"Show activity graph")),B&&r.a.createElement(cn,{loading:!o,activity:u.between_cleaning_plot,lastCleaned:u.last_cleaned||u.cleaning_end_time}),r.a.createElement(Wt,{reports:g}),r.a.createElement(Xt,{reports:g,type:"room"}))):r.a.createElement(ae.a,{color:"secondary",style:{margin:"16px auto"}}),r.a.createElement(Qe.a,{open:H,autoHideDuration:6e3,onClose:function(e,a){"clickaway"!==a&&(z(!1),P(!1))}},r.a.createElement($e.a,{onClose:function(){return z(!1)},severity:"error"},q)))},ln=t(674),sn=t(675),mn=t(676),un=t(677),dn=Xt,pn=t(78),fn=t.n(pn),gn=Re.a({name:Re.b().required()}),hn=function(e){var a=e.cleaner,t=e.open,n=e.setOpen,c=e.onSave,o=function(){n(!1)},l=a.shift_start.split(":"),i=a.shift_end.split(":"),u={name:a.name,startHour:l.length>0?l[0]:"",endHour:i.length>0?i[0]:"",startMinutes:l.length>0?l[1]:"",endMinutes:i.length>0?i[1]:""},d=function(){var e=Object(m.a)(s.a.mark((function e(t,r){var o,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.setSubmitting,(l=t)._id=a._id,l.shift_start="".concat(t.startHour.padStart(2,"0"),":").concat(t.startMinutes.padStart(2,"0")),l.shift_end="".concat(t.endHour.padStart(2,"0"),":").concat(t.endMinutes.padStart(2,"0")),e.next=7,M(l);case 7:i=e.sent,console.log(i),o(!1),n(!1),c();case 12:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement(Fe.a,{open:t,onClose:o,"aria-labelledby":"form-dialog-title"},r.a.createElement(He.a,{id:"form-dialog-title"},"Edit cleaner"),r.a.createElement(Ne.c,{initialValues:u,onSubmit:d,validationSchema:gn},(function(e){e.isSubmitting,e.resetForm,e.values;return r.a.createElement(Ne.b,null,r.a.createElement(ze.a,null,r.a.createElement($.a,{container:!0,spacing:2},r.a.createElement($.a,{item:!0,xs:12},r.a.createElement(Ne.a,{component:ke.b,margin:"dense",id:"name",label:"Name",type:"text",name:"name",fullWidth:!0})),r.a.createElement(na,null))),r.a.createElement(Le.a,null,r.a.createElement(Pe.a,{onClick:o,color:"primary"},"Cancel"),r.a.createElement(Pe.a,{type:"submit",color:"primary"},"Save")))})))},En=t(164),bn=t.n(En),vn=[{id:"name",numeric:!1,disablePadding:!0,label:"Name"},{id:"building",numeric:!0,disablePadding:!1,label:"Building"},{id:"floor",numeric:!0,disablePadding:!1,label:"Floor"},{id:"cleaner_name",numeric:!1,disablePadding:!1,label:"Assigned Cleaner"},{id:"status",numeric:!1,disablePadding:!1,label:"Status"},{id:"contamination_index",numeric:!0,disablePadding:!1,label:"Contamination index"},{id:"room_type",numeric:!1,disablePadding:!1,label:"Room type"},{id:"last_cleaned",numeric:!0,disablePadding:!1,label:"Last cleaned"},{id:"action",numeric:!0,disablePadding:!1,label:"Action"}],_n=Object(ia.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1),textAlign:"left",flexDirection:"column"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ht.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},filters:{minHeight:96}}})),yn=function(e){var a,t=_n(),n=e.numSelected,c=e.rooms,o=e.setRooms,l=r.a.useState(!1),i=Object(U.a)(l,2),s=i[0],m=i[1];return r.a.createElement(_a.a,{className:Object(gt.a)(t.root,(a={},Object(ft.a)(a,t.highlight,n>0),Object(ft.a)(a,t.filters,s),a))},r.a.createElement("div",{className:bn.a.row},n>0?r.a.createElement(J.a,{className:bn.a.title,color:"inherit",variant:"subtitle1",component:"div",style:{fontWeight:600}},n," selected"):r.a.createElement(J.a,{className:bn.a.title,variant:"h5",id:"tableTitle",component:"div",style:{fontWeight:"600"}},"Assign rooms to cleaner"),r.a.createElement(oe.a,{title:"Filter list"},r.a.createElement(we.a,{"aria-label":"filter list",onClick:function(){m(!s)}},r.a.createElement(bt.a,{color:s?"secondary":"inherit"})))),s&&r.a.createElement("div",{className:bn.a.row},r.a.createElement(dt,{rooms:c,setRooms:o})))},On=Object(ia.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),jn=function(e){var a=e.cleaner,t=e.onClose,c=e.open,o=e.setOpen,i=e.setSnackOpen,u=e.setSnackText,d=On(),p=r.a.useState("asc"),f=Object(U.a)(p,2),g=f[0],h=f[1],E=r.a.useState("name"),b=Object(U.a)(E,2),v=b[0],y=b[1],O=r.a.useState([]),j=Object(U.a)(O,2),S=j[0],C=j[1],k=r.a.useState(0),N=Object(U.a)(k,2),P=N[0],R=N[1],D=r.a.useState(10),A=Object(U.a)(D,2),B=A[0],I=A[1],T=Object(n.useState)(!1),M=Object(U.a)(T,2),F=M[0],H=M[1],z=Object(n.useState)([]),L=Object(U.a)(z,2),W=L[0],Y=L[1],q=Object(n.useState)([]),G=Object(U.a)(q,2),J=G[0],V=G[1],X=Object(l.g)();Object(n.useEffect)((function(){_(null,null,!0).then((function(e){e=de(e),console.log(e),Y(e),V(e),H(!0)}),(function(e){H(!0),console.log(e)}))}),[]);var K=function(){t(),o(!1)},Z=function(){var e=Object(m.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=S.filter((function(e){return e.assigned_cleaners.length>0}))).length>0)){e.next=4;break}return e.next=4,w(n);case 4:return e.next=6,x(S,a._id);case 6:u("Rooms assigned"),i(!0),t(),o(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe.a,{open:c,onClose:K,"aria-labelledby":"form-dialog-title",disableBackdropClick:!0,maxWidth:"lg"},r.a.createElement(ze.a,null,F?r.a.createElement(Ee.a,{className:d.paper},r.a.createElement(yn,{numSelected:S.length,rooms:J,setRooms:Y}),r.a.createElement(We.a,null,r.a.createElement(Ye.a,{className:d.table,"aria-labelledby":"tableTitle","aria-label":"enhanced table",size:"small"},r.a.createElement(la,{classes:d,numSelected:S.length,order:g,orderBy:v,onSelectAllClick:function(e){if(e.target.checked){var a=W.map((function(e){return e}));C(a)}else C([])},onRequestSort:function(e,a){h(v===a&&"asc"===g?"desc":"asc"),y(a)},rowCount:W.length,headCells:vn,type:"selection"}),r.a.createElement(Je.a,null,ua(W,ma(g,v)).slice(P*B,P*B+B).map((function(e,a){var t,n,c=(t=e,-1!==S.indexOf(t)),o="enhanced-table-checkbox-".concat(a);return r.a.createElement(qe.a,{hover:!0,onClick:function(a){return da(0,e,S,C)},role:"checkbox","aria-checked":c,tabIndex:-1,key:e.name,selected:c,style:{height:"33px"}},r.a.createElement(Ue.a,{padding:"checkbox"},r.a.createElement(ca.a,{checked:c,inputProps:{"aria-labelledby":o}})),r.a.createElement(Ue.a,{component:"th",id:o,scope:"row",padding:"none"},e.name),r.a.createElement(Ue.a,{align:"right"},e.building),r.a.createElement(Ue.a,{align:"right"},e.floor),r.a.createElement(Ue.a,null,function(e){var a=e.assigned_cleaners,t=a.length>0&&a[0];return t?t.name:"-"}(e)),r.a.createElement(Ue.a,null,se(e.contamination_index)),r.a.createElement(Ue.a,{align:"right"},e.contamination_index.toFixed(2)),r.a.createElement(Ue.a,null,ie(e,"displayName")),r.a.createElement(Ue.a,{align:"right"},(n=e.last_cleaned)?ne()(n).format("YYYY-MM-DD HH:mm:ss"):"Never"),r.a.createElement(Ue.a,{align:"right"},r.a.createElement(we.a,{color:"secondary",size:"small",onClick:function(){!function(e){var a=e._id;X.push({pathname:"/rooms/".concat(a),state:{id:a}})}(e)}},r.a.createElement(Xe.a,null))))}))))),r.a.createElement(Ge.a,{rowsPerPageOptions:[5,10,25,50],component:"div",count:W.length,rowsPerPage:B,page:P,onChangePage:function(e,a){R(a)},onChangeRowsPerPage:function(e){I(parseInt(e.target.value,10)),R(0)}})):r.a.createElement(ae.a,{color:"secondary",style:{margin:"16px auto"}})),r.a.createElement(Le.a,null,r.a.createElement(Pe.a,{onClick:K,color:"primary"},"Cancel"),r.a.createElement(Pe.a,{color:"primary",onClick:Z,disabled:0===S.length,variant:"contained"},"Assign"))))},xn=function(e){var a=e.cleaner,t=e.setSnackOpen,c=e.setSnackText,o=Object(n.useState)([]),l=Object(U.a)(o,2),i=l[0],u=l[1],d=Object(n.useState)(!0),p=Object(U.a)(d,2),f=p[0],g=p[1];Object(n.useEffect)((function(){O(a._id).then((function(e){console.log(e),u(e),g(!1)}),(function(e){console.log(e)}))}),[a]);var h=function(){var e=Object(m.a)(s.a.mark((function e(n){var r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(n._id,a._id);case 2:r=e.sent,console.log(r),(o=Object(ea.a)(i)).splice(i.indexOf(n),1),u(o),c("Assignment removed"),t(!0);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{margin:"16px 0"}},f?r.a.createElement(ae.a,{color:"secondary"}):i.length>0?r.a.createElement(We.a,{component:Ee.a},r.a.createElement(Ye.a,{size:"small"},r.a.createElement(ra.a,null,r.a.createElement(qe.a,null,r.a.createElement(Ue.a,null,"Room"),r.a.createElement(Ue.a,{align:"right"},"Status"),r.a.createElement(Ue.a,{align:"right"},"Contamination Index"),r.a.createElement(Ue.a,{align:"right"},"Room type"),r.a.createElement(Ue.a,{align:"right"},"Cleaning Status"),r.a.createElement(Ue.a,null,"Action"))),r.a.createElement(Je.a,null,i.map((function(e){return r.a.createElement(qe.a,{key:e._id},r.a.createElement(Ue.a,{component:"th",scope:"row"},(a=e,r.a.createElement(kt.a,{component:ja.b,color:"secondary",to:{pathname:"/rooms/".concat(a._id),state:{id:a._id}}},a.name))),r.a.createElement(Ue.a,{align:"right"},se(e.contamination_index)),r.a.createElement(Ue.a,{align:"right"},Math.min(e.contamination_index.toFixed(2),150)," %"),r.a.createElement(Ue.a,{align:"right"},ie(e,"displayName")),r.a.createElement(Ue.a,{align:"right"},function(e){return e.is_cleaning?"Cleaning in progress":e.contamination_index>60?"Needs cleaning":"Clean"}(e)),r.a.createElement(Ue.a,null,r.a.createElement(oe.a,{title:"Remove assignment"},r.a.createElement(we.a,{size:"small",onClick:function(){h(e)}},r.a.createElement(un.a,{color:"error"})))));var a}))))):r.a.createElement(J.a,{variant:"h6"},"No assigned rooms"))},wn=function(){var e=Object(l.g)(),a=Object(l.i)(),t=Object(n.useState)(!1),c=Object(U.a)(t,2),o=c[0],i=c[1],u=Object(n.useState)(!1),d=Object(U.a)(u,2),p=d[0],f=d[1],g=Object(n.useState)({}),h=Object(U.a)(g,2),E=h[0],b=h[1],v=Object(n.useState)([]),_=Object(U.a)(v,2),y=_[0],O=_[1],j=r.a.useState(null),x=Object(U.a)(j,2),w=x[0],S=x[1],C=r.a.useState(!1),k=Object(U.a)(C,2),N=k[0],R=k[1],B=r.a.useState(!1),I=Object(U.a)(B,2),T=I[0],M=I[1],F=Object(n.useState)(!1),H=Object(U.a)(F,2),z=H[0],L=H[1],W=Object(n.useState)("Cleaned deleted"),Y=Object(U.a)(W,2),q=Y[0],G=Y[1],V=Object(n.useState)(!1),X=Object(U.a)(V,2),Z=X[0],Q=X[1],$=function(){R(!1)},ee=function(){S(null)},te=function(){var a=Object(m.a)(s.a.mark((function a(){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A(E._id);case 2:G("Cleaner Deleted"),L(!0),e.goBack();case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),ne=function(e,a){"clickaway"!==a&&L(!1)};return Object(n.useEffect)((function(){P(a.id).then((function(e){console.log(e),b(e),i(!0)}),(function(e){console.log(e)})),D(null,a.id).then((function(e){O(e.sort((function(e,a){return new Date(a.cleaning_time)-new Date(e.cleaning_time)})))}))}),[a.id,T]),r.a.createElement(K,{style:{textAlign:"start"}},r.a.createElement("div",{className:fn.a.row,style:{justifyContent:"space-between"}},r.a.createElement(J.a,{variant:"h5",className:fn.a.semiBold},"Cleaner details"),r.a.createElement(Pe.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){S(e.currentTarget)},variant:"outlined",color:"primary"},"Actions"),r.a.createElement(Ta.a,{id:"simple-menu",anchorEl:w,keepMounted:!0,open:Boolean(w),onClose:ee},r.a.createElement(Oe.a,{onClick:function(){ee(),f(!0)}},r.a.createElement(Ma.a,null,r.a.createElement(ln.a,{fontSize:"small",style:{color:"#808080"}})),r.a.createElement(Fa.a,{primary:"Edit cleaner"})),r.a.createElement(Oe.a,{onClick:function(){R(!0),ee()}},r.a.createElement(Ma.a,null,r.a.createElement(sn.a,{color:"error",fontSize:"small"})),r.a.createElement(Fa.a,{primary:"Delete cleaner"})))),o?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:[fn.a.row,fn.a.content].join(" ")},r.a.createElement(mn.a,{className:fn.a.avatar}),r.a.createElement("div",null,r.a.createElement(J.a,{variant:"h6",className:fn.a.semiBold},"Cleaner name: ",E.name),r.a.createElement(J.a,{variant:"body1",color:"textSecondary"},"Shift: ",E.shift_start," - ",E.shift_end))),r.a.createElement("div",{className:fn.a.row,style:{justifyContent:"space-between"}},r.a.createElement(J.a,{variant:"h5",className:fn.a.semiBold},"Assigned Rooms"),r.a.createElement(oe.a,{title:"Add assignments"},r.a.createElement(we.a,{onClick:function(){Q(!0)}},r.a.createElement(Ve.a,null)))),r.a.createElement(xn,{cleaner:E,setSnackOpen:L,setSnackText:G}),r.a.createElement(dn,{reports:y,type:"cleaner"})):r.a.createElement(ae.a,{color:"secondary",style:{margin:"16px auto"}}),r.a.createElement(Fe.a,{open:N,onClose:$,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(He.a,{id:"alert-dialog-title"},"Delete cleaner"),r.a.createElement(ze.a,null,r.a.createElement(Ya.a,{id:"alert-dialog-description"},"Are you sure you want to delete the cleaner?")),r.a.createElement(Le.a,null,r.a.createElement(Pe.a,{onClick:$,color:"primary"},"Cancel"),r.a.createElement(Pe.a,{onClick:function(){$(),te()},color:"primary",autoFocus:!0},"Delete"))),o&&r.a.createElement(hn,{cleaner:E,open:p,setOpen:f,onSave:function(){G("Saved"),L(!0),M(!0)}}),r.a.createElement(jn,{setSnackText:G,open:Z,setSnackOpen:L,setOpen:Q,onClose:function(){M(!0)},cleaner:E}),r.a.createElement(Qe.a,{open:z,autoHideDuration:6e3,onClose:ne,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement($e.a,{variant:"filled",severity:"success",onClose:ne},q)))},Sn=t(26),Cn=t.n(Sn),kn=t(248),Nn=t.n(kn),Pn=function(){var e=Object(l.i)().id,a=Object(n.useState)({}),t=Object(U.a)(a,2),c=t[0],o=t[1],i=Object(n.useState)(!0),u=Object(U.a)(i,2),d=u[0],p=u[1],f=Object(n.useState)(""),g=Object(U.a)(f,2),h=g[0],E=g[1],b=Object(n.useState)(!1),v=Object(U.a)(b,2),_=v[0],y=v[1],O=Object(n.useState)(""),j=Object(U.a)(O,2),x=j[0],w=j[1],S=Object(n.useState)(!1),C=Object(U.a)(S,2),k=C[0],N=C[1],P=Object(n.useState)(!1),R=Object(U.a)(P,2),D=R[0],A=R[1],T=Object(n.useState)(""),M=Object(U.a)(T,2),F=M[0],H=M[1],z=Object(n.useState)(!1),W=Object(U.a)(z,2),Y=W[0],q=W[1];Object(n.useEffect)((function(){B(e).then((function(e){o(e),p(!1),L(e.room_id).then((function(e){H(URL.createObjectURL(e))}))}))}),[e]);var G=function(){var a=Object(m.a)(s.a.mark((function a(t){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(E(t.target.value),!c.is_simulated){a.next=7;break}N(!1),A(!1),"contamination"===t.target.value?N(!0):A(!0),a.next=13;break;case 7:if("combined"!==t.target.value){a.next=11;break}Promise.all([I(e,"clean"),I(e,"contamination")]).then((function(e){var a=document.getElementById("aux"),t=document.getElementById("main");console.log(e),pe(e[1],a,t,1n,!1,!1);var n=document.getElementById("combined");pe(e[0],a,n,1n,!0,!0),q(!0)})),a.next=13;break;case 11:return a.next=13,I(e,t.target.value).then((function(e){var a=document.getElementById("aux"),n=document.getElementById("main");console.log(e),pe(e,a,n,1n,"clean"===t.target.value),q(!0)})).catch((function(e){console.error(e),w("Could not load map"),y(!0)}));case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(K,{style:{textAlign:"start"}},r.a.createElement(J.a,{variant:"h4",className:Cn.a.semiBold},"Cleaning report details"),r.a.createElement($.a,{container:!0,spacing:2},r.a.createElement($.a,{item:!0,xs:6},r.a.createElement("div",{className:Cn.a.row,style:{justifyContent:"space-between"}},r.a.createElement(J.a,{variant:"h5"},"Room map"),r.a.createElement(ve.a,{variant:"outlined",style:{minWidth:"320px",marginBottom:8}},r.a.createElement(_e.a,{id:"demo-simple-select-outlined-label"},"Contamination map type"),r.a.createElement(ye.a,{label:"Contamination map type",onChange:G,value:h},r.a.createElement(Oe.a,{value:"clean"},"Cleaning"),r.a.createElement(Oe.a,{value:"contamination"},"Before cleaning"),r.a.createElement(Oe.a,{value:"combined"},r.a.createElement("em",null,"Combined"))))),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},k&&r.a.createElement("img",{src:Nn.a,alt:"contamination map",className:Cn.a.map}),D&&r.a.createElement("img",{src:Nn.a,alt:"clean map",className:Cn.a.map}),r.a.createElement("div",{className:Cn.a.container},!D&&!k&&r.a.createElement(r.a.Fragment,null,r.a.createElement("canvas",{id:"aux",style:{display:"none"}}),r.a.createElement("canvas",{id:"aux2",style:{display:"none"}}),"combined"===h&&r.a.createElement("canvas",{id:"combined",width:72,height:56,className:[Cn.a.overlay,Cn.a.map].join(" ")}),r.a.createElement("canvas",{id:"main",width:72,height:56,className:Cn.a.map}),Y&&r.a.createElement("img",{src:F,alt:"",className:Cn.a.overlay})))),r.a.createElement(J.a,{variant:"h5"},"Cleaner comments:"),r.a.createElement("div",{className:Cn.a.comments},r.a.createElement(J.a,{variant:"body1",className:Cn.a.comment},c.comments))),!d&&r.a.createElement($.a,{item:!0,xs:6},r.a.createElement("div",{className:Cn.a.row},r.a.createElement(J.a,{variant:"h5",className:Cn.a.reportInfo},"Cleaner:"),r.a.createElement(kt.a,{component:ja.b,color:"secondary",to:{pathname:"/cleaners/".concat(c.cleaner_id),state:{id:c.cleaner_id}}},r.a.createElement(J.a,{style:{marginLeft:"4px"},variant:"h5"},c.cleaner_name))),r.a.createElement("div",{className:Cn.a.row},r.a.createElement(J.a,{variant:"h5",className:Cn.a.reportInfo},"Room:"),r.a.createElement(J.a,{style:{marginLeft:"4px"},variant:"h5"},function(e){return r.a.createElement(kt.a,{component:ja.b,color:"secondary",to:{pathname:"/rooms/".concat(e.room_id),state:{id:e.room_id}}},e.room_name)}(c))),r.a.createElement("div",{className:Cn.a.row},r.a.createElement(J.a,{variant:"h5",className:Cn.a.reportInfo},"Cleaning time:"),r.a.createElement(J.a,{style:{marginLeft:"4px"},variant:"h5"},ne()(c.cleaning_time).format("YYYY-MM-DD HH:mm:ss"))),r.a.createElement("div",{className:Cn.a.row},r.a.createElement(J.a,{variant:"h5",className:Cn.a.reportInfo},"Cleaning successful:"),r.a.createElement("div",{style:{marginLeft:4,height:35}},c.cleaning_succesful?r.a.createElement(Yt.a,{className:Cn.a.good,fontSize:"large"}):r.a.createElement(qt.a,{color:"error",fontSize:"large"}))),r.a.createElement("div",{className:Cn.a.row},r.a.createElement(J.a,{variant:"h5",className:Cn.a.reportInfo},"Overview:"),r.a.createElement(J.a,{style:{marginLeft:"4px"},variant:"h5"},function(e){return"<empty>"===e.overview?"-":e.overview}(c))),r.a.createElement("div",{className:Cn.a.row},r.a.createElement(J.a,{variant:"h5",className:Cn.a.reportInfo},"Contamination index:"),r.a.createElement(J.a,{style:{marginLeft:"4px"},variant:"h5",className:Cn.a[me(c.contamination_index)]},c.contamination_index.toFixed(2)," %")),r.a.createElement("div",{className:Cn.a.row},r.a.createElement(J.a,{variant:"h5",className:Cn.a.reportInfo},"Cleaning duration:"),r.a.createElement(J.a,{style:{marginLeft:"4px"},variant:"h5"},ne.a.utc(1e3*c.cleaning_duration_seconds).format("m [minutes] s [seconds]"))),r.a.createElement(cn,{activity:c.between_cleaning_plot,loading:d,lastCleaned:c.cleaning_time,title:"Room activity before cleaning",type:"report"}))),r.a.createElement(Qe.a,{open:_,autoHideDuration:6e3,onClose:function(e,a){"clickaway"!==a&&y(!1)}},r.a.createElement($e.a,{onClose:function(){return y(!1)},severity:"error"},x)))},Rn=t(678),Dn=t(110),An=t.n(Dn),Bn=t(694),In=t(588),Tn=t(683),Mn=function(e){return r.a.createElement(Tn.a,{position:"relative",display:"inline-flex"},r.a.createElement(ae.a,Object.assign({variant:"static"},e)),r.a.createElement(Tn.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},r.a.createElement(J.a,{variant:"caption",component:"div",color:"textSecondary"},"".concat(Math.round(e.value),"%"))))},Fn=function(){var e=Object(n.useState)(10),a=Object(U.a)(e,2),t=a[0],c=a[1],o=Object(n.useState)(!0),l=Object(U.a)(o,2),i=l[0],u=l[1],d=Object(n.useState)(!1),p=Object(U.a)(d,2),f=p[0],g=p[1],h=Object(n.useState)(!1),E=Object(U.a)(h,2),b=E[0],v=E[1],_=Object(n.useState)(0),y=Object(U.a)(_,2),O=y[0],j=y[1],x=Object(n.useState)(!1),w=Object(U.a)(x,2),S=w[0],C=w[1],k=Object(n.useState)("Simulation speed updated"),N=Object(U.a)(k,2),P=N[0],R=N[1],D=function(e,a){"clickaway"!==a&&g(!1)};Object(n.useEffect)((function(){F().then((function(e){c(e.simulator_speed),u(!1)}))}),[]);var A=function(){R("Simulation reset"),v(!1)},B=function(){var e=Object(m.a)(s.a.mark((function e(){var a,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C(!0),a=0,t=0;case 4:if(!(a<=t)){e.next=11;break}return e.next=7,new Promise((function(e){return setTimeout(e,1e3)}));case 7:j(a);case 8:a++,e.next=4;break;case 11:C(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(K,{style:{textAlign:"start"}},r.a.createElement(J.a,{variant:"h5"},"Simulator"),i?r.a.createElement(ae.a,{style:{margin:"auto"}}):r.a.createElement($.a,{container:!0},r.a.createElement($.a,{container:!0,className:An.a.slider},r.a.createElement($.a,{item:!0,xs:!0},r.a.createElement("div",{className:An.a.row},r.a.createElement(J.a,{id:"discrete-slider",gutterBottom:!0},"Simulation speed multiplier"),r.a.createElement(Pe.a,{variant:"text",color:"primary",onClick:function(){H(t).then((function(){R("Simulation speed updated"),g(!0)})).catch((function(){return g(!0)}))}},"Set"))),r.a.createElement($.a,{container:!0,spacing:2,direction:"row"},r.a.createElement($.a,{item:!0,style:{flex:1}},r.a.createElement(Bn.a,{getAriaValueText:function(e){return"".concat(e,"x")},"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:null,min:.1,marks:function(){for(var e=[],a=5;a<=100;a+=5)e.push({value:a,label:a});return e.unshift({value:.1,label:"0.1"},{value:.5},{value:1}),e}(),onChange:function(e,a){c(a)},value:t})),r.a.createElement($.a,{item:!0},r.a.createElement(In.a,{style:{width:65},value:t,margin:"dense",onChange:function(e){c(""===e.target.value?"":Number(e.target.value))},onBlur:function(){t<.1?c(0):t>1e3&&c(1e3)},endAdornment:r.a.createElement(Rn.a,{position:"end"},"X"),inputProps:{step:5,min:0,max:1e3,type:"number","aria-labelledby":"input-slider"}})))),r.a.createElement($.a,{item:!0,style:{display:"flex",marginLeft:32},xs:!0},r.a.createElement(Tt.a,{className:An.a.card},r.a.createElement("div",{className:An.a.cardContent},r.a.createElement(J.a,{variant:"h6",className:An.a.semiBold},"Simulator actions"),r.a.createElement(Mt.a,{className:An.a.divider,light:!0}),r.a.createElement(Pe.a,{onClick:function(){v(!0)},variant:"contained",color:"secondary"},"Reset simulated rooms"),r.a.createElement(Pe.a,{disabled:S,onClick:function(){B()},variant:"contained",color:"primary",style:{float:"right"}},"Generate rooms"))))),r.a.createElement(Qe.a,{open:f,autoHideDuration:6e3,onClose:D,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement($e.a,{variant:"filled",severity:"success",onClose:D},P)),S&&r.a.createElement(Mn,{value:O,style:{margin:"auto"}}),r.a.createElement(Fe.a,{open:b,onClose:A,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(He.a,{id:"alert-dialog-title"},"Reset simulated rooms"),r.a.createElement(ze.a,null,r.a.createElement(Ya.a,{id:"alert-dialog-description"},"Are you sure you want to reset the rooms?")),r.a.createElement(Le.a,null,r.a.createElement(Pe.a,{onClick:A,color:"primary"},"Cancel"),r.a.createElement(Pe.a,{onClick:Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(),z().then((function(){return g(!0)})).catch((function(){return g(!0)}));case 2:case"end":return e.stop()}}),e)}))),color:"primary",autoFocus:!0},"Reset"))))};var Hn=function(){var e=Object(l.h)(),a=b();return r.a.createElement("div",{className:"App"},"/"!==e.pathname&&r.a.createElement(Ua,null),r.a.createElement(l.d,{location:e},r.a.createElement(l.b,{path:"/dashboard",render:function(){return E()?r.a.createElement(Ce,null):r.a.createElement(l.a,{to:"/"})}}),r.a.createElement(l.b,{path:"/cleaners/:id",render:function(){return E()?r.a.createElement(wn,null):r.a.createElement(l.a,{to:"/"})}}),r.a.createElement(l.b,{path:"/cleaners",render:function(){return E()?r.a.createElement(Ea,null):r.a.createElement(l.a,{to:"/"})}}),r.a.createElement(l.b,{path:"/assignments",render:function(){return E()?r.a.createElement(At,null):r.a.createElement(l.a,{to:"/"})}}),r.a.createElement(l.b,{path:"/rooms/reports/:id",render:function(){return E()?r.a.createElement(Pn,null):r.a.createElement(l.a,{to:"/"})}}),r.a.createElement(l.b,{path:"/rooms/:id",render:function(){return E()?r.a.createElement(on,null):r.a.createElement(l.a,{to:"/"})}}),r.a.createElement(l.b,{path:"/rooms",render:function(){return E()?r.a.createElement(pt,null):r.a.createElement(l.a,{to:"/"})}}),r.a.createElement(l.b,{path:"/analysis",render:function(){return E()?r.a.createElement(tt,null):r.a.createElement(l.a,{to:"/"})}}),r.a.createElement(l.b,{path:"/simulator",render:function(){return E()&&a.superAdmin?r.a.createElement(Fn,null):r.a.createElement(l.a,{to:"/"})}}),r.a.createElement(l.b,{path:"/",render:function(){return E()?r.a.createElement(l.a,{to:"/dashboard"}):r.a.createElement(Me,null)}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var zn=t(679),Ln=t(682),Wn=t(684),Yn=t(680),qn=t(681),Gn=Object(zn.a)({palette:{primary:{main:Yn.a[900]},secondary:qn.a},typography:{fontFamily:["Raleway","sans-serif"]}});o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ja.a,{basename:"/spotless"},r.a.createElement(Ln.a,{theme:Gn},r.a.createElement(Wn.b,{injectFirst:!0},r.a.createElement(Hn,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},78:function(e,a,t){e.exports={content:"CleanerDetailsPage_content__3PEfI",avatar:"CleanerDetailsPage_avatar__3KDG8",row:"CleanerDetailsPage_row__G0VOc",menu:"CleanerDetailsPage_menu__2gyF8",column:"CleanerDetailsPage_column__3374X",semiBold:"CleanerDetailsPage_semiBold__1F3iu"}}},[[385,1,2]]]);
//# sourceMappingURL=main.be2bfa9b.chunk.js.map