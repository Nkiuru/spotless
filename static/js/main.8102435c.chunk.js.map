{"version":3,"sources":["pages/AdminPage/AdminPage.module.scss","components/StatusDot/StatusDot.module.scss","pages/AssignmentsPage/AssignmentsPage.module.scss","components/RoomSelector/RoomSelector.module.scss","pages/RoomDetailsPage/RoomDetailsPage.module.scss","components/Charts/ReportsPerDay/ReportsPerDay.module.scss","components/ShiftPicker/ShiftPicker.module.scss","pages/RoomsPage/RoomsPage.module.scss","containers/PageContainer/PageContainer.module.scss","pages/LoginPage/LoginPage.module.scss","pages/CleanersPage/CleanersPage.module.scss","components/CleaningReportsTable/CleaningReportTable.module.scss","assets/hospital.png","components/CleanerSelect/CleanerSelect.module.scss","pages/ReportPage/ReportPage.module.scss","pages/DashboardPage/DashboardPage.module.scss","components/Toolbar/Toolbar.module.scss","assets/heatmap2.png","utils/constants.js","components/StatusDot/index.js","components/StatusDot/StatusDot.js","utils/utils.js","utils/api.js","containers/PageContainer/index.js","containers/PageContainer/PageContainer.js","pages/DashboardPage/KeyStat.js","components/Charts/ReportsPerDay/index.js","components/Charts/ReportsPerDay/ReportsPerDay.js","pages/DashboardPage/Alerts.js","pages/DashboardPage/index.js","pages/DashboardPage/DashboardPage.js","pages/LoginPage/LoginPage.js","pages/LoginPage/index.js","components/ShiftPicker/ShiftPicker.js","pages/CleanersPage/CleanersPage.js","pages/CleanersPage/index.js","components/Toolbar/Toolbar.js","components/Toolbar/index.js","pages/AnalysisPage/index.js","pages/AnalysisPage/AnalysisPage.js","pages/RoomsPage/RoomsPage.js","pages/RoomsPage/index.js","utils/tableUtils.js","components/CleanerSelect/index.js","components/CleanerSelect/CleanerSelect.js","pages/AssignmentsPage/AssignCleanerDialog.js","pages/AssignmentsPage/TableFilters.js","pages/AssignmentsPage/AssignmentsPage.js","pages/AssignmentsPage/index.js","pages/RoomDetailsPage/RoomDetailsCard.js","pages/RoomDetailsPage/RoomCleanerCard.js","pages/RoomDetailsPage/RoomReportComments.js","components/CleaningReportsTable/CleaningReportsTable.js","pages/RoomDetailsPage/index.js","pages/RoomDetailsPage/RoomDetailsPage.js","components/CleaningReportsTable/index.js","pages/CleanerDetailsPage/EditCleanerDialog.js","components/RoomSelector/RoomSelector.js","components/RoomSelector/index.js","pages/CleanerDetailsPage/CleanerDetailsPage.js","pages/CleanerDetailsPage/index.js","pages/ReportPage/index.js","pages/ReportPage/ReportPage.js","pages/AdminPage/index.js","pages/AdminPage/AdminPage.js","app/App.js","serviceWorker.js","index.js","pages/CleanerDetailsPage/CleanerDetailsPage.module.scss"],"names":["module","exports","API_KEY","BASE_URL","ROOM_TYPES","Object","freeze","OFFICE","frequency","cleaningTime","displayName","key","TOILET","WARD_ROOM","EXAMINATION_ROOM","CORRIDOR","WAITING_ROOM","StatusDot","variant","size","tooltip","classes","styles","dot","push","neutral","small","Tooltip","title","className","join","getRoomTypeProp","room","propName","getStatus","contamination","getVariant","update_img","arrayBuffer","auxCanvas","canvas","scaler","arr","BigUint64Array","error","bytearray","array","min","max","pix","pix1","minRaw","BigInt","Number","MAX_SAFE_INTEGER","maxRaw","j","length","im_p","i","Uint8Array","convert64to8","red","green","blue","a","b","tableRed","tableGreen","tableBlue","Math","cos","round","pow","sin","atan","Uint8ClampedArray","initColorMaps","redMap","greenMap","blueMap","img","imgArr","h","ImageData","data","byteIdx","imgIdx","grayValue","console","log","ctx","getContext","putImageData","drawImage","style","GLOBAL_HOSPITAL","localStorage","getItem","authenticated","getUser","JSON","parse","getRooms","hospital","floor","showAssigned","params","doGetRequest","getHospitals","getAssignedRooms","cleanerId","getAssignedCleaners","roomId","assignRoomsToCleaner","rooms","cleaner","Promise","all","map","assignRoom","unAssignRooms","unAssignRoom","doPostRequest","stringify","doDeleteRequest","getRoom","getCleaners","getCleaner","createCleaner","name","shiftStart","shiftEnd","getReports","deleteCleaner","getReport","reportId","getHeatmap","type","requestURL","fetch","method","headers","response","ok","json","Error","getRoomHeatmap","editCleaner","doPutRequest","getSimulatorSettings","setSimulation","speed","resetSimulation","url","message","body","PageContainer","children","top","noToolbar","pageContainer","pageContent","KeyStat","value","subtitle","color","stat","keyStat","Typography","ReportsPerDay","reports","loading","report","moment","format","counts","forEach","x","formattedReports","keys","date","amount","height","Paper","container","CircularProgress","margin","width","chart","dataKey","strokeDasharray","stroke","strokeWidth","Alerts","history","useHistory","filtered","filter","overview","alerts","alert","onClick","id","pathname","state","Grid","direction","alignItems","justify","item","semiBold","lineHeight","comments","ArrowForward","fontSize","marginTop","DashboardPage","useState","user","setUser","setRooms","setReports","setLoading","hospitals","setHospitals","setHospital","hospitalSet","setHospitalSet","useEffect","u","then","result","textAlign","marginBottom","username","FormControl","minWidth","InputLabel","Select","label","onChange","event","target","setItem","removeItem","setGlobalHospital","MenuItem","hosp","spacing","xs","grid","today","isSame","getCleanedRooms","contaminations","val","reduce","toFixed","getContaminationIndex","validationSchema","Yup","required","password","LoginPage","form","initialValues","onSubmit","vars","setSubmitting","isSuperAdmin","superAdmin","authenticate","isSubmitting","resetForm","values","component","TextField","autoFocus","fullWidth","Button","btn","ShiftPicker","row","Array","number","num","toString","padStart","firstName","lastName","AddCleanerDialog","open","setOpen","setIsLoaded","setSnackOpen","handleClose","handleSubmit","startHour","startMinutes","endHour","endMinutes","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogActions","CleanersTable","cleaners","TableContainer","Table","TableHead","TableRow","TableCell","align","TableBody","scope","assignedRooms","numCleaned","placement","getCleaningProgress","isBetween","IconButton","viewCleaner","VisibilityOutlined","CleanersPage","setCleaners","isLoaded","React","snackOpen","responses","err","handleSnackClose","reason","headerRow","bold","AddCircleOutline","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal","Alert","severity","NavTabs","withStyles","root","flexGrow","indicator","display","justifyContent","backgroundColor","borderTopLeftRadius","borderTopRightRadius","props","Tabs","TabIndicatorProps","Toolbar","location","useLocation","getTabValue","tabId","route","matchPath","path","exact","strict","mountTabValueFactory","anchorEl","setAnchorEl","AppBar","position","toolbar","split","goBack","ArrowBackRounded","svg","Tab","tab","DashboardRounded","Link","to","disableRipple","FormatListBulletedRounded","PeopleRounded","BusinessRounded","AssessmentRounded","aria-controls","aria-haspopup","currentTarget","Menu","keepMounted","Boolean","ListItemIcon","Settings","ListItemText","primary","ExitToApp","AnalysisPage","RoomTable","building","patient","openRoom","RoomsPage","setError","src","hospitalImg","alt","descendingComparator","orderBy","undefined","getComparator","order","stableSort","comparator","stabilizedThis","el","index","sort","handleClick","selected","setSelected","selectedIndex","indexOf","newSelected","concat","slice","CleanerSelect","options","setOptions","openSelect","setOpenSelect","setCleaner","active","clnrs","Autocomplete","onOpen","autocomplete","getOptionLabel","option","newValue","renderInput","InputProps","endAdornment","AssignCleanerDialog","setSnackText","selectedWithCleaner","disableBackdropClick","disabled","TableFilters","setBuilding","setFloor","roomType","setRoomType","assigned","setAssigned","valid","Set","FormControlLabel","control","Checkbox","checked","headCells","numeric","disablePadding","EnhancedTableHead","onSelectAllClick","numSelected","rowCount","onRequestSort","padding","indeterminate","inputProps","headCell","sortDirection","TableSortLabel","property","visuallyHidden","useToolbarStyles","makeStyles","theme","paddingLeft","paddingRight","flexDirection","highlight","palette","secondary","main","lighten","light","text","dark","filters","minHeight","EnhancedTableToolbar","getData","showFilters","removeAssignments","clsx","fontWeight","startIcon","Close","critical","flexBasis","marginRight","aria-label","FilterList","useStyles","paper","table","border","clip","overflow","AssignmentsPage","setOrder","setOrderBy","page","setPage","roomsPerPage","setRoomsPerPage","origRooms","setOrigRooms","snackText","newSelecteds","n","isItemSelected","labelId","hover","role","aria-checked","tabIndex","RouterLink","TablePagination","rowsPerPageOptions","count","rowsPerPage","onChangePage","newPage","onChangeRowsPerPage","parseInt","RoomDetailsCard","Card","card","cardContent","Divider","divider","medium","RoomCleanerCard","newCleaner","setNewCleaner","hasCleaner","removeCleanerAssignment","assignNewCleaner","getColor","marginLeft","ClearOutlined","CommentsList","time","comment","author","ReportsTableHead","unshift","CleaningReportsTable","reportsPerPage","setReportsPerPage","Check","good","CloseRounded","viewReport","RoomDetailsPage","roomLoaded","setRoomLoaded","setRoom","showMap","setShowMap","errorMsg","setErrorMsg","Date","document","getElementById","catch","titleRow","action","content","detailsRow","EditCleanerDialog","onSave","start","end","edited","res","RoomSelector","assign","maxWidth","AssignmentsTable","assignments","setAssignments","removeAssignment","newAssignments","splice","Clear","CleanerDetailsPage","cleanerLoaded","setCleanerLoaded","editing","setEditing","showRoomSelector","setShowRoomSelector","handleConfirmClose","removeCleaner","Edit","DeleteForever","AccountCircleRounded","avatar","aria-describedby","DialogContentText","ReportPage","setReport","setType","mapSelected","aux","reportInfo","AdminPage","simSpeed","setSimSpeed","settings","slider","gutterBottom","flex","Slider","getAriaValueText","valueLabelDisplay","step","marks","mark","generateMarks","Input","onBlur","App","render","auth","window","hostname","match","createMuiTheme","blueGrey","lightBlue","typography","fontFamily","ReactDOM","StrictMode","basename","ThemeProvider","StylesProvider","injectFirst","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8102435c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider\":\"AdminPage_slider__15E9C\",\"row\":\"AdminPage_row__2qRHf\",\"divider\":\"AdminPage_divider__3uIH_\",\"semiBold\":\"AdminPage_semiBold__EaJqb\",\"medium\":\"AdminPage_medium__2aq8Q\",\"card\":\"AdminPage_card__3NaLL\",\"cardContent\":\"AdminPage_cardContent__1_5WT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dot\":\"StatusDot_dot__1rSYH\",\"good\":\"StatusDot_good__1GIEp\",\"medium\":\"StatusDot_medium__3zBB3\",\"critical\":\"StatusDot_critical__23vOC\",\"neutral\":\"StatusDot_neutral__1H6OR\",\"tiny\":\"StatusDot_tiny__33nQ5\",\"small\":\"StatusDot_small__1yc1L\",\"large\":\"StatusDot_large__jMuJN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"AssignmentsPage_title__3UMlB\",\"critical\":\"AssignmentsPage_critical__3ZemZ\",\"row\":\"AssignmentsPage_row__2lJV1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"RoomSelector_title__363JP\",\"critical\":\"RoomSelector_critical__a-ztV\",\"row\":\"RoomSelector_row__n9QC3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"titleRow\":\"RoomDetailsPage_titleRow__JoTlm\",\"content\":\"RoomDetailsPage_content__2CxAu\",\"card\":\"RoomDetailsPage_card__2J4HU\",\"cardContent\":\"RoomDetailsPage_cardContent__1soEX\",\"detailsRow\":\"RoomDetailsPage_detailsRow__3fj0E\",\"row\":\"RoomDetailsPage_row__PCQ4C\",\"divider\":\"RoomDetailsPage_divider__hWVez\",\"semiBold\":\"RoomDetailsPage_semiBold__24ERR\",\"medium\":\"RoomDetailsPage_medium__3Rnxk\",\"good\":\"RoomDetailsPage_good__2jSxq\",\"med\":\"RoomDetailsPage_med__T6SFg\",\"critical\":\"RoomDetailsPage_critical__2gPiW\",\"neutral\":\"RoomDetailsPage_neutral__2SrpQ\",\"btn\":\"RoomDetailsPage_btn__3tYWx\",\"map\":\"RoomDetailsPage_map__2yhwI\",\"comments\":\"RoomDetailsPage_comments__1nTSD\",\"comment\":\"RoomDetailsPage_comment__1rwNF\",\"author\":\"RoomDetailsPage_author__tbk-d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chart\":\"ReportsPerDay_chart__1nn7U\",\"title\":\"ReportsPerDay_title__aLd0m\",\"container\":\"ReportsPerDay_container__3-OV0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"ShiftPicker_menu__1os-v\",\"row\":\"ShiftPicker_row__rUGBG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerRow\":\"RoomsPage_headerRow__3ck7N\",\"bold\":\"RoomsPage_bold__39rfR\",\"map\":\"RoomsPage_map__19OrU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageContainer\":\"PageContainer_pageContainer__iX86t\",\"pageContent\":\"PageContainer_pageContent__1wPf8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"LoginPage_form__38hI6\",\"btn\":\"LoginPage_btn__Q93UE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerRow\":\"CleanersPage_headerRow__20bGG\",\"bold\":\"CleanersPage_bold__qIG9F\",\"menu\":\"CleanersPage_menu__1x8Ct\",\"row\":\"CleanersPage_row__2H2UE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"good\":\"CleaningReportTable_good__2fi-5\",\"semiBold\":\"CleaningReportTable_semiBold__3M_nh\"};","module.exports = __webpack_public_path__ + \"static/media/hospital.ea9e1e90.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"autocomplete\":\"CleanerSelect_autocomplete__2dss4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"ReportPage_row__1XU8D\",\"semiBold\":\"ReportPage_semiBold__20bHc\",\"reportInfo\":\"ReportPage_reportInfo__KuWwG\",\"column\":\"ReportPage_column__1fkvo\",\"good\":\"ReportPage_good__IEB1u\",\"medium\":\"ReportPage_medium__1jIMT\",\"critical\":\"ReportPage_critical___2FfG\",\"map\":\"ReportPage_map__1ruE5\",\"comments\":\"ReportPage_comments__vvAhd\",\"comment\":\"ReportPage_comment__38N5l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"semiBold\":\"DashboardPage_semiBold__1wP56\",\"stat\":\"DashboardPage_stat__1HNGL\",\"keyStat\":\"DashboardPage_keyStat__3TqkO\",\"subtitle\":\"DashboardPage_subtitle__SKIyw\",\"grid\":\"DashboardPage_grid__3i4Zn\",\"alerts\":\"DashboardPage_alerts__1Vbju\",\"alert\":\"DashboardPage_alert__3qisR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toolbar\":\"Toolbar_toolbar__1Bm9j\",\"name\":\"Toolbar_name__3EvOQ\",\"svg\":\"Toolbar_svg__3XlL9\",\"tab\":\"Toolbar_tab__3uwiV\"};","module.exports = __webpack_public_path__ + \"static/media/heatmap2.dbb6a747.png\";","export const API_KEY = 'zL43mXgXk5xa7YFRBVZscbLnGFaqVh24q5G6fhGjmAv532FAVBRtnuCJpwXWXnhw';\nexport const BASE_URL = 'https://cleaner-app-api.azurewebsites.net/api/';\n\nexport const UNCLEANED = 'Uncleaned due to some reason';\n\nexport const ROOM_TYPES = Object.freeze({\n  OFFICE: {\n    frequency: 1,\n    cleaningTime: 5,\n    displayName: 'Office',\n    key: 'OFFICE'\n  },\n  TOILET: {\n    frequency: 5,\n    cleaningTime: 5,\n    displayName: 'Toilet',\n    key: 'TOILET'\n  },\n  WARD_ROOM: {\n    frequency: 5,\n    cleaningTime: 8,\n    displayName: 'Ward room',\n    key: 'WARD_ROOM'\n  },\n  EXAMINATION_ROOM: {\n    frequency: 5,\n    cleaningTime: 6,\n    displayName: 'Examination room',\n    key: 'EXAMINATION_ROOM'\n  },\n  CORRIDOR: {\n    frequency: 3,\n    cleaningTime: 9,\n    displayName: 'Corridor',\n    key: 'CORRIDOR'\n  },\n  WAITING_ROOM: {\n    frequency: 5,\n    cleaningTime: 10,\n    displayName: 'Waiting room',\n    key: 'WAITING_ROOM'\n  },\n});","import StatusDot from './StatusDot';\nexport default StatusDot;","import React from 'react';\nimport styles from './StatusDot.module.scss';\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport PropTypes from \"prop-types\";\n\n\nconst StatusDot = ({variant, size, tooltip}) => {\n  const classes = [styles.dot];\n  classes.push(variant ? styles[variant] : styles.neutral);\n  classes.push(size ? styles[size] : styles.small);\n  return (\n    <Tooltip title={tooltip}>\n      <div className={classes.join(' ')}/>\n    </Tooltip>\n  );\n}\n\nStatusDot.propTypes = {\n  variant: PropTypes.oneOf(['good', 'critical', 'medium', 'neutral']).isRequired,\n  size: PropTypes.oneOf(['tiny', 'small', 'large']).isRequired,\n  tooltip: PropTypes.any\n}\n\nexport default StatusDot;","import {ROOM_TYPES} from \"./constants\";\nimport StatusDot from \"../components/StatusDot\";\nimport React from \"react\";\n\nexport const getRoomTypeProp = (room, propName) => {\n  return room['room_type'] !== '<empty>' ? ROOM_TYPES[room['room_type']][propName] : '';\n}\n\nexport const getStatus = (contamination) => {\n  let variant = 'neutral';\n  if (contamination >= 60) {\n    variant = 'critical';\n  } else if (contamination >= 30) {\n    variant = 'medium';\n  } else if (contamination < 30) {\n    variant = 'good';\n  }\n  return <StatusDot variant={variant} size={\"tiny\"} tooltip={contamination}/>\n}\n\nexport const getVariant = (contamination) => {\n  let variant = 'neutral';\n  if (contamination >= 60) {\n    variant = 'critical';\n  } else if (contamination >= 30) {\n    variant = 'medium';\n  } else if (contamination < 30) {\n    variant = 'good';\n  }\n  return variant;\n}\n\nfunction convert64to8(array, scaler) {\n  let min, max, pix;\n  // eslint-disable-next-line no-undef\n  let minRaw = BigInt(Number.MAX_SAFE_INTEGER);\n  // eslint-disable-next-line no-undef\n  let maxRaw = BigInt(0);\n  for (let j = 0; j < array.length; j++) {\n    pix = array[j]\n    if (pix < minRaw) {\n      minRaw = pix\n    }\n    if (pix > maxRaw) {\n      maxRaw = pix\n    }\n  }\n  // eslint-disable-next-line no-undef\n  max = BigInt(maxRaw) / scaler;\n  // eslint-disable-next-line no-undef\n  min = BigInt(minRaw);\n  let pix1;\n  let im_p = [];\n  if (max <= min) {\n    max = min + 1n\n  }\n  for (let i = 0; i < array.length; i++) {\n    // eslint-disable-next-line no-undef\n    pix1 = (array[i] - min) * 255n / (max - min);\n    if (pix1 > 255n) {\n      pix1 = 255\n    }\n    if (pix1 < 0n) {\n      pix1 = 0n\n    }\n    im_p.push(Number(pix1));\n  }\n  return new Uint8Array(im_p);\n}\n\n// lookup color table to apply to grayscale image\nfunction initColorMaps() {\n  let tableRed = []\n  let tableGreen = []\n  let tableBlue = []\n  let red, green, blue;\n  let a, b;\n  for (let i = 0; i <= 255; i++) {\n    a = i * 0.01236846501;\n    b = Math.cos(a - 1.0)\n    red = Math.round(Math.pow(2.0, Math.sin(a - 1.6)) * 200)\n    green = Math.round(Math.atan(a) * b * 155 + 100.0)\n    blue = Math.round(b * 255)\n    red = Math.min(255, red);\n    green = Math.min(255, green);\n    blue = Math.min(255, blue);\n    red = Math.max(0, red);\n    green = Math.max(0, green);\n    blue = Math.max(0, blue);\n    tableRed.push(red)\n    tableGreen.push(green)\n    tableBlue.push(blue)\n  }\n  return [new Uint8ClampedArray(tableRed), new Uint8ClampedArray(tableGreen), new Uint8ClampedArray(tableBlue)];\n}\n\nexport function update_img(arrayBuffer, auxCanvas, canvas, scaler) {\n  let arr = null;\n  try {\n    // eslint-disable-next-line no-undef\n    arr = new BigUint64Array(arrayBuffer);\n  } catch (error) {\n    throw error;\n  }\n  let bytearray = convert64to8(arr, scaler);\n  let [redMap, greenMap, blueMap] = initColorMaps();\n  let img = null; //ImageData\n  let imgArr = null; //Uint8ClampedArray\n  const h = Math.round(bytearray.length / 72);\n  if (bytearray) {\n    img = new ImageData(72, h); // Note: the actual array is 4 times bigger because has (RGBA) pixels\n    imgArr = img.data;\n    let byteIdx = 0;\n    // color mapped image\n    for (let imgIdx = 0; imgIdx < imgArr.length; imgIdx += 4) {\n      let grayValue = bytearray[byteIdx];\n      imgArr[imgIdx] = redMap[grayValue]; // R value\n      imgArr[imgIdx + 1] = greenMap[grayValue]; // G value\n      imgArr[imgIdx + 2] = blueMap[grayValue]; // B value\n      imgArr[imgIdx + 3] = 255; // Alpha value\n      byteIdx++;\n    }\n  }\n  console.log(img)\n  // Scaling. It seems that with putImageData we cannot scale the canvas directly\n  // auxCanvas has the image and\n  let ctx = canvas.getContext('2d');\n  auxCanvas.getContext(\"2d\").putImageData(img, 0, 0);\n  ctx.drawImage(auxCanvas, 0, 0)\n  // flip Y AND X axis\n  canvas.style = \"transform: scale(1, 1); flex: 0\";\n}\n\n/*function update_scale(){\n  // clear\n  auxCanvas.getContext(\"2d\").clearRect(0,0,auxCanvas.width,auxCanvas.height);\n  ctx.clearRect(0,0,canvas.width,canvas.height);\n  //scale = Number($(\"scale\").value);\n\n  ctx.scale(scale, scale);\n  //console.log(\"new scale: %f\", scale);\n}*/","import {API_KEY, BASE_URL} from \"./constants\";\nimport {getRoomTypeProp} from \"./utils\";\n\nexport let GLOBAL_HOSPITAL = localStorage.getItem('hospital') || false;\n\nexport const authenticated = () => {\n  return localStorage.getItem('user') !== null;\n};\n\nexport const getUser = () => {\n  if (authenticated()) {\n    return JSON.parse(localStorage.getItem('user'));\n  } else {\n    return false;\n  }\n}\n\nexport const authenticate = (username, password) => {\n  let isSuperAdmin = false;\n  if (username === 'superadmin' && password === 'admin') {\n    isSuperAdmin = true;\n  }\n  localStorage.setItem('user', JSON.stringify({\n    username,\n    superAdmin: isSuperAdmin\n  }));\n  return true;\n}\n\nexport const setGlobalHospital = (hospital) => {\n  if (hospital) {\n    localStorage.setItem('hospital', hospital);\n  } else {\n    localStorage.removeItem('hospital');\n  }\n  GLOBAL_HOSPITAL = hospital;\n}\n\nexport const logout = () => {\n  localStorage.removeItem('user');\n}\n\n\nexport const getRooms = async (hospital, floor, showAssigned) => {\n  const url = 'rooms';\n  hospital = hospital || GLOBAL_HOSPITAL;\n  let params = hospital ? `?hospital_id=${hospital}` : '';\n  params += floor ? `?floor_id=${floor}` : '';\n  params += showAssigned ? `?assigned_cleaners=1` : '';\n  return doGetRequest(url, params);\n}\n\nexport const getHospitals = async () => {\n  return doGetRequest('hospitals');\n}\n\nexport const startCleaning = async (roomId) => {\n  return doGetRequest(`room/startcleaning?id=${roomId}`);\n}\n\nexport const stopCleaning = async (roomId) => {\n  return doGetRequest(`room/stopcleaning?id=${roomId}`);\n}\n\nexport const getAssignedRooms = async (cleanerId) => {\n  return doGetRequest(`cleaners/rooms?cleaner_id=${cleanerId}`);\n}\n\nexport const getAssignedCleaners = async (roomId) => {\n  return doGetRequest(`cleaners/rooms?room_id=${roomId}`);\n}\n\nexport const assignRoomsToCleaner = async (rooms, cleaner) => {\n  return Promise.all(rooms.map((room) => {\n    return assignRoom(room['_id'], cleaner);\n  }));\n}\n\nexport const unAssignRooms = async (rooms) => {\n  return Promise.all(rooms.map((room) => {\n    return unAssignRoom(room['_id'], room['assigned_cleaners'][0]['_id']);\n  }));\n}\n\nexport const assignRoom = async (room, cleaner) => {\n  return doPostRequest('cleaners/rooms', JSON.stringify({\n    'cleaner_id': cleaner,\n    'room_id': room\n  }));\n}\n\nexport const unAssignRoom = async (room, cleaner) => {\n  return doDeleteRequest('cleaners/rooms', JSON.stringify({\n    'cleaner_id': cleaner,\n    'room_id': room\n  }));\n}\n\nexport const getRoom = async (roomId) => {\n  return doGetRequest(`room?_id=${roomId}`);\n}\n\nexport const getCleaners = async () => {\n  return doGetRequest('cleaners/');\n}\n\nexport const getCleaner = async (cleanerId) => {\n  return doGetRequest(`cleaner?_id=${cleanerId}`);\n}\n\nexport const createCleaner = async (name, shiftStart, shiftEnd) => {\n  return doPostRequest('cleaner/', JSON.stringify({\n    name,\n    'shift_start': shiftStart,\n    'shift_end': shiftEnd\n  }));\n}\n\nexport const getReports = async (roomId, cleanerId, hospital) => {\n  let params = roomId ? `?room_id=${roomId}` : '';\n  params += cleanerId ? `?cleaner_id=${cleanerId}` : '';\n  return doGetRequest('reports', params)\n}\n\nexport const deleteCleaner = async (cleanerId) => {\n  return doDeleteRequest('cleaner', JSON.stringify({\n    '_id': cleanerId\n  }));\n}\n\nexport const getReport = async (reportId) => {\n  return doGetRequest(`report?_id=${reportId}`);\n}\n\nexport const getHeatmap = async (reportId, type) => {\n  const requestURL = BASE_URL + `report/heatmap?_id=${reportId}&type=${type}`\n  const response = await fetch(requestURL, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/octet-stream',\n      'Authorization': API_KEY,\n      'charset': 'utf-8'\n    }\n  });\n  if (response.ok) {\n    return response.arrayBuffer();\n  } else {\n    const json = await response.json();\n    console.log(json)\n    throw new Error(json.error);\n  }\n}\n\nexport const getRoomHeatmap = async (roomId, type) => {\n  const requestURL = BASE_URL + `room/heatmap?_id=${roomId}&type=${type}`\n  const response = await fetch(requestURL, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/octet-stream',\n      'Authorization': API_KEY,\n      'charset': 'utf-8'\n    }\n  });\n  if (response.ok) {\n    return response.arrayBuffer();\n  } else {\n    const json = await response.json();\n    throw new Error(json.error);\n  }\n}\n\nexport const editCleaner = async (cleaner) => {\n  return doPutRequest('cleaner/', JSON.stringify({\n    '_id': cleaner['_id'],\n    'name': cleaner.name,\n    'shift_start': cleaner['shift_start'],\n    'shift_end': cleaner['shift_end']\n  }));\n}\n\nexport const getSimulatorSettings = async () => {\n  return doGetRequest('simulator/settings');\n}\n\nexport const setSimulation = async (speed) => {\n  console.log(speed)\n  return doPutRequest('simulator/settings', JSON.stringify({'simulator_speed': speed}));\n}\n\nexport const resetSimulation = async () => {\n  return doGetRequest('simulator/clear');\n}\n\nexport const createRoom = async (room) => {\n  return doPostRequest('/room', JSON.stringify({\n    'hospital_id': room['hospital_id'],\n    'name': room.name,\n    'is_simulated': true\n  }));\n}\n\nexport const updateRoom = async (room) => {\n  return doPutRequest('/room', JSON.stringify({\n    '_id': room['_id'],\n    'room_type': getRoomTypeProp(room, 'key'),\n    'building': room.building,\n    'floor': room.floor\n  }))\n}\n\nconst doGetRequest = async (url, params) => {\n  const requestURL = BASE_URL + url + (params || '');\n  console.log(requestURL);\n  const response = await fetch(requestURL, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': API_KEY,\n      'charset': 'utf-8'\n    }\n  });\n  if (response.ok) {\n    return response.json();\n  } else {\n    throw new Error(await response.json().message);\n  }\n}\n\nconst doPostRequest = async (url, params) => {\n  const requestURL = BASE_URL + url;\n  console.log(requestURL);\n  const response = await fetch(requestURL, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': API_KEY,\n      'charset': 'utf-8'\n    },\n    body: params\n  });\n  if (response.ok) {\n    return response.json();\n  } else {\n    throw new Error(await response.json().message);\n  }\n}\n\nconst doDeleteRequest = async (url, params) => {\n  const requestURL = BASE_URL + url;\n  const response = await fetch(requestURL, {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': API_KEY,\n      'charset': 'utf-8'\n    },\n    body: params\n  });\n  if (response.ok) {\n    return response.json();\n  } else {\n    throw new Error(await response.json().message);\n  }\n}\n\nconst doPutRequest = async (url, params) => {\n  const requestURL = BASE_URL + url;\n  console.log(requestURL);\n  const response = await fetch(requestURL, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': API_KEY,\n      'charset': 'utf-8'\n    },\n    body: params\n  });\n  console.log(response)\n  if (response.ok) {\n    return response.json();\n  } else {\n    throw new Error(await response.json().message);\n  }\n}","import PageContainer from './PageContainer';\nexport default PageContainer;\n","import React from 'react';\nimport styles from './PageContainer.module.scss';\nimport PropTypes from 'prop-types';\n\nconst PageContainer = ({ children, style, noToolbar }) => {\n  const top = noToolbar ? 0 : '48px';\n  return (\n    <div className={styles.pageContainer} style={{top}}>\n      <div className={styles.pageContent} style={style}>{children}</div>\n    </div>\n  );\n};\n\nPageContainer.propTypes = {\n  children: PropTypes.node,\n  style: PropTypes.object,\n  noToolbar: PropTypes.bool\n};\n\nexport default PageContainer;\n","import React from \"react\";\nimport styles from \"./DashboardPage.module.scss\";\nimport {Typography} from \"@material-ui/core\";\n\nconst KeyStat = ({value, subtitle, color}) => {\n  return (\n    <div className={styles.stat}>\n      <div className={styles.keyStat}>\n        <Typography variant={\"h3\"} style={{color}}>{value}</Typography>\n      </div>\n      <Typography variant={\"body2\"} className={styles.subtitle}>{subtitle}</Typography>\n    </div>\n  );\n}\n\nexport default KeyStat;","import ReportsPerDay from './ReportsPerDay';\nexport default ReportsPerDay;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport {\n  LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer\n} from 'recharts';\nimport moment from \"moment\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport styles from \"./ReportsPerDay.module.scss\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {Typography} from \"@material-ui/core\";\n\nconst ReportsPerDay = ({reports, loading}) => {\n  let data = reports.map((report) => {\n    return moment(report['cleaning_time']).format('DD.MM.YYYY');\n  })\n  const counts = {};\n  data.forEach((x) => {\n    counts[x] = (counts[x] || 0) + 1;\n  });\n  const formattedReports = [];\n  Object.keys(counts).forEach((x) => {\n    formattedReports.push({\n      date: x,\n      amount: counts[x]\n    });\n  });\n\n  return (\n    <div style={{height: '100%'}}>\n      <Paper className={styles.container}>\n        <Typography variant={\"h6\"} className={styles.title}>Cleaning events per day</Typography>\n        {loading ? <CircularProgress color={\"secondary\"} style={{margin: 'auto'}}/> :\n          <ResponsiveContainer width=\"100%\" height={400} className={styles.chart}>\n            <LineChart data={formattedReports}>\n              <XAxis dataKey=\"date\"/>\n              <YAxis/>\n              <CartesianGrid strokeDasharray=\"3 3\"/>\n              <Tooltip/>\n              <Legend/>\n              <Line type=\"monotone\" dataKey=\"amount\" name=\"Cleaning events\" stroke=\"#8884d8\" strokeWidth={2}/>\n            </LineChart>\n          </ResponsiveContainer>\n        }\n      </Paper>\n    </div>\n  )\n}\n\nReportsPerDay.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  reports: PropTypes.array.isRequired\n};\n\nexport default ReportsPerDay;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./DashboardPage.module.scss\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport {UNCLEANED} from \"../../utils/constants\";\nimport {ArrowForward} from \"@material-ui/icons\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {useHistory} from \"react-router-dom\";\n\nconst Alerts = ({reports, loading}) => {\n  const history = useHistory();\n  const filtered = reports.filter((report) => {\n    return report.overview === 'Patialy cleaned';\n  });\n\n  const openReport = (id) => {\n    history.push({\n      pathname: `/rooms/reports/${id}`,\n      state: {id}\n    })\n  }\n  return (\n    <div className={styles.alerts}>\n      {loading ? <CircularProgress size={20} style={{margin: 'auto'}}/> :\n        <>\n          {filtered.map((report) => (\n            <div key={report['_id']} className={styles.alert} onClick={() => {\n              openReport(report['_id']);\n            }}>\n              <Grid container direction={\"row\"} alignItems={\"center\"} justify={\"space-between\"}>\n                <Grid item>\n                  <Typography variant={\"h6\"} className={styles.semiBold}>{report['room_name']},\n                    Floor {report.floor}</Typography>\n                  <Typography variant={\"body2\"} className={styles.semiBold} style={{lineHeight: '24px'}}\n                              color=\"textSecondary\">{report['cleaner_name']}: {report.comments}</Typography>\n                </Grid>\n                <Grid item>\n                  <ArrowForward color={\"action\"} style={{fontSize: '1.75rem'}}/>\n                </Grid>\n              </Grid>\n            </div>\n          ))}\n          {filtered.length === 0 &&\n          <Typography variant={\"h6\"} style={{marginTop: 16}} className={styles.semiBold}>No active alerts</Typography>\n          }\n        </>\n      }\n    </div>\n  );\n}\n\nAlerts.propTypes = {\n  reports: PropTypes.array.isRequired,\n  loading: PropTypes.bool.isRequired\n}\n\nexport default Alerts;","import DashboardPage from './DashboardPage';\nexport default DashboardPage;\n","import React, {useEffect, useState} from 'react';\nimport Typography from \"@material-ui/core/Typography\";\nimport PageContainer from \"../../containers/PageContainer\";\nimport styles from './DashboardPage.module.scss';\nimport Grid from \"@material-ui/core/Grid\";\nimport KeyStat from \"./KeyStat\";\nimport {getHospitals, getReports, getRooms, getUser, GLOBAL_HOSPITAL, setGlobalHospital} from \"../../utils/api\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport moment from \"moment\";\nimport {getVariant} from \"../../utils/utils\";\nimport ReportsPerDay from \"../../components/Charts/ReportsPerDay\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Alerts from \"./Alerts\";\n\nconst DashboardPage = () => {\n  const [user, setUser] = useState('');\n  const [rooms, setRooms] = useState([]);\n  const [reports, setReports] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [hospitals, setHospitals] = useState([]);\n  const [hospital, setHospital] = useState(GLOBAL_HOSPITAL);\n  const [hospitalSet, setHospitalSet] = useState(false);\n\n  useEffect(() => {\n    const u = getUser();\n    setUser(u);\n    setLoading(true);\n    Promise.all([getRooms(), getReports()])\n      .then((result) => {\n        setRooms(result[0]);\n        setReports(result[1]);\n        setLoading(false);\n      });\n    if (!hospitalSet) {\n      getHospitals()\n        .then((result) => {\n          setHospitals(result);\n        });\n    }\n  }, [hospitalSet, hospital]);\n\n  const hospitalSelected = (event) => {\n    setHospital(event.target.value);\n    setGlobalHospital(event.target.value);\n    setHospitalSet(!hospitalSet);\n  }\n\n  const getCleanedRooms = () => {\n    const today = moment();\n    return rooms.filter((room) => {\n      if (!room['last_cleaned']) {\n        return false;\n      }\n      return moment(room['last_cleaned']).isSame(today, 'date');\n    }).length;\n  }\n\n  const getContaminationIndex = () => {\n    const contaminations = [];\n    rooms.forEach((room) => {\n      const val = room['contamination_index'];\n      if (val > 100) {\n        contaminations.push(100);\n      } else if (val < 0) {\n        contaminations.push(0);\n      } else {\n        contaminations.push(val);\n      }\n    })\n    return (contaminations.reduce((a, b) => (a + b)) / contaminations.length).toFixed(1);\n  }\n\n  const getGreenRooms = () => {\n    return rooms.filter((room) => {\n      return getVariant(room['contamination_index']) === 'good';\n    }).length;\n  }\n\n  const getRedRooms = () => {\n    return rooms.filter((room) => {\n      return getVariant(room['contamination_index']) === 'critical';\n    }).length;\n  }\n  return (\n    <PageContainer style={{textAlign: 'start'}}>\n      <Grid container direction={\"row\"} justify={\"space-between\"} alignItems={\"center\"} style={{marginBottom: '32px'}}>\n        <Grid item>\n          <Typography variant={\"h4\"} style={{marginBottom: 16}}>Hello {user && user.username}!</Typography>\n        </Grid>\n        <Grid item>\n          <FormControl variant={'outlined'} style={{minWidth: '320px', margin: '8px'}}>\n            <InputLabel id=\"demo-simple-select-outlined-label\">Select hospital</InputLabel>\n            <Select label=\"Select Hospital\" onChange={hospitalSelected} value={hospital}>\n              <MenuItem value={false}>\n                <em>All</em>\n              </MenuItem>\n              {\n                hospitals.map(hosp => (\n                  <MenuItem value={hosp['_id']} key={hosp['_id']}>{hosp.name}</MenuItem>\n                ))\n              }\n            </Select>\n          </FormControl>\n        </Grid>\n      </Grid>\n      <Grid container spacing={6}>\n        <Grid item xs={5}>\n          <Typography variant={\"h5\"} className={styles.semiBold}>Alerts</Typography>\n          <Alerts reports={reports} loading={loading}/>\n        </Grid>\n        <Grid item xs className={styles.grid}>\n          <Grid container spacing={4}>\n            <Grid item xs>\n              <KeyStat subtitle={\"Rooms cleaned today\"}\n                       value={loading ? <CircularProgress color={\"secondary\"}/> : getCleanedRooms()} color={\"#F2C94C\"}/>\n            </Grid>\n            <Grid item xs>\n              <KeyStat subtitle={\"Average contamination index\"}\n                       value={loading ? <CircularProgress color={\"secondary\"}/> : getContaminationIndex()}\n                       color={\"#27AE60\"}/>\n            </Grid>\n            <Grid item xs>\n              <KeyStat subtitle={\"Green rooms\"}\n                       value={loading ? <CircularProgress color={\"secondary\"}/> : getGreenRooms()} color={\"#27AE60\"}/>\n            </Grid>\n            <Grid item xs>\n              <KeyStat subtitle={\"Red rooms\"} value={loading ? <CircularProgress color={\"secondary\"}/> : getRedRooms()}\n                       color={\"#EB5757\"}/>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n      <ReportsPerDay loading={loading} reports={reports}/>\n    </PageContainer>\n  )\n}\n\nexport default DashboardPage;","import React from 'react';\nimport PageContainer from \"../../containers/PageContainer\";\nimport {TextField} from \"formik-material-ui\";\nimport {Formik, Form, Field} from \"formik\";\nimport {Button, Grid, Typography} from \"@material-ui/core\";\nimport * as Yup from \"yup\";\nimport {authenticate} from \"../../utils/api\";\nimport {useHistory} from 'react-router-dom';\nimport Paper from \"@material-ui/core/Paper\";\nimport styles from './LoginPage.module.scss';\n\n\nconst validationSchema = Yup.object({\n  username: Yup.string().required('Username is required'),\n  password: Yup.string().required('Password is required')\n});\n\nconst LoginPage = () => {\n  const history = useHistory();\n\n  const initialValues = {\n    username: '',\n    password: ''\n  }\n\n  const handleSubmit = (vars, {setSubmitting}) => {\n    console.log(vars)\n    authenticate(vars.username, vars.password);\n    history.push('/dashboard');\n  }\n\n  return (\n    <PageContainer noToolbar>\n      <Paper variant={\"elevation\"} className={styles.form}>\n        <Formik initialValues={initialValues} onSubmit={handleSubmit} validationSchema={validationSchema}>\n          {({isSubmitting, resetForm, values}) => (\n            <Form>\n              <Grid container spacing={2}>\n                <Grid item xs={12}>\n                  <Typography variant={\"h4\"}>Login to spotless</Typography>\n                </Grid>\n                <Grid item xs={12}>\n                  <Field\n                    component={TextField}\n                    autoFocus\n                    variant={\"outlined\"}\n                    margin=\"dense\"\n                    id=\"name\"\n                    label=\"Username\"\n                    type=\"text\"\n                    name=\"username\"\n                    fullWidth\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  <Field\n                    component={TextField}\n                    variant={\"outlined\"}\n                    margin=\"dense\"\n                    id=\"name\"\n                    label=\"Password\"\n                    type=\"password\"\n                    name=\"password\"\n                    fullWidth\n                  />\n                </Grid>\n              </Grid>\n              <Button type=\"submit\" color=\"primary\" variant={\"contained\"} className={styles.btn}>Sign in</Button>\n            </Form>\n          )}\n        </Formik>\n      </Paper>\n    </PageContainer>\n  )\n}\n\nexport default LoginPage;","import LoginPage from './LoginPage';\nexport default LoginPage;\n","import {Grid, MenuItem, Typography} from \"@material-ui/core\";\nimport styles from \"./ShiftPicker.module.scss\";\nimport {Field} from \"formik\";\nimport {Select} from \"formik-material-ui\";\nimport React from \"react\";\n\n\nconst ShiftPicker = () => {\n  return (\n    <Grid item xs className={styles.row}>\n      <div>\n        <Typography variant={\"body1\"}>Shift start</Typography>\n        <div className={styles.row}>\n          <Field component={Select} name=\"startHour\">\n            {[...Array(24).keys()].map((number) => {\n              const num = number.toString().padStart(2, '0')\n              return <MenuItem key={number} value={num}>{num}</MenuItem>;\n            })}\n          </Field>\n          <Typography variant={\"h6\"}>:</Typography>\n          <Field component={Select} name=\"startMinutes\">\n            {['00', 15, 30, 45].map((number) => {\n              return <MenuItem key={number} value={number.toString()}>{number}</MenuItem>;\n            })}\n          </Field>\n        </div>\n      </div>\n      <Typography variant={\"h4\"} style={{margin: '0 16px'}}>-</Typography>\n      <div>\n        <Typography variant={\"body1\"}>Shift end</Typography>\n        <div className={styles.row}>\n          <Field component={Select} name=\"endHour\">\n            {[...Array(23).keys()].map((number) => {\n              return <MenuItem key={number} value={number.toString()}>{number}</MenuItem>;\n            })}\n          </Field>\n          <Typography variant={\"body1\"}>:</Typography>\n          <Field component={Select} name=\"endMinutes\">\n            {['00', 15, 30, 45].map((number) => {\n              return <MenuItem key={number} value={number.toString()}>{number}</MenuItem>;\n            })}\n          </Field>\n        </div>\n      </div>\n    </Grid>\n  )\n}\n\nexport default ShiftPicker;","import React, {useEffect, useState} from 'react';\nimport {useHistory} from \"react-router-dom\";\nimport {\n  Grid,\n  IconButton,\n  Paper,\n  Table,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Typography,\n  Tooltip,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  Button,\n  DialogActions,\n} from \"@material-ui/core\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport {AddCircleOutline, VisibilityOutlined} from \"@material-ui/icons\";\nimport {createCleaner, getCleaners, getRooms} from \"../../utils/api\";\nimport styles from './CleanersPage.module.scss';\nimport * as Yup from \"yup\";\nimport {Formik, Form, Field} from \"formik\";\nimport {TextField} from \"formik-material-ui\";\nimport PageContainer from \"../../containers/PageContainer\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport ShiftPicker from \"../../components/ShiftPicker/ShiftPicker\";\nimport moment from \"moment\";\n\nconst CleanersPage = () => {\n  const [cleaners, setCleaners] = useState([]);\n  const [rooms, setRooms] = useState([]);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [open, setOpen] = React.useState(false);\n  const [snackOpen, setSnackOpen] = useState(false);\n\n  useEffect(() => {\n    Promise.all([getCleaners(), getRooms(null, null, true)])\n      .then((responses) => {\n        setCleaners(responses[0]);\n        setRooms(responses[1]);\n        setIsLoaded(true);\n      }, (err) => {\n        console.log(err);\n      });\n  }, [setOpen, isLoaded])\n\n  const handleSnackClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setSnackOpen(false);\n  };\n\n  return (\n    <PageContainer style={{textAlign: 'start'}}>\n      <div className={styles.headerRow}>\n        <Typography variant={\"h5\"} className={styles.bold}>Cleaners</Typography>\n        <Tooltip title=\"Add cleaner\">\n          <IconButton onClick={() => setOpen(true)}>\n            <AddCircleOutline/>\n          </IconButton>\n        </Tooltip>\n      </div>\n      {isLoaded ? <CleanersTable cleaners={cleaners} rooms={rooms}/> :\n        <CircularProgress color=\"secondary\" style={{margin: '16px auto'}}/>}\n      <AddCleanerDialog open={open} setOpen={setOpen} setIsLoaded={setIsLoaded} setSnackOpen={setSnackOpen}/>\n      <Snackbar open={snackOpen} autoHideDuration={6000} onClose={handleSnackClose}\n                anchorOrigin={{vertical: \"top\", horizontal: \"center\"}}>\n        <Alert variant={\"filled\"} severity=\"success\" onClose={handleSnackClose}>\n          Cleaner created\n        </Alert>\n      </Snackbar>\n    </PageContainer>\n  )\n}\n\nconst validationSchema = Yup.object({\n  firstName: Yup.string().required('First name is required'),\n  lastName: Yup.string().required('Last name is required')\n});\n\nconst AddCleanerDialog = ({open, setOpen, setIsLoaded, setSnackOpen}) => {\n  const handleClose = () => {\n    setOpen(false);\n  }\n\n  const initialValues = {\n    firstName: '',\n    lastName: '',\n    startHour: '08',\n    endHour: '16',\n    startMinutes: '00',\n    endMinutes: '00'\n  }\n\n  const handleSubmit = async (vars, {setSubmitting}) => {\n    const cleaner = await createCleaner(`${vars.firstName} ${vars.lastName}`,\n      `${vars.startHour.padStart(2, '0')}:${vars.startMinutes.padStart(2, '0')}`,\n      `${vars.endHour.padStart(2, '0')}:${vars.endMinutes.padStart(2, '0')}`);\n    console.log(cleaner);\n    setIsLoaded(false);\n    setSubmitting(false);\n    setSnackOpen(true);\n    setOpen(false);\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n      <DialogTitle id=\"form-dialog-title\">Create a new cleaner</DialogTitle>\n      <Formik initialValues={initialValues} onSubmit={handleSubmit} validationSchema={validationSchema}>\n        {({isSubmitting, resetForm, values}) => (\n          <Form>\n            <DialogContent>\n              <Grid container spacing={2}>\n                <Grid item xs={6}>\n                  <Field\n                    component={TextField}\n                    autoFocus\n                    margin=\"dense\"\n                    id=\"name\"\n                    label=\"First name\"\n                    type=\"text\"\n                    name=\"firstName\"\n                    fullWidth\n                  />\n                </Grid>\n                <Grid item xs={6}>\n                  <Field\n                    component={TextField}\n                    margin=\"dense\"\n                    id=\"name\"\n                    label=\"Last name\"\n                    type=\"text\"\n                    name=\"lastName\"\n                    fullWidth\n                  />\n                </Grid>\n                <ShiftPicker/>\n              </Grid>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={handleClose} color=\"primary\">\n                Cancel\n              </Button>\n              <Button type=\"submit\" color=\"primary\">\n                Create cleaner\n              </Button>\n            </DialogActions>\n          </Form>\n        )}\n      </Formik>\n    </Dialog>\n  );\n}\n\nconst CleanersTable = ({cleaners, rooms}) => {\n  const history = useHistory();\n\n  const viewCleaner = (cleaner) => {\n    const id = cleaner['_id'];\n    history.push({\n      pathname: `/cleaners/${id}`,\n      state: {id}\n    })\n  }\n\n  const getCleaningProgress = (cleaner) => {\n    const assignedRooms = rooms.filter((room) => {\n      return room['assigned_cleaners'].length > 0 && room['assigned_cleaners'][0]['_id'] === cleaner['_id'];\n    });\n    const today = moment();\n    const numCleaned = assignedRooms.filter((room) => {\n      if (!room['last_cleaned']) {\n        return false;\n      }\n      return moment(room['last_cleaned']).isSame(today, 'date');\n    }).length;\n    return (\n      <Tooltip title={`${numCleaned}/${assignedRooms.length}`} placement={\"right\"}>\n        <Typography>{Math.round(((numCleaned / assignedRooms.length) * 100)) || 0} %</Typography>\n      </Tooltip>\n    )\n  }\n\n  const getStatus = (cleaner) => {\n    const shiftStart = moment(cleaner['shift_start'], 'HH:mm');\n    const shiftEnd = moment(cleaner['shift_end'], 'HH:mm');\n    const isBetween = moment().isBetween(shiftStart, shiftEnd);\n    return isBetween ? '' : 'Unavailable';\n  }\n\n  return (\n    <TableContainer component={Paper}>\n      <Table size={'small'}>\n        <TableHead>\n          <TableRow>\n            <TableCell>Name</TableCell>\n            <TableCell align=\"right\">Shift start</TableCell>\n            <TableCell align=\"right\">Shift end</TableCell>\n            <TableCell align=\"right\">Cleaning progress</TableCell>\n            <TableCell align=\"right\">Current location</TableCell>\n            <TableCell align=\"right\">Status</TableCell>\n            <TableCell>Action</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {cleaners.map((row) => (\n            <TableRow key={row['_id']}>\n              <TableCell component=\"th\" scope=\"row\">{row.name}</TableCell>\n              <TableCell align=\"right\">{row['shift_start']}</TableCell>\n              <TableCell align=\"right\">{row['shift_end']}</TableCell>\n              <TableCell align=\"right\">{getCleaningProgress(row)}</TableCell>\n              <TableCell align=\"right\">{}</TableCell>\n              <TableCell align=\"right\">{getStatus(row)}</TableCell>\n              <TableCell>\n                <IconButton size={\"small\"} color={\"secondary\"} onClick={() => {\n                  viewCleaner(row)\n                }}><VisibilityOutlined/></IconButton>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}\n\n\nexport default CleanersPage;","import CleanersPage from './CleanersPage';\nexport default CleanersPage;\n","import React, {useEffect, useState} from 'react';\nimport {AppBar, Typography, Tabs, Toolbar as MaterialToolbar, Tab, IconButton} from \"@material-ui/core\";\nimport {Link, useLocation, matchPath, useHistory} from 'react-router-dom';\nimport {withStyles} from \"@material-ui/core/styles\";\nimport styles from './Toolbar.module.scss';\nimport {\n  ArrowBackRounded, AssessmentRounded,\n  BusinessRounded,\n  DashboardRounded, ExitToApp,\n  FormatListBulletedRounded,\n  PeopleRounded, Settings\n} from \"@material-ui/icons\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport {getUser, logout} from \"../../utils/api\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport MenuIcon from '@material-ui/icons/Menu';\n\nconst NavTabs = withStyles({\n  root: {\n    width: '100%',\n    flexGrow: 1\n  },\n  indicator: {\n    display: 'flex',\n    justifyContent: 'center',\n    backgroundColor: 'transparent',\n    marginBottom: '4px',\n    '& > span': {\n      width: '40%',\n      backgroundColor: '#00b0ff',\n      borderTopLeftRadius: 4,\n      borderTopRightRadius: 4,\n    },\n  }\n})((props) => <Tabs {...props} TabIndicatorProps={{children: <span/>}}/>);\n\nconst mountTabValueFactory = (location, tabId) => (route) => !!matchPath(location.pathname, {\n  path: route,\n  exact: false,\n  strict: false,\n}) ? tabId : -1;\n\nconst Toolbar = () => {\n  const location = useLocation();\n  const history = useHistory();\n  const tabId = 'myTabId';\n  const getTabValue = mountTabValueFactory(location, tabId);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [user, setUser] = useState('');\n\n  useEffect(() => {\n    const u = getUser();\n    setUser(u);\n  }, []);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <AppBar position={\"static\"}>\n      <MaterialToolbar variant={\"dense\"}>\n        <div className={styles.toolbar}>\n          {location.pathname.split('/').length > 2 ? (\n            <Tooltip title={'Go Back'}>\n              <IconButton onClick={() => {\n                history.goBack()\n              }}>\n                <ArrowBackRounded className={styles.svg}/>\n              </IconButton>\n            </Tooltip>\n          ) : <div style={{width: 40}}/>}\n          <Typography variant={\"h6\"} className={styles.name}>Spotless</Typography>\n        </div>\n        <NavTabs variant={\"fullWidth\"} value={tabId}>\n          <Tab label={<div className={styles.tab}><DashboardRounded fontSize={\"small\"}/> Dashboard</div>}\n               value={getTabValue(\"/dashboard\")} component={Link} to={\"/dashboard\"}\n               disableRipple={true}/>\n          <Tab label={<div className={styles.tab}><FormatListBulletedRounded fontSize={\"small\"}/> Assignments</div>}\n               value={getTabValue(\"/assignments\")} component={Link} to={\"/assignments\"}\n               disableRipple={true} className={styles.tab}/>\n          <Tab label={<div className={styles.tab}><PeopleRounded fontSize={\"small\"}/> Cleaners</div>}\n               value={getTabValue(\"/cleaners\")} component={Link} to={\"/cleaners\"}\n               disableRipple={true} className={styles.tab}/>\n          <Tab label={<div className={styles.tab}><BusinessRounded fontSize={\"small\"}/> Rooms</div>}\n               value={getTabValue(\"/rooms\")} component={Link} to={\"/rooms\"} disableRipple={true}/>\n          <Tab label={<div className={styles.tab}><AssessmentRounded fontSize={\"small\"}/> Analysis</div>}\n               value={getTabValue(\"/analysis\")} component={Link} to={\"/analysis\"}\n               disableRipple={true} className={styles.tab}/>\n        </NavTabs>\n        <Tooltip title={\"Open menu\"}>\n          <IconButton aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n            <MenuIcon color={\"secondary\"}/>\n          </IconButton>\n        </Tooltip>\n        <Menu\n          id=\"simple-menu\"\n          anchorEl={anchorEl}\n          keepMounted\n          open={Boolean(anchorEl)}\n          onClose={handleClose}\n        >\n          {user.superAdmin &&\n          <MenuItem onClick={() => {\n            handleClose();\n            history.push('/simulator');\n          }}>\n            <ListItemIcon>\n              <Settings fontSize=\"small\" style={{color: '#808080'}}/>\n            </ListItemIcon>\n            <ListItemText primary=\"Simulator\"/>\n          </MenuItem>}\n\n          <MenuItem onClick={() => {\n            handleClose();\n            logout();\n            history.push('/');\n          }}>\n            <ListItemIcon>\n              <ExitToApp color={\"secondary\"} fontSize=\"small\"/>\n            </ListItemIcon>\n            <ListItemText primary=\"Sign out\"/>\n          </MenuItem>\n        </Menu>\n      </MaterialToolbar>\n    </AppBar>\n  );\n}\n\nexport default Toolbar;","import Toolbar from './Toolbar';\nexport default Toolbar;","import AnalysisPage from './AnalysisPage';\nexport default AnalysisPage;\n","import React from 'react';\nimport PageContainer from \"../../containers/PageContainer\";\nimport {Typography} from \"@material-ui/core\";\n\nconst AnalysisPage = () => {\n  return (\n    <PageContainer style={{textAlign: 'start'}}>\n      <Typography variant={\"h5\"}>Analysis</Typography>\n    </PageContainer>\n  )\n}\n\nexport default AnalysisPage;","import React, {useEffect, useState} from 'react';\nimport {getHospitals, getRooms} from \"../../utils/api\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport {IconButton, Paper, Table, TableContainer, TableHead, TableRow, Typography} from \"@material-ui/core\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport moment from \"moment\";\nimport {VisibilityOutlined} from \"@material-ui/icons\";\nimport {useHistory} from 'react-router-dom';\nimport styles from \"./RoomsPage.module.scss\";\nimport PageContainer from \"../../containers/PageContainer\";\nimport {getRoomTypeProp} from \"../../utils/utils\";\nimport hospitalImg from \"../../assets/hospital.png\";\n\nconst RoomsPage = () => {\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [rooms, setRooms] = useState([]);\n  const [hospitals, setHospitals] = useState([]);\n  const [hospital, setHospital] = useState('');\n\n  useEffect(() => {\n    getHospitals()\n      .then((result) => {\n          console.log(result);\n          setIsLoaded(true);\n          setHospitals(result);\n        },\n        (err) => {\n          setError(true);\n          setIsLoaded(true);\n          console.log(err);\n        })\n  }, []);\n\n  const hospitalSelected = (event) => {\n    setHospital(event.target.value);\n    getRooms(event.target.value['_id'])\n      .then((rooms) => {\n          console.log(rooms);\n          setRooms(rooms);\n        },\n        (error) => {\n          setError(true);\n          setIsLoaded(true);\n          console.log(error);\n        });\n  }\n\n  return (\n    <PageContainer>\n      <div className={styles.headerRow}>\n        <Typography variant={\"h5\"} className={styles.bold}>Rooms</Typography>\n        {!isLoaded ? <CircularProgress color=\"secondary\"/> :\n          (\n            <FormControl variant={'outlined'} style={{minWidth: '320px', margin: '8px'}}>\n              <InputLabel id=\"demo-simple-select-outlined-label\">Select hospital</InputLabel>\n              <Select label=\"Select Hospital\" onChange={hospitalSelected} value={hospital}>\n                <MenuItem value={{}}>\n                  <em>None</em>\n                </MenuItem>\n                {\n                  hospitals.map(hosp => (\n                    <MenuItem value={hosp} key={hosp['_id']}>{hosp.name}</MenuItem>\n                  ))\n                }\n              </Select>\n            </FormControl>\n          )\n        }\n      </div>\n      <img src={hospitalImg} alt=\"hospital\" className={styles.map} />\n      {rooms.length > 0 && (\n        <RoomTable rooms={rooms}/>\n      )}\n      {error && <p>ERROR</p>}\n    </PageContainer>\n  )\n}\n\nconst RoomTable = ({rooms}) => {\n  const history = useHistory();\n  const getDate = (date) => {\n    return date ? moment(date).format('YYYY-MM-DD HH:mm:ss') : 'Never';\n  }\n\n  const getPatient = (patient) => {\n    return patient === \"<empty>\" ? 'No' : 'Yes';\n  }\n\n  const openRoom = (room) => {\n    const id = room['_id'];\n    history.push({\n      pathname: `/rooms/${id}`,\n      state: {id}\n    })\n  }\n\n  return (\n    <TableContainer component={Paper}>\n      <Table size={\"small\"}>\n        <TableHead>\n          <TableRow>\n            <TableCell>Name</TableCell>\n            <TableCell align=\"right\">Building</TableCell>\n            <TableCell align=\"right\">Floor</TableCell>\n            <TableCell align=\"right\">Contamination index</TableCell>\n            <TableCell align=\"right\">Has Patient</TableCell>\n            <TableCell align=\"right\">Room type</TableCell>\n            <TableCell align=\"right\">Last cleaned</TableCell>\n            <TableCell>Action</TableCell>\n          </TableRow>\n         </TableHead>\n        <TableBody>\n          {rooms.map((row) => (\n            <TableRow key={row['_id']}>\n              <TableCell component=\"th\" scope=\"row\">\n                {row.name}\n              </TableCell>\n              <TableCell align=\"right\">{row.building}</TableCell>\n              <TableCell align=\"right\">{row.floor}</TableCell>\n              <TableCell align=\"right\">{row['contamination_index']}</TableCell>\n              <TableCell align=\"right\">{getPatient(row.patient)}</TableCell>\n              <TableCell align=\"right\">{getRoomTypeProp(row, 'displayName')}</TableCell>\n              <TableCell align=\"right\">{getDate(row['last_cleaned'])}</TableCell>\n              <TableCell>\n                <IconButton size={\"small\"} color={\"secondary\"} onClick={() => {\n                  openRoom(row)\n                }}><VisibilityOutlined/></IconButton>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}\n\nexport default RoomsPage;","import RoomsPage from './RoomsPage';\nexport default RoomsPage;\n","export function descendingComparator(a, b, orderBy) {\n  if (a[orderBy] === undefined) return 1;\n\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\nexport function getComparator(order, orderBy) {\n  return order === 'desc'\n    ? (a, b) => descendingComparator(a, b, orderBy)\n    : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\nexport function stableSort(array, comparator) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map((el) => el[0]);\n}\n\nexport function handleClick(event, item, selected, setSelected) {\n  const selectedIndex = selected.indexOf(item);\n  let newSelected = [];\n\n  if (selectedIndex === -1) {\n    newSelected = newSelected.concat(selected, item);\n  } else if (selectedIndex === 0) {\n    newSelected = newSelected.concat(selected.slice(1));\n  } else if (selectedIndex === selected.length - 1) {\n    newSelected = newSelected.concat(selected.slice(0, -1));\n  } else if (selectedIndex > 0) {\n    newSelected = newSelected.concat(\n      selected.slice(0, selectedIndex),\n      selected.slice(selectedIndex + 1),\n    );\n  }\n\n  setSelected(newSelected);\n}","import CleanerSelect from './CleanerSelect';\nexport default CleanerSelect;","import React, {useEffect, useState} from 'react';\nimport PropTypes from \"prop-types\";\nimport {Autocomplete} from \"@material-ui/lab\";\nimport TextField from \"@material-ui/core/TextField\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport {getCleaners} from \"../../utils/api\";\nimport styles from \"./CleanerSelect.module.scss\";\n\nconst CleanerSelect = ({onChange, style}) => {\n  const [options, setOptions] = useState([]);\n  const [openSelect, setOpenSelect] = useState(false);\n  const [cleaner, setCleaner] = useState(null);\n  const loading = openSelect && options.length === 0;\n\n  useEffect(() => {\n    let active = true;\n\n    if (!loading) {\n      return undefined;\n    }\n\n    (async () => {\n      const clnrs = await getCleaners();\n\n      if (active) {\n        setOptions(clnrs);\n      }\n    })();\n\n    return () => {\n      active = false;\n    };\n  }, [loading]);\n\n  const onSelectChange = (event, newValue) => {\n    setCleaner(newValue);\n    onChange(event, newValue);\n  }\n\n  return (\n    <Autocomplete\n      open={openSelect}\n      onOpen={() => {\n        setOpenSelect(true);\n      }}\n      onClose={() => {\n        setOpenSelect(false);\n      }}\n      className={styles.autocomplete}\n      style={style}\n      getOptionLabel={(option) => option.name || ''}\n      options={options}\n      loading={loading}\n      value={cleaner}\n      onChange={onSelectChange}\n      renderInput={(params) => (\n        <TextField\n          {...params}\n          label=\"Cleaner\"\n          variant=\"outlined\"\n          InputProps={{\n            ...params.InputProps,\n            endAdornment: (\n              <>\n                {loading ? <CircularProgress color=\"inherit\" size={20}/> : null}\n                {params.InputProps.endAdornment}\n              </>\n            ),\n          }}\n        />\n      )}\n    />\n  );\n}\n\nCleanerSelect.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  style: PropTypes.object\n}\n\nexport default CleanerSelect;","import React, {useState} from \"react\";\nimport {assignRoomsToCleaner, unAssignRooms} from \"../../utils/api\";\nimport {Button, Dialog, DialogActions, DialogContent, DialogTitle} from \"@material-ui/core\";\nimport CleanerSelect from \"../../components/CleanerSelect\";\n\nexport const AssignCleanerDialog = ({open, setOpen, selected, setSnackOpen, onClose, setSnackText}) => {\n  const [cleaner, setCleaner] = useState(null);\n\n  const handleClose = () => {\n    onClose();\n    setOpen(false);\n  }\n\n  const handleSubmit = async () => {\n    const selectedWithCleaner = selected.filter((room) => {\n      return room['assigned_cleaners'].length > 0;\n    });\n    if (selectedWithCleaner.length > 0) {\n      await unAssignRooms(selectedWithCleaner);\n    }\n    await assignRoomsToCleaner(selected, cleaner['_id'])\n    setSnackText('Cleaner assigned');\n    setSnackOpen(true);\n    handleClose();\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\" disableBackdropClick={true}>\n      <DialogTitle id=\"form-dialog-title\">Select a cleaner</DialogTitle>\n      <DialogContent>\n        <CleanerSelect onChange={(event, newValue) => {\n          setCleaner(newValue)\n        }}/>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Cancel\n        </Button>\n        <Button color=\"primary\" onClick={handleSubmit} disabled={cleaner === ''}>\n          Assign\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React from \"react\";\nimport Select from \"@material-ui/core/Select\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport {ROOM_TYPES} from \"../../utils/constants\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\n\nconst TableFilters = ({rooms, setRooms}) => {\n  const [building, setBuilding] = React.useState('');\n  const [floor, setFloor] = React.useState('');\n  const [roomType, setRoomType] = React.useState('');\n  const [assigned, setAssigned] = React.useState(true);\n\n  const filter = (building, roomType, floor, assigned) => {\n    let filtered = rooms;\n    filtered = filtered.filter((room) => {\n      let valid = true;\n      if (building) {\n        valid = room.building === building;\n      }\n      if (floor) {\n        valid = room.floor === floor && valid;\n      }\n      if (roomType) {\n        valid = room['room_type'] === roomType.key && valid;\n      }\n      if (!assigned) {\n        valid = room['assigned_cleaners'].length === 0 && valid;\n      }\n      return valid;\n    });\n    setRooms(filtered);\n  }\n\n  const getBuildings = () => {\n    return [...new Set(rooms.map(room => {\n      return room.building;\n    }))];\n  };\n\n  const getFloors = () => {\n    return [...new Set(rooms.map(room => {\n      return room.floor;\n    }))];\n  }\n  return (\n    <>\n      <FormControl variant={'outlined'} style={{minWidth: '240px', marginBottom: 8}}>\n        <InputLabel id=\"building\">Building</InputLabel>\n        <Select label=\"Building\" onChange={(event) => {\n          setBuilding(event.target.value);\n          filter(event.target.value, roomType, floor, assigned);\n        }} value={building}>\n          <MenuItem value={''}>\n            <em>All</em>\n          </MenuItem>\n          {getBuildings().map(building => (\n            <MenuItem value={building} key={building}>{building}</MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      <FormControl variant={'outlined'} style={{minWidth: '240px', marginBottom: 8}}>\n        <InputLabel id=\"floor\">Floor</InputLabel>\n        <Select label=\"Floor\" onChange={(event) => {\n          setFloor(event.target.value);\n          filter(building, roomType, event.target.value, assigned);\n        }} value={floor}>\n          <MenuItem value={''}>\n            <em>All</em>\n          </MenuItem>\n          {getFloors().map(floor => (\n            <MenuItem value={floor} key={floor}>{floor}</MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      <FormControl variant={'outlined'} style={{minWidth: '240px', marginBottom: 8}}>\n        <InputLabel id=\"room-type\">Room type</InputLabel>\n        <Select label=\"Room type\" onChange={(event) => {\n          setRoomType(event.target.value);\n          filter(building, event.target.value, floor, assigned);\n        }} value={roomType}>\n          <MenuItem value={''}>\n            <em>All</em>\n          </MenuItem>\n          {Object.keys(ROOM_TYPES).map(type => (\n            <MenuItem value={ROOM_TYPES[type]}\n                      key={ROOM_TYPES[type].displayName}>{ROOM_TYPES[type].displayName}</MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      <FormControlLabel control={<Checkbox checked={assigned} onChange={(event, checked) => {\n        setAssigned(checked);\n        filter(building, roomType, floor, checked);\n      }}/>} label=\"Show assigned\"/>\n    </>\n  );\n}\n\nexport default TableFilters;","import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport {lighten, makeStyles} from '@material-ui/core/styles';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TablePagination,\n  TableRow,\n  TableSortLabel,\n  Toolbar,\n  Typography,\n  Paper,\n  Checkbox,\n  IconButton,\n  Tooltip,\n  Button\n} from '@material-ui/core';\nimport {getRooms, unAssignRooms} from \"../../utils/api\";\nimport {VisibilityOutlined, FilterList, Close} from \"@material-ui/icons\";\nimport moment from \"moment\";\nimport {useHistory} from 'react-router-dom';\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport PageContainer from \"../../containers/PageContainer\";\nimport {getComparator, handleClick, stableSort} from \"../../utils/tableUtils\";\nimport styles from \"./AssignmentsPage.module.scss\"\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport {AssignCleanerDialog} from \"./AssignCleanerDialog\";\nimport Link from \"@material-ui/core/Link\";\nimport {Link as RouterLink} from 'react-router-dom';\nimport {getRoomTypeProp, getStatus} from \"../../utils/utils\";\nimport TableFilters from \"./TableFilters\";\n\nconst headCells = [\n  {id: 'name', numeric: false, disablePadding: true, label: 'Name'},\n  {id: 'building', numeric: true, disablePadding: false, label: 'Building'},\n  {id: 'floor', numeric: true, disablePadding: false, label: 'Floor'},\n  {id: 'cleaner', numeric: false, disablePadding: false, label: 'Assigned Cleaner'},\n  {id: 'status', numeric: false, disablePadding: false, label: 'Status'},\n  {id: 'contamination_index', numeric: true, disablePadding: false, label: 'Contamination index'},\n  {id: 'room_type', numeric: false, disablePadding: false, label: 'Room type'},\n  {id: 'last_cleaned', numeric: true, disablePadding: false, label: 'Last cleaned'},\n  {id: 'action', numeric: true, disablePadding: false, label: 'Action'},\n];\n\nfunction EnhancedTableHead(props) {\n  const {classes, onSelectAllClick, order, orderBy, numSelected, rowCount, onRequestSort} = props;\n  const createSortHandler = (property) => (event) => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            indeterminate={numSelected > 0 && numSelected < rowCount}\n            checked={rowCount > 0 && numSelected === rowCount}\n            onChange={onSelectAllClick}\n            inputProps={{'aria-label': 'select all desserts'}}\n          />\n        </TableCell>\n        {headCells.map((headCell) => (\n          <TableCell\n            key={headCell.id}\n            align={headCell.numeric ? 'right' : 'left'}\n            padding={headCell.disablePadding ? 'none' : 'default'}\n            sortDirection={orderBy === headCell.id ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === headCell.id}\n              direction={orderBy === headCell.id ? order : 'asc'}\n              onClick={createSortHandler(headCell.id)}\n            >\n              {headCell.label}\n              {orderBy === headCell.id ? (\n                <span className={classes.visuallyHidden}>\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  onSelectAllClick: PropTypes.func.isRequired,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired,\n};\n\nconst useToolbarStyles = makeStyles((theme) => ({\n  root: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n    textAlign: 'left',\n    flexDirection: 'column'\n  },\n  highlight:\n    theme.palette.type === 'light'\n      ? {\n        color: theme.palette.secondary.main,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n      }\n      : {\n        color: theme.palette.text.primary,\n        backgroundColor: theme.palette.secondary.dark,\n      },\n  filters: {\n    minHeight: 96\n  }\n}));\n\nconst EnhancedTableToolbar = (props) => {\n  const classes = useToolbarStyles();\n  const {numSelected, selected, setSelected, setSnackOpen, setSnackText, getData, rooms, setRooms } = props;\n  const [open, setOpen] = React.useState(false);\n  const [filter, showFilters] = React.useState(false);\n  const selectedWithCleaner = selected.filter((room) => {\n    return room['assigned_cleaners'].length > 0;\n  });\n\n  const removeAssignments = async () => {\n    await unAssignRooms(selectedWithCleaner);\n    setSnackText('Cleaner unassigned');\n    setSnackOpen(true);\n    setSelected([]);\n    getData(true);\n  }\n  return (\n    <Toolbar\n      className={clsx(classes.root, {\n        [classes.highlight]: numSelected > 0,\n        [classes.filters]: filter && numSelected === 0\n      })}\n    >\n      <div className={styles.row}>\n        {numSelected > 0 ? (\n          <Typography className={styles.title} color=\"inherit\" variant=\"subtitle1\" component=\"div\"\n                      style={{fontWeight: 600}}>\n            {numSelected} selected\n          </Typography>\n        ) : (\n          <Typography className={styles.title} variant=\"h5\" id=\"tableTitle\" component=\"div\" style={{fontWeight: '600'}}>\n            Assign rooms to cleaner\n          </Typography>\n        )}\n        {numSelected > 0 ? (\n          <>\n            {selectedWithCleaner.length > 0 &&\n            <Tooltip title=\"Remove room assignments\">\n              <Button variant={'contained'} startIcon={<Close/>} className={styles.critical}\n                      style={{flexBasis: '300px', marginRight: 32}} onClick={removeAssignments}>Remove assignments\n              </Button>\n            </Tooltip>\n            }\n            <Tooltip title=\"Assign to cleaner\">\n              <Button variant={'contained'} color={'secondary'} style={{flexBasis: '180px'}} onClick={() => {\n                setOpen(true);\n              }}>Assign rooms</Button>\n            </Tooltip>\n          </>\n        ) : (\n          <Tooltip title=\"Filter list\">\n            <IconButton aria-label=\"filter list\" onClick={() => {\n              showFilters(!filter);\n            }}>\n              <FilterList color={filter ? 'secondary' : 'inherit'}/>\n            </IconButton>\n          </Tooltip>\n        )}\n      </div>\n      {filter && numSelected === 0 &&\n      <div className={styles.row}>\n        <TableFilters rooms={rooms} setRooms={setRooms}/>\n      </div>\n      }\n      <AssignCleanerDialog open={open} setOpen={setOpen} selected={selected} onClose={() => {\n        setSelected([]);\n        getData(true);\n      }} setSnackOpen={setSnackOpen} setSnackText={setSnackText}/>\n    </Toolbar>\n  );\n};\n\nEnhancedTableToolbar.propTypes = {\n  numSelected: PropTypes.number.isRequired,\n  selected: PropTypes.array.isRequired,\n  setSelected: PropTypes.func.isRequired,\n  setSnackOpen: PropTypes.func.isRequired,\n  rooms: PropTypes.array.isRequired\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 750,\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n}));\n\nexport default function AssignmentsPage() {\n  const classes = useStyles();\n  const [order, setOrder] = React.useState('asc');\n  const [orderBy, setOrderBy] = React.useState('name');\n  const [selected, setSelected] = React.useState([]);\n  const [page, setPage] = React.useState(0);\n  const [roomsPerPage, setRoomsPerPage] = React.useState(25);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [rooms, setRooms] = useState([]);\n  const [origRooms, setOrigRooms] = useState([]);\n  const [snackOpen, setSnackOpen] = useState(false);\n  const [snackText, setSnackText] = useState('');\n  const [data, getData] = React.useState(true);\n  const history = useHistory();\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleSelectAllClick = (event) => {\n    if (event.target.checked) {\n      const newSelecteds = rooms.map((n) => n);\n      setSelected(newSelecteds);\n      return;\n    }\n    setSelected([]);\n  };\n\n  useEffect(() => {\n    if (data) {\n      getRooms(null, null, true)\n        .then((rooms) => {\n            console.log(rooms);\n            setRooms(rooms);\n            setOrigRooms(rooms);\n            setIsLoaded(true);\n            getData(false);\n          },\n          (error) => {\n            setIsLoaded(true);\n            console.log(error);\n          });\n    }\n  }, [data]);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRoomsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  const isSelected = (name) => selected.indexOf(name) !== -1;\n\n  const getDate = (date) => {\n    return date ? moment(date).format('YYYY-MM-DD HH:mm:ss') : 'Never';\n  }\n\n  const openRoom = (room) => {\n    const id = room['_id'];\n    history.push({\n      pathname: `/rooms/${id}`,\n      state: {id}\n    })\n  }\n\n  const handleSnackClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setSnackOpen(false);\n  };\n\n  const getCleaner = (room) => {\n    const cleaners = room['assigned_cleaners'];\n    const cleaner = cleaners.length > 0 && cleaners[0];\n    if (!cleaner) {\n      return '-';\n    }\n    return (<Link component={RouterLink} color=\"secondary\"\n                  to={{\n                    pathname: `/cleaners/${cleaner['_id']}`,\n                    state: {id: cleaner['_id']}\n                  }}>\n      {cleaner.name}\n    </Link>);\n  }\n\n  return (\n    <PageContainer className={classes.root}>\n      {isLoaded ?\n        <Paper className={classes.paper}>\n          <EnhancedTableToolbar numSelected={selected.length} selected={selected} setSnackOpen={setSnackOpen}\n                                setSelected={setSelected} setSnackText={setSnackText} getData={getData} rooms={origRooms} setRooms={setRooms}/>\n          <TableContainer>\n            <Table\n              className={classes.table}\n              aria-labelledby=\"tableTitle\"\n              aria-label=\"enhanced table\"\n              size={'small'}\n            >\n              <EnhancedTableHead\n                classes={classes}\n                numSelected={selected.length}\n                order={order}\n                orderBy={orderBy}\n                onSelectAllClick={handleSelectAllClick}\n                onRequestSort={handleRequestSort}\n                rowCount={rooms.length}\n              />\n              <TableBody>\n                {stableSort(rooms, getComparator(order, orderBy))\n                  .slice(page * roomsPerPage, page * roomsPerPage + roomsPerPage)\n                  .map((row, index) => {\n                    const isItemSelected = isSelected(row);\n                    const labelId = `enhanced-table-checkbox-${index}`;\n\n                    return (\n                      <TableRow\n                        hover\n                        onClick={(event) => handleClick(event, row, selected, setSelected)}\n                        role=\"checkbox\"\n                        aria-checked={isItemSelected}\n                        tabIndex={-1}\n                        key={row.name}\n                        selected={isItemSelected}\n                        style={{height: '33px'}}\n                      >\n                        <TableCell padding=\"checkbox\">\n                          <Checkbox\n                            checked={isItemSelected}\n                            inputProps={{'aria-labelledby': labelId}}\n                          />\n                        </TableCell>\n                        <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\n                          {row.name}\n                        </TableCell>\n                        <TableCell align=\"right\">{row.building}</TableCell>\n                        <TableCell align=\"right\">{row.floor}</TableCell>\n                        <TableCell>{getCleaner(row)}</TableCell>\n                        <TableCell>{getStatus(row['contamination_index'])}</TableCell>\n                        <TableCell align=\"right\">{row['contamination_index'].toFixed(2)}</TableCell>\n                        <TableCell>{getRoomTypeProp(row, 'displayName')}</TableCell>\n                        <TableCell align=\"right\">{getDate(row['last_cleaned'])}</TableCell>\n                        <TableCell align=\"right\">\n                          <IconButton color={\"secondary\"} size={\"small\"}\n                                      onClick={() => {\n                                        openRoom(row)\n                                      }}>\n                            <VisibilityOutlined/>\n                          </IconButton>\n                        </TableCell>\n                      </TableRow>\n                    );\n                  })}\n              </TableBody>\n            </Table>\n          </TableContainer>\n          <TablePagination\n            rowsPerPageOptions={[5, 10, 25, 50]}\n            component=\"div\"\n            count={rooms.length}\n            rowsPerPage={roomsPerPage}\n            page={page}\n            onChangePage={handleChangePage}\n            onChangeRowsPerPage={handleChangeRowsPerPage}\n          />\n        </Paper>\n        : <CircularProgress color=\"secondary\" style={{margin: '16px auto'}}/>\n      }\n      <Snackbar open={snackOpen} autoHideDuration={6000} onClose={handleSnackClose}\n                anchorOrigin={{vertical: \"top\", horizontal: \"center\"}}>\n        <Alert variant={\"filled\"} severity=\"success\" onClose={handleSnackClose}>\n          {snackText}\n        </Alert>\n      </Snackbar>\n    </PageContainer>\n  );\n}\n","import AssignmentsPage from './AssignmentsPage';\nexport default AssignmentsPage;\n","import React from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport styles from \"./RoomDetailsPage.module.scss\";\nimport {Divider, Typography} from \"@material-ui/core\";\nimport PropTypes from 'prop-types';\nimport {getRoomTypeProp} from \"../../utils/utils\";\n\n\nconst RoomDetailsCard = ({room}) => {\n\n  const getVariant = (contamination) => {\n    let variant = 'neutral';\n    if (contamination >= 60) {\n      variant = 'critical';\n    } else if (contamination >= 30) {\n      variant = 'med';\n    } else if (contamination < 30) {\n      variant = 'good';\n    }\n    return variant;\n  }\n  return (\n    <Card className={styles.card}>\n      <div className={styles.cardContent}>\n        <Typography variant={\"h6\"} className={styles.semiBold}>Room details</Typography>\n        <Divider light={true} className={styles.divider}/>\n        <Typography variant={\"body1\"} className={styles.semiBold}>Building {room.building}</Typography>\n        <Typography variant={\"body2\"} className={styles.medium} color=\"textSecondary\">Floor {room.floor}</Typography>\n        <Divider light={true} className={styles.divider}/>\n        <div className={styles.row}>\n          <Typography variant={\"body1\"} className={styles.semiBold}>{getRoomTypeProp(room, 'displayName')}</Typography>\n          <Typography\n            variant={\"body2\"}\n            className={styles.semiBold}>\n            Cleaning time: {getRoomTypeProp(room, 'cleaningTime')} min\n          </Typography>\n        </div>\n        <Typography variant={\"body2\"} className={styles.medium}\n                    color=\"textSecondary\">Cleaning {getRoomTypeProp(room, 'frequency')} times / week\n        </Typography>\n        <Divider light={true} className={styles.divider}/>\n        <div className={styles.row}>\n          <Typography variant={\"body1\"} className={styles.semiBold}>Contamination index</Typography>\n          <Typography variant={\"body1\"}\n                      className={[styles[getVariant(room['contamination_index'])], styles.medium].join(' ')}>{room['contamination_index']}</Typography>\n        </div>\n      </div>\n    </Card>\n  );\n}\n\nRoomDetailsCard.propTypes = {\n  room: PropTypes.object.isRequired\n}\n\nexport default RoomDetailsCard;","import React, {useState} from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport styles from \"./RoomDetailsPage.module.scss\";\nimport StatusDot from \"../../components/StatusDot\";\nimport PropTypes from 'prop-types';\nimport {Button, IconButton, Typography} from \"@material-ui/core\";\nimport CleanerSelect from \"../../components/CleanerSelect\";\nimport moment from \"moment\";\nimport {ClearOutlined} from \"@material-ui/icons\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Divider from \"@material-ui/core/Divider\";\nimport {assignRoom, unAssignRoom} from \"../../utils/api\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport {Link as RouterLink} from \"react-router-dom\";\nimport Link from \"@material-ui/core/Link\";\n\n\nconst RoomCleanerCard = ({room, cleaner, setCleaner}) => {\n  const [newCleaner, setNewCleaner] = useState({});\n  const [snackOpen, setSnackOpen] = useState(false);\n  const [snackText, setSnackText] = useState('');\n\n  const hasCleaner = Object.keys(cleaner).length !== 0;\n  const getColor = () => {\n    if (!hasCleaner) return 'neutral';\n    const shiftStart = moment(cleaner['shift_start'], 'HH:mm');\n    const shiftEnd = moment(cleaner['shift_end'], 'HH:mm');\n    const isBetween = moment().isBetween(shiftStart, shiftEnd);\n    return isBetween ? 'good' : 'critical';\n  }\n\n  const removeCleanerAssignment = async () => {\n    await unAssignRoom(room['_id'], cleaner['_id']);\n    setCleaner({});\n    setSnackText('Cleaner unassigned');\n    setSnackOpen(true);\n  }\n\n  const assignNewCleaner = async () => {\n    await assignRoom(room['_id'], newCleaner['_id']);\n    setCleaner(newCleaner);\n    setNewCleaner({});\n    setSnackText('Cleaner assigned');\n    setSnackOpen(true);\n  }\n\n  const handleSnackClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setSnackOpen(false);\n  };\n\n  return (\n    <Card className={styles.card} style={{height: 'min-content'}}>\n      <div className={styles.cardContent}>\n        <div className={styles.row}>\n          <StatusDot variant={getColor()} size={'tiny'} tooltip={'Cleaner name'}/>\n          {hasCleaner ? (\n              <>\n                <Link component={RouterLink} style={{marginLeft: 16}} color=\"secondary\"\n                      to={{\n                        pathname: `/cleaners/${cleaner['_id']}`,\n                        state: {id: cleaner['_id']}\n                      }}>\n                  <Typography variant={'h6'} className={styles.semiBold}>{cleaner.name}</Typography>\n                </Link>\n                <Tooltip title=\"Remove assignment\">\n                  <IconButton style={{marginLeft: 'auto'}} size={\"small\"} onClick={removeCleanerAssignment}>\n                    <ClearOutlined/>\n                  </IconButton>\n                </Tooltip>\n              </>\n            )\n            :\n            <CleanerSelect onChange={(event, newValue) => setNewCleaner(newValue)} style={{marginLeft: 16}}/>\n          }\n        </div>\n        {newCleaner && Object.keys(newCleaner).length !== 0 && (\n          <>\n            <Divider className={styles.divider}/>\n            <div className={styles.row}>\n              <Button onClick={assignNewCleaner} variant={\"contained\"} color={\"secondary\"}\n                      className={styles.btn}>Assign</Button>\n            </div>\n          </>\n        )}\n      </div>\n      <Snackbar open={snackOpen} autoHideDuration={6000} onClose={handleSnackClose}\n                anchorOrigin={{vertical: \"top\", horizontal: \"center\"}}>\n        <Alert variant={\"filled\"} severity=\"success\" onClose={handleSnackClose}>{snackText}</Alert>\n      </Snackbar>\n    </Card>\n  )\n}\n\nRoomCleanerCard.propTypes = {\n  room: PropTypes.object.isRequired,\n  cleaner: PropTypes.object\n}\n\nexport default RoomCleanerCard;","import React from 'react';\nimport styles from './RoomDetailsPage.module.scss';\nimport {Divider, Typography} from \"@material-ui/core\";\nimport Card from \"@material-ui/core/Card\";\nimport moment from 'moment';\nimport {makeStyles} from \"@material-ui/core/styles\";\n\n\nconst useStyles = makeStyles({\n  root: {\n    lineHeight: '200%'\n  },\n});\nconst CommentsList = ({reports}) => {\n  const classes = useStyles();\n\n  return (\n    <Card className={styles.comments}>\n      <div className={styles.cardContent}>\n        <Typography variant={\"h6\"} className={styles.semiBold} style={{marginBottom: 16}}>Cleaner comments:</Typography>\n        {reports.length > 0 ? (\n          reports.reduce((result, report) => {\n            const showReport = report.comments !== '';\n            if (showReport) {\n              const time = moment(report['cleaning_time']);\n              result.push(\n                <div key={report['_id']} className={styles.comment}>\n                  <Divider />\n                  <Typography variant={\"h6\"} className={classes.root}>{time.format('D MMM, YYYY')}</Typography>\n                  <Typography variant={\"h6\"} className={[styles.semiBold, styles.author, classes.root].join(' ')}>{report['cleaner_name']}</Typography>\n                  <Typography variant={\"body1\"} className={classes.root}>{report.comments}</Typography>\n                </div>\n              );\n            }\n            return result;\n          }, [])\n        ) :\n        <Typography variant={\"body1\"} className={styles.semiBold}>No comments</Typography>\n        }\n      </div>\n    </Card>\n  );\n}\n\nexport default CommentsList;","import React from \"react\";\nimport {\n  IconButton,\n  Paper,\n  Table,\n  TableContainer,\n  TableHead, TablePagination,\n  TableRow,\n  TableSortLabel,\n  Typography\n} from \"@material-ui/core\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport {Check, CloseRounded, VisibilityOutlined} from \"@material-ui/icons\";\nimport {Link as RouterLink, useHistory} from 'react-router-dom';\nimport moment from \"moment\";\nimport styles from './CleaningReportTable.module.scss';\nimport Link from \"@material-ui/core/Link\";\nimport PropTypes from 'prop-types';\nimport {getComparator, stableSort} from \"../../utils/tableUtils\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n\nfunction ReportsTableHead(props) {\n  const {classes, order, orderBy, onRequestSort, type} = props;\n  const createSortHandler = (property) => (event) => {\n    onRequestSort(event, property);\n  };\n  const headCells = [\n    {id: 'cleaning_time', numeric: true, disablePadding: false, label: 'Cleaning time'},\n    {id: 'cleaning_successful', numeric: false, disablePadding: false, label: 'Cleaning successful'},\n    {id: 'action', numeric: true, disablePadding: false, label: 'Action'},\n  ];\n  if (type === 'room') {\n    headCells.unshift({id: 'room', numeric: false, disablePadding: false, label: 'Room'});\n  } else {\n    headCells.unshift({id: 'cleaner', numeric: false, disablePadding: false, label: 'Cleaner'});\n  }\n\n  return (\n    <TableHead>\n      <TableRow>\n        {headCells.map((headCell) => (\n          <TableCell\n            key={headCell.id}\n            align={headCell.numeric ? 'right' : 'left'}\n            padding={headCell.disablePadding ? 'none' : 'default'}\n            sortDirection={orderBy === headCell.id ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === headCell.id}\n              direction={orderBy === headCell.id ? order : 'asc'}\n              onClick={createSortHandler(headCell.id)}\n            >\n              {headCell.label}\n              {orderBy === headCell.id ? (\n                <span className={classes.visuallyHidden}>\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nReportsTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  type: PropTypes.oneOf(['room', 'cleaner']).isRequired,\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 750,\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n}));\n\nconst CleaningReportsTable = ({reports, type}) => {\n  const history = useHistory();\n  const classes = useStyles();\n  const [order, setOrder] = React.useState('asc');\n  const [orderBy, setOrderBy] = React.useState('name');\n  const [page, setPage] = React.useState(0);\n  const [reportsPerPage, setReportsPerPage] = React.useState(10);\n  const viewReport = (report) => {\n    const id = report['_id'];\n    history.push({\n      pathname: `/rooms/reports/${id}`,\n      state: {id}\n    })\n  }\n  const getIcon = (successful) => {\n    return successful ? (<Check className={styles.good}/>) : (<CloseRounded color={\"error\"}/>);\n  }\n\n  const getCleaner = (report) => {\n    return (<Link component={RouterLink} color=\"secondary\"\n                  to={{\n                    pathname: `/cleaners/${report['cleaner_id']}`,\n                    state: {id: report['cleaner_id']}\n                  }}>\n      {report['cleaner_name']}\n    </Link>);\n  }\n\n  const getRoom = (report) => {\n    return (<Link component={RouterLink} color=\"secondary\"\n                  to={{\n                    pathname: `/rooms/${report['room_id']}`,\n                    state: {id: report['room_id']}\n                  }}>\n      {report['room_name']}\n    </Link>);\n  }\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setReportsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  return (\n    <div>\n      <Typography variant={\"h5\"} style={{margin: '16px 0'}} className={styles.semiBold}>Past cleaning\n        reports</Typography>\n      {reports.length > 0 ?\n        <Paper className={classes.paper}>\n          <TableContainer>\n            <Table\n              className={classes.table}\n              aria-labelledby=\"tableTitle\"\n              aria-label=\"enhanced table\"\n              size={'small'}\n            >\n              <ReportsTableHead\n                classes={classes}\n                order={order}\n                orderBy={orderBy}\n                onRequestSort={handleRequestSort}\n                type={type}\n              />\n              <TableBody>\n                {stableSort(reports, getComparator(order, orderBy))\n                  .slice(page * reportsPerPage, page * reportsPerPage + reportsPerPage)\n                  .map((row, index) => {\n                    const labelId = `enhanced-table-checkbox-${index}`;\n                    return (\n                      <TableRow\n                        hover\n                        tabIndex={-1}\n                        key={labelId}\n                        style={{height: '33px'}}\n                      >\n                        <TableCell component=\"th\" id={labelId} scope=\"row\">\n                          {type === 'room' ? getCleaner(row) : getRoom(row)}\n                        </TableCell>\n                        <TableCell align=\"right\">{moment(row['cleaning_time']).format('DD.MM.YYYY HH:mm')}</TableCell>\n                        <TableCell>{getIcon(row['cleaning_succesful'])}</TableCell>\n                        <TableCell align=\"right\">\n                          <IconButton color={\"secondary\"} size={\"small\"}\n                                      onClick={() => {\n                                        viewReport(row)\n                                      }}>\n                            <VisibilityOutlined/>\n                          </IconButton>\n                        </TableCell>\n                      </TableRow>\n                    );\n                  })}\n              </TableBody>\n            </Table>\n          </TableContainer>\n          <TablePagination\n            rowsPerPageOptions={[5, 10, 25, 50]}\n            component=\"div\"\n            count={reports.length}\n            rowsPerPage={reportsPerPage}\n            page={page}\n            onChangePage={handleChangePage}\n            onChangeRowsPerPage={handleChangeRowsPerPage}\n          />\n        </Paper>\n        : <Typography variant={\"h6\"}>No cleaning Reports</Typography>\n      }\n    </div>\n  );\n}\nCleaningReportsTable.propTypes = {\n  reports: PropTypes.array.isRequired,\n  type: PropTypes.oneOf(['cleaner', 'room']).isRequired\n}\nexport default CleaningReportsTable;","import RoomDetailsPage from './RoomDetailsPage';\nexport default RoomDetailsPage;","import React, {useEffect, useState} from \"react\";\nimport {useLocation, useHistory} from 'react-router-dom';\nimport {Button, Typography} from \"@material-ui/core\";\nimport {getAssignedCleaners, getReports, getRoom, getRoomHeatmap} from \"../../utils/api\";\nimport PageContainer from \"../../containers/PageContainer\";\nimport styles from \"./RoomDetailsPage.module.scss\";\nimport RoomDetailsCard from \"./RoomDetailsCard\";\nimport RoomCleanerCard from \"./RoomCleanerCard\";\nimport CommentsList from \"./RoomReportComments\";\nimport CleaningReportsTable from \"../../components/CleaningReportsTable/CleaningReportsTable\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport {update_img} from \"../../utils/utils\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport heatmap from \"../../assets/heatmap2.png\";\n\nconst RoomDetailsPage = () => {\n  const location = useLocation();\n  const history = useHistory();\n  const params = location.state;\n  const [roomLoaded, setRoomLoaded] = useState(false);\n  const [room, setRoom] = useState({});\n  const [reports, setReports] = useState([]);\n  const [cleaner, setCleaner] = useState({});\n  const [showMap, setShowMap] = useState(false);\n  const [error, setError] = useState(false);\n  const [errorMsg, setErrorMsg] = useState('');\n\n  useEffect(() => {\n    getRoom(params.id)\n      .then((room) => {\n          setRoom(room);\n          setRoomLoaded(true);\n        },\n        (error) => console.log(error));\n    getAssignedCleaners(params.id)\n      .then((cleaners) => {\n        if (cleaners.length >= 1) {\n          setCleaner(cleaners[0]);\n        }\n      }, (error) => console.log(error));\n    getReports(params.id)\n      .then((reports) => {\n        setReports(reports.sort((a, b) => new Date(b['cleaning_time']) - new Date(a['cleaning_time'])));\n      })\n  }, [params.id]);\n\n  useEffect(() => {\n    if (showMap) {\n      getRoomHeatmap(params.id, 'contamination')\n        .then((response) => {\n          const aux = document.getElementById('aux');\n          const canvas = document.getElementById('main');\n          // eslint-disable-next-line no-undef\n          update_img(response, aux, canvas, 20n);\n        })\n        .catch((err) => {\n          console.log(err.message)\n          setErrorMsg(err.message);\n          setError(true);\n        })\n    }\n  }, [params.id, showMap])\n  const navigateToMap = () => {\n    history.push({\n      pathname: `/rooms`,\n      state: {id: params.id, action: 'show'}\n    })\n  }\n\n  const handleSnackClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setError(false);\n    setShowMap(false);\n  };\n\n  return (\n    <PageContainer style={{width: '65%'}}>\n      {roomLoaded ? (\n        <>\n          <div className={styles.titleRow}>\n            <Typography variant={\"h4\"}>Room: {room.name}</Typography>\n            <Button variant={\"text\"} onClick={navigateToMap} size={\"small\"}>Show on map</Button>\n          </div>\n          <div className={styles.content}>\n            <div className={styles.detailsRow}>\n              <RoomDetailsCard room={room}/>\n              <RoomCleanerCard room={room} cleaner={cleaner} setCleaner={setCleaner}/>\n            </div>\n            <CommentsList reports={reports}/>\n            <div className={styles.row}>\n              <Typography variant={\"h5\"}>Room map</Typography>\n              <Button variant={\"outlined\"} color={\"primary\"} onClick={() => setShowMap(!showMap)}>\n                {showMap ? 'Hide map' : 'Show Map'}\n              </Button>\n            </div>\n            {showMap && (\n              <>\n                <canvas id=\"aux\" style={{display: 'none'}}/>\n                <canvas id=\"main\" width={72} height={56} className={styles.map}/>\n              </>\n            )}\n            <CleaningReportsTable reports={reports} type={'room'}/>\n          </div>\n        </>\n      ) : <CircularProgress color=\"secondary\" style={{margin: '16px auto'}}/>}\n      <Snackbar open={error} autoHideDuration={6000} onClose={handleSnackClose}>\n        <Alert onClose={() => setError(false)} severity=\"error\">{errorMsg}</Alert>\n      </Snackbar>\n    </PageContainer>\n  );\n}\n\nexport default RoomDetailsPage;","import CleaningReportsTable from './CleaningReportsTable';\nexport default CleaningReportsTable;","import * as Yup from \"yup\";\nimport {editCleaner} from \"../../utils/api\";\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Grid,\n} from \"@material-ui/core\";\nimport {Field, Form, Formik} from \"formik\";\nimport {TextField} from \"formik-material-ui\";\nimport React from \"react\";\nimport ShiftPicker from \"../../components/ShiftPicker/ShiftPicker\";\n\nconst validationSchema = Yup.object({\n  name: Yup.string().required()\n});\n\nconst EditCleanerDialog = ({cleaner, open, setOpen, onSave}) => {\n  const handleClose = () => {\n    setOpen(false);\n  }\n  const start = cleaner['shift_start'].split(':');\n  const end = cleaner['shift_end'].split(':');\n\n  const initialValues = {\n    name: cleaner.name,\n    startHour: start.length > 0 ? start[0] : '',\n    endHour: end.length > 0 ? end[0] : '',\n    startMinutes: start.length > 0 ? start[1] : '',\n    endMinutes: end.length > 0 ? end[1] : ''\n  }\n\n  const handleSubmit = async (vars, {setSubmitting}) => {\n    const edited = vars;\n    edited['_id'] = cleaner['_id'];\n    edited['shift_start'] = `${vars.startHour.padStart(2, '0')}:${vars.startMinutes.padStart(2, '0')}`;\n    edited['shift_end'] = `${vars.endHour.padStart(2, '0')}:${vars.endMinutes.padStart(2, '0')}`;\n    const res = await editCleaner(edited);\n    console.log(res);\n    setSubmitting(false);\n    setOpen(false);\n    onSave();\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n      <DialogTitle id=\"form-dialog-title\">Edit cleaner</DialogTitle>\n      <Formik initialValues={initialValues} onSubmit={handleSubmit} validationSchema={validationSchema}>\n        {({isSubmitting, resetForm, values}) => (\n          <Form>\n            <DialogContent>\n              <Grid container spacing={2}>\n                <Grid item xs={12}>\n                  <Field\n                    component={TextField}\n                    margin=\"dense\"\n                    id=\"name\"\n                    label=\"Name\"\n                    type=\"text\"\n                    name=\"name\"\n                    fullWidth\n                  />\n                </Grid>\n                <ShiftPicker/>\n              </Grid>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={handleClose} color=\"primary\">\n                Cancel\n              </Button>\n              <Button type=\"submit\" color=\"primary\">\n                Save\n              </Button>\n            </DialogActions>\n          </Form>\n        )}\n      </Formik>\n    </Dialog>\n  );\n}\n\nexport default EditCleanerDialog;\n","import React, {useEffect, useState} from 'react';\nimport PropTypes from \"prop-types\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport {assignRoomsToCleaner, getRooms, unAssignRooms} from \"../../utils/api\";\nimport styles from \"./RoomSelector.module.scss\";\nimport {\n  Button,\n  Checkbox, Dialog, DialogActions, DialogContent,\n  IconButton,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer, TableHead,\n  TablePagination,\n  TableRow, TableSortLabel, Toolbar, Tooltip, Typography\n} from \"@material-ui/core\";\nimport {getComparator, handleClick, stableSort} from \"../../utils/tableUtils\";\nimport {getRoomTypeProp, getStatus} from \"../../utils/utils\";\nimport {FilterList, VisibilityOutlined} from \"@material-ui/icons\";\nimport {useHistory} from \"react-router-dom\";\nimport moment from \"moment\";\nimport {lighten, makeStyles} from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\nimport TableFilters from \"../../pages/AssignmentsPage/TableFilters\";\n\nconst headCells = [\n  {id: 'name', numeric: false, disablePadding: true, label: 'Name'},\n  {id: 'building', numeric: true, disablePadding: false, label: 'Building'},\n  {id: 'floor', numeric: true, disablePadding: false, label: 'Floor'},\n  {id: 'cleaner', numeric: false, disablePadding: false, label: 'Assigned Cleaner'},\n  {id: 'status', numeric: false, disablePadding: false, label: 'Status'},\n  {id: 'contamination_index', numeric: true, disablePadding: false, label: 'Contamination index'},\n  {id: 'room_type', numeric: false, disablePadding: false, label: 'Room type'},\n  {id: 'last_cleaned', numeric: true, disablePadding: false, label: 'Last cleaned'},\n  {id: 'action', numeric: true, disablePadding: false, label: 'Action'},\n];\n\nfunction EnhancedTableHead(props) {\n  const {classes, onSelectAllClick, order, orderBy, numSelected, rowCount, onRequestSort} = props;\n  const createSortHandler = (property) => (event) => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            indeterminate={numSelected > 0 && numSelected < rowCount}\n            checked={rowCount > 0 && numSelected === rowCount}\n            onChange={onSelectAllClick}\n            inputProps={{'aria-label': 'select all desserts'}}\n          />\n        </TableCell>\n        {headCells.map((headCell) => (\n          <TableCell\n            key={headCell.id}\n            align={headCell.numeric ? 'right' : 'left'}\n            padding={headCell.disablePadding ? 'none' : 'default'}\n            sortDirection={orderBy === headCell.id ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === headCell.id}\n              direction={orderBy === headCell.id ? order : 'asc'}\n              onClick={createSortHandler(headCell.id)}\n            >\n              {headCell.label}\n              {orderBy === headCell.id ? (\n                <span className={classes.visuallyHidden}>\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  onSelectAllClick: PropTypes.func.isRequired,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired,\n};\n\nconst useToolbarStyles = makeStyles((theme) => ({\n  root: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n    textAlign: 'left',\n    flexDirection: 'column'\n  },\n  highlight:\n    theme.palette.type === 'light'\n      ? {\n        color: theme.palette.secondary.main,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n      }\n      : {\n        color: theme.palette.text.primary,\n        backgroundColor: theme.palette.secondary.dark,\n      },\n  filters: {\n    minHeight: 96\n  }\n}));\n\nconst EnhancedTableToolbar = (props) => {\n  const classes = useToolbarStyles();\n  const {numSelected, rooms, setRooms} = props;\n  const [filter, showFilters] = React.useState(false);\n\n\n  return (\n    <Toolbar\n      className={clsx(classes.root, {\n        [classes.highlight]: numSelected > 0,\n        [classes.filters]: filter\n      })}\n    >\n      <div className={styles.row}>\n        {numSelected > 0 ? (\n          <Typography className={styles.title} color=\"inherit\" variant=\"subtitle1\" component=\"div\"\n                      style={{fontWeight: 600}}>\n            {numSelected} selected\n          </Typography>\n        ) : (\n          <Typography className={styles.title} variant=\"h5\" id=\"tableTitle\" component=\"div\" style={{fontWeight: '600'}}>\n            Assign rooms to cleaner\n          </Typography>\n        )}\n        <Tooltip title=\"Filter list\">\n          <IconButton aria-label=\"filter list\" onClick={() => {\n            showFilters(!filter);\n          }}>\n            <FilterList color={filter ? 'secondary' : 'inherit'}/>\n          </IconButton>\n        </Tooltip>\n      </div>\n      {filter &&\n      <div className={styles.row}>\n        <TableFilters rooms={rooms} setRooms={setRooms}/>\n      </div>\n      }\n    </Toolbar>\n  );\n};\n\nEnhancedTableToolbar.propTypes = {\n  numSelected: PropTypes.number.isRequired,\n  setRooms: PropTypes.func.isRequired,\n  rooms: PropTypes.array.isRequired,\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 750,\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n}));\n\nconst RoomSelector = ({cleaner, onClose, open, setOpen, setSnackOpen, setSnackText}) => {\n  const classes = useStyles();\n  const [order, setOrder] = React.useState('asc');\n  const [orderBy, setOrderBy] = React.useState('name');\n  const [selected, setSelected] = React.useState([]);\n  const [page, setPage] = React.useState(0);\n  const [roomsPerPage, setRoomsPerPage] = React.useState(10);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [rooms, setRooms] = useState([]);\n  const [origRooms, setOrigRooms] = useState([]);\n  const history = useHistory();\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleSelectAllClick = (event) => {\n    if (event.target.checked) {\n      const newSelecteds = rooms.map((n) => n);\n      setSelected(newSelecteds);\n      return;\n    }\n    setSelected([]);\n  };\n\n  useEffect(() => {\n    getRooms(null, null, true)\n      .then((rooms) => {\n          console.log(rooms);\n          setRooms(rooms);\n          setOrigRooms(rooms);\n          setIsLoaded(true);\n        },\n        (error) => {\n          setIsLoaded(true);\n          console.log(error);\n        });\n  }, []);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRoomsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  const isSelected = (name) => selected.indexOf(name) !== -1;\n\n  const getDate = (date) => {\n    return date ? moment(date).format('YYYY-MM-DD HH:mm:ss') : 'Never';\n  }\n\n  const openRoom = (room) => {\n    const id = room['_id'];\n    history.push({\n      pathname: `/rooms/${id}`,\n      state: {id}\n    })\n  }\n\n  const getCleaner = (room) => {\n    const cleaners = room['assigned_cleaners'];\n    const cleaner = cleaners.length > 0 && cleaners[0];\n    if (!cleaner) {\n      return '-';\n    }\n    return cleaner.name;\n  }\n  const handleClose = () => {\n    onClose();\n    setOpen(false);\n  }\n\n  const assign = async () => {\n    const selectedWithCleaner = selected.filter((room) => {\n      return room['assigned_cleaners'].length > 0;\n    });\n    if (selectedWithCleaner.length > 0) {\n      await unAssignRooms(selectedWithCleaner);\n    }\n    await assignRoomsToCleaner(selected, cleaner['_id'])\n    setSnackText('Rooms assigned');\n    setSnackOpen(true);\n    onClose();\n    setOpen(false);\n  }\n  return (\n    <>\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\" disableBackdropClick={true}\n              maxWidth={\"lg\"}>\n        <DialogContent>\n          {isLoaded ?\n            <Paper className={classes.paper}>\n              <EnhancedTableToolbar numSelected={selected.length} rooms={origRooms} setRooms={setRooms}/>\n              <TableContainer>\n                <Table\n                  className={classes.table}\n                  aria-labelledby=\"tableTitle\"\n                  aria-label=\"enhanced table\"\n                  size={'small'}\n                >\n                  <EnhancedTableHead\n                    classes={classes}\n                    numSelected={selected.length}\n                    order={order}\n                    orderBy={orderBy}\n                    onSelectAllClick={handleSelectAllClick}\n                    onRequestSort={handleRequestSort}\n                    rowCount={rooms.length}\n                  />\n                  <TableBody>\n                    {stableSort(rooms, getComparator(order, orderBy))\n                      .slice(page * roomsPerPage, page * roomsPerPage + roomsPerPage)\n                      .map((row, index) => {\n                        const isItemSelected = isSelected(row);\n                        const labelId = `enhanced-table-checkbox-${index}`;\n\n                        return (\n                          <TableRow\n                            hover\n                            onClick={(event) => handleClick(event, row, selected, setSelected)}\n                            role=\"checkbox\"\n                            aria-checked={isItemSelected}\n                            tabIndex={-1}\n                            key={row.name}\n                            selected={isItemSelected}\n                            style={{height: '33px'}}\n                          >\n                            <TableCell padding=\"checkbox\">\n                              <Checkbox\n                                checked={isItemSelected}\n                                inputProps={{'aria-labelledby': labelId}}\n                              />\n                            </TableCell>\n                            <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\n                              {row.name}\n                            </TableCell>\n                            <TableCell align=\"right\">{row.building}</TableCell>\n                            <TableCell align=\"right\">{row.floor}</TableCell>\n                            <TableCell>{getCleaner(row)}</TableCell>\n                            <TableCell>{getStatus(row['contamination_index'])}</TableCell>\n                            <TableCell align=\"right\">{row['contamination_index']}</TableCell>\n                            <TableCell>{getRoomTypeProp(row, 'displayName')}</TableCell>\n                            <TableCell align=\"right\">{getDate(row['last_cleaned'])}</TableCell>\n                            <TableCell align=\"right\">\n                              <IconButton color={\"secondary\"} size={\"small\"}\n                                          onClick={() => {\n                                            openRoom(row)\n                                          }}>\n                                <VisibilityOutlined/>\n                              </IconButton>\n                            </TableCell>\n                          </TableRow>\n                        );\n                      })}\n                  </TableBody>\n                </Table>\n              </TableContainer>\n              <TablePagination\n                rowsPerPageOptions={[5, 10, 25, 50]}\n                component=\"div\"\n                count={rooms.length}\n                rowsPerPage={roomsPerPage}\n                page={page}\n                onChangePage={handleChangePage}\n                onChangeRowsPerPage={handleChangeRowsPerPage}\n              />\n            </Paper>\n            : <CircularProgress color=\"secondary\" style={{margin: '16px auto'}}/>\n          }\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button color=\"primary\" onClick={assign} disabled={selected.length === 0} variant={\"contained\"}>\n            Assign\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n\nRoomSelector.propTypes = {\n  cleaner: PropTypes.object.isRequired,\n  onClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  setOpen: PropTypes.func.isRequired,\n  setSnackOpen: PropTypes.func.isRequired,\n  setSnackText: PropTypes.func.isRequired\n}\n\nexport default RoomSelector;","import RoomSelector from './RoomSelector';\nexport default RoomSelector;","import React, {useEffect, useState} from \"react\";\nimport {useLocation, useHistory} from 'react-router-dom';\nimport {IconButton, Paper, Table, TableContainer, TableHead, TableRow, Typography} from \"@material-ui/core\";\nimport {getAssignedRooms, getCleaner, getReports, unAssignRoom, deleteCleaner as removeCleaner} from \"../../utils/api\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport {AccountCircleRounded, AddCircleOutline, Clear, DeleteForever, Edit} from \"@material-ui/icons\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport PageContainer from \"../../containers/PageContainer\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport {getRoomTypeProp, getStatus} from \"../../utils/utils\";\nimport CleaningReportsTable from \"../../components/CleaningReportsTable\";\nimport styles from './CleanerDetailsPage.module.scss';\nimport Button from \"@material-ui/core/Button\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport EditCleanerDialog from \"./EditCleanerDialog\";\nimport RoomSelector from \"../../components/RoomSelector\";\n\nconst CleanerDetailsPage = () => {\n  const location = useLocation();\n  const history = useHistory();\n  const params = location.state;\n  const [cleanerLoaded, setCleanerLoaded] = useState(false);\n  const [editing, setEditing] = useState(false);\n  const [cleaner, setCleaner] = useState({});\n  const [reports, setReports] = useState([]);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [open, setOpen] = React.useState(false);\n  const [data, getData] = React.useState(false);\n  const [snackOpen, setSnackOpen] = useState(false);\n  const [snackText, setSnackText] = useState('Cleaned deleted');\n  const [showRoomSelector, setShowRoomSelector] = useState(false);\n\n  const handleConfirmClose = () => {\n    setOpen(false);\n  };\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const deleteCleaner = async () => {\n    await removeCleaner(cleaner['_id']);\n    setSnackText('Cleaner Deleted');\n    setSnackOpen(true);\n    history.goBack();\n  }\n\n  const saved = () => {\n    setSnackText('Saved');\n    setSnackOpen(true);\n    getData(true);\n  }\n  const handleSnackClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setSnackOpen(false);\n  };\n\n  useEffect(() => {\n    getCleaner(params.id)\n      .then((room) => {\n          console.log(room);\n          setCleaner(room);\n          setCleanerLoaded(true);\n        },\n        (error) => {\n          console.log(error);\n        });\n    getReports(null, params.id)\n      .then((reports) => {\n        setReports(reports.sort((a, b) => new Date(b['cleaning_time']) - new Date(a['cleaning_time'])));\n      })\n  }, [params.id, data]);\n\n  return (\n    <PageContainer style={{textAlign: 'start'}}>\n      <div className={styles.row} style={{justifyContent: 'space-between'}}>\n        <Typography variant={\"h5\"} className={styles.semiBold}>Cleaner details</Typography>\n        <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick} variant={\"outlined\"}\n                color={\"primary\"}>\n          Actions\n        </Button>\n        <Menu\n          id=\"simple-menu\"\n          anchorEl={anchorEl}\n          keepMounted\n          open={Boolean(anchorEl)}\n          onClose={handleClose}\n        >\n          <MenuItem onClick={() => {\n            handleClose();\n            setEditing(true);\n          }}>\n            <ListItemIcon>\n              <Edit fontSize=\"small\" style={{color: '#808080'}}/>\n            </ListItemIcon>\n            <ListItemText primary=\"Edit cleaner\"/>\n          </MenuItem>\n          <MenuItem onClick={() => {\n            setOpen(true);\n            handleClose()\n          }}>\n            <ListItemIcon>\n              <DeleteForever color={\"error\"} fontSize=\"small\"/>\n            </ListItemIcon>\n            <ListItemText primary=\"Delete cleaner\"/>\n          </MenuItem>\n        </Menu>\n      </div>\n      {cleanerLoaded ? (\n        <>\n          <div className={[styles.row, styles.content].join(' ')}>\n            <AccountCircleRounded className={styles.avatar}/>\n            <div>\n              <Typography variant={\"h6\"} className={styles.semiBold}>Cleaner name: {cleaner.name}</Typography>\n              <Typography variant={\"body1\"} color={\"textSecondary\"}>\n                Shift: {cleaner['shift_start']} - {cleaner['shift_end']}\n              </Typography>\n            </div>\n          </div>\n          <div className={styles.row} style={{justifyContent: 'space-between'}}>\n            <Typography variant={\"h5\"} className={styles.semiBold}>Assigned Rooms</Typography>\n            <Tooltip title={\"Add assignments\"}>\n              <IconButton onClick={() => {\n                setShowRoomSelector(true);\n              }}>\n                <AddCircleOutline/>\n              </IconButton>\n            </Tooltip>\n          </div>\n          <AssignmentsTable cleaner={cleaner} setSnackOpen={setSnackOpen} setSnackText={setSnackText}/>\n          <CleaningReportsTable reports={reports} type={\"cleaner\"}/>\n        </>\n      ) : <CircularProgress color=\"secondary\" style={{margin: '16px auto'}}/>}\n      <Dialog\n        open={open}\n        onClose={handleConfirmClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{\"Delete cleaner\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            Are you sure you want to delete the cleaner?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleConfirmClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={() => {\n            handleConfirmClose();\n            deleteCleaner();\n          }} color=\"primary\" autoFocus>\n            Delete\n          </Button>\n        </DialogActions>\n      </Dialog>\n      {cleanerLoaded &&\n      <EditCleanerDialog cleaner={cleaner} open={editing} setOpen={setEditing} onSave={saved}/>}\n      <RoomSelector setSnackText={setSnackText} open={showRoomSelector} setSnackOpen={setSnackOpen}\n                    setOpen={setShowRoomSelector} onClose={() => {\n        getData(true);\n      }} cleaner={cleaner}/>\n      <Snackbar open={snackOpen} autoHideDuration={6000} onClose={handleSnackClose}\n                anchorOrigin={{vertical: \"top\", horizontal: \"center\"}}>\n        <Alert variant={\"filled\"} severity=\"success\" onClose={handleSnackClose}>\n          {snackText}\n        </Alert>\n      </Snackbar>\n    </PageContainer>\n  );\n}\n\nconst AssignmentsTable = ({cleaner, setSnackOpen, setSnackText}) => {\n  const [assignments, setAssignments] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    getAssignedRooms(cleaner['_id'])\n      .then((assignments) => {\n        console.log(assignments);\n        setAssignments(assignments);\n        setLoading(false);\n      }, (error) => {\n        console.log(error);\n      })\n  }, [cleaner]);\n\n  const removeAssignment = async (room) => {\n    const response = await unAssignRoom(room['_id'], cleaner['_id']);\n    console.log(response);\n    const newAssignments = [...assignments];\n    newAssignments.splice(assignments.indexOf(room), 1);\n    setAssignments(newAssignments);\n    setSnackText('Assignment removed');\n    setSnackOpen(true);\n  }\n\n  return (\n    <div style={{margin: '16px 0'}}>\n      {loading ? <CircularProgress color=\"secondary\"/> :\n        (\n          assignments.length > 0 ?\n            <TableContainer component={Paper}>\n              <Table size={\"small\"}>\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Room</TableCell>\n                    <TableCell align=\"right\">Status</TableCell>\n                    <TableCell align=\"right\">Contamination Index</TableCell>\n                    <TableCell align=\"right\">Room type</TableCell>\n                    <TableCell align=\"right\">Cleaning Status</TableCell>\n                    <TableCell>Action</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {assignments.map((row) => (\n                    <TableRow key={row['_id']}>\n                      <TableCell component=\"th\" scope=\"row\">{row.name}</TableCell>\n                      <TableCell align=\"right\">{getStatus(row['contamination_index'])}</TableCell>\n                      <TableCell align=\"right\">{row['contamination_index']}</TableCell>\n                      <TableCell align=\"right\">{getRoomTypeProp(row, 'displayName')}</TableCell>\n                      <TableCell\n                        align=\"right\">{row['is_cleaning'] ? 'Cleaning in progress' : 'Needs cleaning'}</TableCell>\n                      <TableCell>\n                        <Tooltip title={\"Remove assignment\"}>\n                          <IconButton size={\"small\"} onClick={() => {\n                            removeAssignment(row);\n                          }}>\n                            <Clear color={\"error\"}/>\n                          </IconButton>\n                        </Tooltip>\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </TableContainer> : <Typography variant={\"h6\"}>No assigned rooms</Typography>\n        )}\n    </div>\n  );\n}\n\nexport default CleanerDetailsPage;","import CleanerDetailsPage from './CleanerDetailsPage';\nexport default CleanerDetailsPage;","import ReportPage from './ReportPage';\nexport default ReportPage;\n","import React, {useEffect, useState} from 'react';\nimport {Link as RouterLink, useLocation} from \"react-router-dom\";\nimport {getHeatmap, getReport} from \"../../utils/api\";\nimport PageContainer from \"../../containers/PageContainer\";\nimport {Typography, Select, Grid} from \"@material-ui/core\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport styles from './ReportPage.module.scss';\nimport {Check, CloseRounded} from \"@material-ui/icons\";\nimport {getVariant, update_img} from \"../../utils/utils\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport moment from \"moment\";\nimport Link from \"@material-ui/core/Link\";\n\nconst ReportPage = () => {\n  const location = useLocation();\n  const {id} = location.state;\n  const [report, setReport] = useState({});\n  const [type, setType] = useState('');\n  const [error, setError] = useState(false);\n  const [errorMsg, setErrorMsg] = useState('');\n\n  useEffect(() => {\n    getReport(id)\n      .then((report) => {\n        setReport(report);\n      })\n  }, [id]);\n\n  const mapSelected = async (event) => {\n    setType(event.target.value);\n    await getHeatmap(id, event.target.value)\n      .then((res) => {\n        const aux = document.getElementById('aux');\n        const canvas = document.getElementById('main');\n        console.log(res)\n        update_img(res, aux, canvas, 1n);\n      }).catch((err) => {\n        console.error(err)\n        setErrorMsg('Could not load map');\n        setError(true);\n      });\n  }\n  const handleSnackClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setError(false);\n  };\n\n  const getIcon = (successful) => {\n    return successful ? (<Check className={styles.good} fontSize={\"large\"}/>) : (\n      <CloseRounded color={\"error\"} fontSize={\"large\"}/>);\n  }\n\n  return (\n    <PageContainer style={{textAlign: 'start'}}>\n      <Typography variant={\"h4\"} className={styles.semiBold}>Cleaning report details</Typography>\n      <Grid container spacing={2}>\n        <Grid item xs={6}>\n          <div className={styles.row} style={{justifyContent: 'space-between'}}>\n            <Typography variant={\"h5\"}>Room map</Typography>\n            <FormControl variant={'outlined'} style={{minWidth: '320px', marginBottom: 8}}>\n              <InputLabel id=\"demo-simple-select-outlined-label\">Contamination map type</InputLabel>\n              <Select label=\"Contamination map type\" onChange={mapSelected} value={type}>\n                <MenuItem value=\"clean\">After cleaning</MenuItem>\n                <MenuItem value=\"contamination\">Before cleaning</MenuItem>\n              </Select>\n            </FormControl>\n          </div>\n          <div style={{display: 'flex', flexDirection: 'column'}}>\n            <canvas id=\"aux\" style={{display: 'none'}}/>\n            <canvas id=\"main\" width={72} height={56} className={styles.map}/>\n          </div>\n          <Typography variant={\"h5\"}>Cleaner comments:</Typography>\n          <div className={styles.comments}>\n            <Typography variant={\"body1\"} className={styles.comment}>{report.comments}</Typography>\n          </div>\n        </Grid>\n        <Grid item xs={6}>\n          <div className={styles.row}>\n            <Typography variant={\"h5\"} className={styles.reportInfo}>Cleaner:</Typography>\n            <Link component={RouterLink} color=\"secondary\"\n                  to={{\n                    pathname: `/cleaners/${report['cleaner_id']}`,\n                    state: {id: report['cleaner_id']}\n                  }}>\n              <Typography style={{marginLeft: '4px'}} variant={\"h5\"}>{report['cleaner_name']}</Typography>\n            </Link>\n          </div>\n          <div className={styles.row}>\n            <Typography variant={\"h5\"} className={styles.reportInfo}>Room:</Typography>\n            <Typography style={{marginLeft: '4px'}} variant={\"h5\"}>{report['room_name']}</Typography>\n          </div>\n          <div className={styles.row}>\n            <Typography variant={\"h5\"} className={styles.reportInfo}>Cleaning time:</Typography>\n            <Typography style={{marginLeft: '4px'}}\n                        variant={\"h5\"}>{moment(report['cleaning_time']).format('YYYY-MM-DD HH:mm:ss')}</Typography>\n          </div>\n          <div className={styles.row}>\n            <Typography variant={\"h5\"} className={styles.reportInfo}>Cleaning successful:</Typography>\n            <div style={{marginLeft: 4, height: 35}}>{getIcon(report['cleaning_succesful'])}</div>\n          </div>\n          <div className={styles.row}>\n            <Typography variant={\"h5\"} className={styles.reportInfo}>Overview:</Typography>\n            <Typography style={{marginLeft: '4px'}} variant={\"h5\"}>{report.overview}</Typography>\n          </div>\n          <div className={styles.row}>\n            <Typography variant={\"h5\"} className={styles.reportInfo}>Contamination index:</Typography>\n            <Typography style={{marginLeft: '4px'}} variant={\"h5\"}\n                        className={styles[getVariant(report['contamination_index'])]}>{report['contamination_index']}</Typography>\n          </div>\n        </Grid>\n      </Grid>\n      <Snackbar open={error} autoHideDuration={6000} onClose={handleSnackClose}>\n        <Alert onClose={() => setError(false)} severity=\"error\">{errorMsg}</Alert>\n      </Snackbar>\n    </PageContainer>\n  )\n}\n\nexport default ReportPage;","import AdminPage from './AdminPage';\nexport default AdminPage;\n","import React, {useEffect, useState} from 'react';\nimport PageContainer from \"../../containers/PageContainer\";\nimport {Button, Divider, Typography} from \"@material-ui/core\";\nimport styles from \"./AdminPage.module.scss\";\nimport Slider from \"@material-ui/core/Slider\";\nimport {getSimulatorSettings, resetSimulation, setSimulation} from \"../../utils/api\";\nimport Input from \"@material-ui/core/Input\";\nimport Grid from \"@material-ui/core/Grid\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Card from \"@material-ui/core/Card\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\n\nconst AdminPage = () => {\n  const [simSpeed, setSimSpeed] = useState(10);\n  const [loading, setLoading] = useState(true);\n  const [snackOpen, setSnackOpen] = useState(false);\n  const [open, setOpen] = useState(false);\n  const [snackText, setSnackText] = useState('Simulation speed updated');\n\n  const handleSnackClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setSnackOpen(false);\n  };\n  useEffect(() => {\n    getSimulatorSettings()\n      .then((settings) => {\n        setSimSpeed(settings['simulator_speed']);\n        setLoading(false);\n      })\n  }, [])\n  const valuetext = (value) => {\n    return `${value}x`;\n  }\n\n  const generateMarks = () => {\n    const mark = [];\n    for (let i = 5; i <= 100; i += 5) {\n      mark.push({\n        value: i,\n        label: i\n      });\n    }\n    mark.unshift({\n      value: 0.1,\n      label: '0.1'\n    }, {\n      value: 0.5,\n    }, {\n      value: 1,\n    });\n\n    return mark;\n  }\n\n  const updateSimSpeed = () => {\n    setSimulation(simSpeed)\n      .then(() => {\n        setSnackText('Simulation speed updated');\n        setSnackOpen(true);\n      }).catch(() => setSnackOpen(true));\n  }\n  const handleChange = (event, newValue) => {\n    setSimSpeed(newValue);\n  };\n\n  const handleInputChange = (event) => {\n    setSimSpeed(event.target.value === '' ? '' : Number(event.target.value));\n  };\n\n  const handleBlur = () => {\n    if (simSpeed < 0.1) {\n      setSimSpeed(0);\n    } else if (simSpeed > 1000) {\n      setSimSpeed(1000);\n    }\n  };\n\n  const handleConfirmClose = () => {\n    setSnackText('Simulation reset');\n    setOpen(false);\n  };\n\n  return (\n    <PageContainer style={{textAlign: 'start'}}>\n      <Typography variant={\"h5\"}>Simulator</Typography>\n      {loading ? <CircularProgress style={{margin: \"auto\"}}/> :\n        <Grid container>\n          <Grid container className={styles.slider}>\n            <Grid item xs>\n              <div className={styles.row}>\n                <Typography id=\"discrete-slider\" gutterBottom>\n                  Simulation speed\n                </Typography>\n                <Button variant={\"text\"} color={\"primary\"} onClick={updateSimSpeed}>\n                  Set\n                </Button>\n              </div>\n            </Grid>\n            <Grid container spacing={2} direction={\"row\"}>\n              <Grid item style={{flex: 1}}>\n                <Slider\n                  getAriaValueText={valuetext}\n                  aria-labelledby=\"discrete-slider\"\n                  valueLabelDisplay=\"auto\"\n                  step={null}\n                  min={0.1}\n                  marks={generateMarks()}\n                  onChange={handleChange}\n                  value={simSpeed}\n                />\n              </Grid>\n              <Grid item>\n                <Input\n                  style={{width: 42}}\n                  value={simSpeed}\n                  margin=\"dense\"\n                  onChange={handleInputChange}\n                  onBlur={handleBlur}\n                  inputProps={{\n                    step: 5,\n                    min: 0,\n                    max: 1000,\n                    type: 'number',\n                    'aria-labelledby': 'input-slider',\n                  }}\n                />\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item style={{display: \"flex\", marginLeft: 32}} xs>\n            <Card className={styles.card}>\n              <div className={styles.cardContent}>\n                <Typography variant={\"h6\"} className={styles.semiBold}>Simulator actions</Typography>\n                <Divider className={styles.divider} light={true}/>\n                <Button onClick={() => {\n                  setOpen(true);\n                }} variant={\"contained\"} color={\"secondary\"}>Reset simulated rooms</Button>\n              </div>\n            </Card>\n          </Grid>\n        </Grid>\n      }\n      <Snackbar open={snackOpen} autoHideDuration={6000} onClose={handleSnackClose}\n                anchorOrigin={{vertical: \"top\", horizontal: \"center\"}}>\n        <Alert variant={\"filled\"} severity=\"success\" onClose={handleSnackClose}>\n          {snackText}\n        </Alert>\n      </Snackbar>\n      <Dialog\n        open={open}\n        onClose={handleConfirmClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">Reset simulated rooms</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            Are you sure you want to reset the rooms?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleConfirmClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={async () => {\n            handleConfirmClose();\n            resetSimulation().then(() => setSnackOpen(true)).catch(() => setSnackOpen(true));\n          }} color=\"primary\" autoFocus>\n            Reset\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </PageContainer>\n  )\n}\n\nexport default AdminPage;","import React from 'react';\nimport './App.scss';\nimport {Route, Switch, Redirect} from \"react-router-dom\";\nimport {authenticated as auth, getUser} from '../utils/api';\nimport DashboardPage from \"../pages/DashboardPage\";\nimport LoginPage from \"../pages/LoginPage\";\nimport CleanersPage from \"../pages/CleanersPage\";\nimport Toolbar from \"../components/Toolbar\";\nimport {useLocation} from 'react-router-dom';\nimport AnalysisPage from \"../pages/AnalysisPage\";\nimport RoomsPage from \"../pages/RoomsPage\";\nimport AssignmentsPage from \"../pages/AssignmentsPage\";\nimport RoomDetailsPage from \"../pages/RoomDetailsPage\";\nimport CleanerDetailsPage from \"../pages/CleanerDetailsPage\";\nimport ReportPage from \"../pages/ReportPage\";\nimport AdminPage from \"../pages/AdminPage\";\n\nfunction App() {\n  const location = useLocation();\n  const user = getUser();\n  const login = () => (auth() ? <Redirect to=\"/dashboard\"/> : <LoginPage/>);\n  const dash = () => (!auth() ? <Redirect to=\"/\"/> : <DashboardPage/>);\n  const cleaner = () => (!auth() ? <Redirect to=\"/\"/> : <CleanerDetailsPage/>);\n  const cleaners = () => (!auth() ? <Redirect to=\"/\"/> : <CleanersPage/>);\n  const assignments = () => (!auth() ? <Redirect to=\"/\"/> : <AssignmentsPage/>);\n  const rooms = () => (!auth() ? <Redirect to=\"/\"/> : <RoomsPage/>);\n  const room = () => (!auth() ? <Redirect to=\"/\"/> : <RoomDetailsPage/>);\n  const analysis = () => (!auth() ? <Redirect to=\"/\"/> : <AnalysisPage/>);\n  const report = () => (!auth() ? <Redirect to=\"/\"/> : <ReportPage/>);\n  const admin = () => (!auth() || !user.superAdmin ? <Redirect to=\"/\"/> : <AdminPage/>);\n\n  return (\n    <div className=\"App\">\n      {location.pathname !== '/' && <Toolbar/>}\n      <Switch location={location}>\n        <Route path={\"/dashboard\"} render={dash}/>\n        <Route path={\"/cleaners/:id\"} render={cleaner}/>\n        <Route path={\"/cleaners\"} render={cleaners}/>\n        <Route path={\"/assignments\"} render={assignments}/>\n        <Route path={\"/rooms/reports/:id\"} render={report}/>\n        <Route path={\"/rooms/:id\"} render={room}/>\n        <Route path={\"/rooms\"} render={rooms}/>\n        <Route path={\"/analysis\"} render={analysis}/>\n        <Route path={\"/simulator\"} render={admin}/>\n        <Route path={\"/\"} render={login}/>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './app/App';\nimport * as serviceWorker from './serviceWorker';\nimport {BrowserRouter} from \"react-router-dom\";\nimport {unstable_createMuiStrictModeTheme as createMuiTheme, StylesProvider, ThemeProvider} from '@material-ui/core/styles';\nimport {blueGrey, lightBlue} from \"@material-ui/core/colors\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: blueGrey[900],\n    },\n    secondary: lightBlue\n  },\n  typography: {\n    fontFamily: ['Raleway', 'sans-serif']\n  }\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename={'/spotless'}>\n      <ThemeProvider theme={theme}>\n        <StylesProvider injectFirst>\n          <App/>\n        </StylesProvider>\n      </ThemeProvider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"CleanerDetailsPage_content__3PEfI\",\"avatar\":\"CleanerDetailsPage_avatar__3KDG8\",\"row\":\"CleanerDetailsPage_row__G0VOc\",\"menu\":\"CleanerDetailsPage_menu__2gyF8\",\"column\":\"CleanerDetailsPage_column__3374X\",\"semiBold\":\"CleanerDetailsPage_semiBold__1F3iu\"};"],"sourceRoot":""}